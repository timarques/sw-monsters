<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" style="background: #000000 url('https://gppt.innogamescdn.com/images/game/common/water_base.png') repeat 0 0;"><head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="description" content="Grepolis - O jogo de browser passado na Antiguidade. Construa cidades magnÃ­ficas, crie pactos poderosos, utilize o poder dos deuses, conquiste o mundo!">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="format-detection" content="telephone=no">

    <!-- block auto-translate feature in chrome -->
    <meta name="google" value="notranslate">

    <title>Grepolis (36) - 54 042</title>
    <link rel="apple-touch-icon-precomposed" href="https://gppt.innogamescdn.com/images/game/start/touch-icon-57x57-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="72x72" href="https://gppt.innogamescdn.com/images/game/start/touch-icon-72x72-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="114x114" href="https://gppt.innogamescdn.com/images/game/start/touch-icon-114x114-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="https://gppt.innogamescdn.com/images/game/start/touch-icon-144x144-precomposed.png">
    <link rel="shortcut icon" href="https://gppt.innogamescdn.com/images/game/start/favicon.ico" type="image/x-icon">

                <link href="%C2%BA-_files/game_0.css" rel="stylesheet" type="text/css">
            <link href="%C2%BA-_files/game_1.css" rel="stylesheet" type="text/css">
            <link href="%C2%BA-_files/game_2.css" rel="stylesheet" type="text/css">
            <link href="%C2%BA-_files/game_3.css" rel="stylesheet" type="text/css">
            <link href="%C2%BA-_files/game_4.css" rel="stylesheet" type="text/css">
            <link href="%C2%BA-_files/game_5.css" rel="stylesheet" type="text/css">
            <link href="%C2%BA-_files/game_6.css" rel="stylesheet" type="text/css">
    
    <script type="text/javascript">
        //<![CDATA[
        window.Game = {"version":{"full":"2.209.0","branch":"2.209.0","revision":"949108d75a1d8524b365100caf95f6ee0eef9527","version":"2.209.0"},"admin":false,"ab":[],"animations":true,"audio_settings":{"audio_path":"https:\/\/gppt.innogamescdn.com\/audio\/","background_music":true,"sound_effects":true,"click_sounds":true,"sound_volume":10,"muted":true},"awards":{"categories":["event","daily_awards","end_game","combat","military_preparation","empire_progression","highscores","heroes","unobtainable"],"category_hashes":{"combat":"c67e934153b12cb625c5fa6f3ba70f67","heroes":"fbbede999422ec8f7189b0ad79948722","end_game":"f70373f9789e62ff0b6f49a3932ba0a9","military_preparation":"d4f311ad04c63f6a8c09d7c15dbea243","empire_progression":"6d77daaca5586bb5580b0e34b7f43446","highscores":"3d4c70ec852d454e7a698ee819db7177","daily_awards":"d1f69cf1522182079ede3cf673fbf1e5","event":"a30d2bdcf2e213ddbac51591dc68f4d5","unobtainable":"c3866890c1adae65c6c72b0e1b679f1f"},"tiers":{"m1":[0,25,50,75,100],"m2":[0,50,100,150,200],"m3":[0,100,200,300,400],"s1":[250],"s2":[500],"s3":[2000],"s4":[8000],"s5":[10000]}},"autoOpenTownIndex":false,"alliance_id":46,"controller":"index","constants":{"academy":{"points_per_academy_level":4,"points_per_library_level":12},"crm":{"call_to_action":{"none":"none","cashShop":"premium","inventory":"inventory","uri":"uri","cashShopPackageTab":"premium_package_tab","event":"event"},"channel":{"interstitial":"interstitial","link":"link"}},"framework":{"singleton_model_id":666},"ui":{"town_group":{"all_group_id":-1,"no_group_group_id":0}},"celebrations":{"games":{"cost":50}},"common":{"max_population_extra":300,"hide_storage_level_unlimited":-1,"max_storage_limit_per_hide_level":1000},"wonder":{"myth_units_modification_for_mausoleum":0.05,"storage_modification_for_pyramid":1500,"resource_production_modification_for_hanging_gardens":0.03,"max_expansion_stage":10,"wonder_start_grace_period_seconds":86400},"power":{"pest_resource_production_malus":0.5,"happiness_resource_production_boost":0.5,"happy_folks_resource_production_boost":0.75,"hermes_boost_resource_production_boost":0.5},"premium":{"trader_resource_boost":0.3,"finish_building_order_cost":25,"unit_order_build_time_reduction_cost":25,"finish_research_order_cost":25,"extend_power_cost":20,"curator":100,"captain":100,"commander":100,"priest":100,"trader":100},"units":{"militia_resource_production_bonus":0.5,"runtime_setup_time":180},"gods":["zeus","poseidon","hera","athena","hades","artemis"],"researches":{"pottery_storage_bonus":2500},"advent":{"shard_position":[2,4],"max_shards":5},"heroes":{"apheledes":"apheledes","agamemnon":"agamemnon","ajax":"ajax","alexandrios":"alexandrios","andromeda":"andromeda","argus":"argus","aristotle":"aristotle","atalanta":"atalanta","christopholus":"christopholus","daidalos":"daidalos","deimos":"deimos","democritus":"democritus","eurybia":"eurybia","ferkyon":"ferkyon","hector":"hector","helen":"helen","hercules":"hercules","iason":"iason","leonidas":"leonidas","lysippe":"lysippe","medea":"medea","melousa":"melousa","odysseus":"odysseus","orpheus":"orpheus","pariphaistes":"pariphaistes","perseus":"perseus","philoctetes":"philoctetes","pelops":"pelops","cheiron":"cheiron","rekonos":"rekonos","telemachos":"telemachos","themistokles":"themistokles","terylea":"terylea","urephon":"urephon","ylestres":"ylestres","zuretha":"zuretha"},"heroes_meta":{"max_level":20},"alliance":{"profile":{"max_field_length":65000}},"player":{"profile":{"max_profile_length":65000}},"island_quest":{"reward":{"reward_use":"use","reward_stash":"stash","reward_trash":"trash"}},"market":{"min_trading_sum":100,"max_exchange_ratio":3,"max_resources_for_trade":15000,"min_market_level_for_trade":0,"trade_capacity_per_market_level":500,"trade_capacity_per_market_level_with_office":750,"premium_exchange_trade_duration":1200,"needed_market_level_for_premium_exchange":3,"premium_exchange":{"resource_base_price":0.027,"resource_price_elasticity":0.0148,"stock_size_modifier":20000,"tax_rate":0.1}},"game_config":{"revolt_delay_seconds":43200,"revolt_duration_seconds":43200,"town_foundation_duration_seconds":43200,"conquest_time_hours":12},"notes":{"max_notes":5,"title_max_length":20,"text_max_length":8000},"maps":{"chunk_ttl_hours":2,"usable_game_town_spot_count_on_inhabitable_islands":20},"farm_towns":{"trade_ratio_default":1.25,"trade_ratio_bonus":0.1},"player_attack_spot":{"max_level":99},"colonization":{"basepoints":997},"casual_world":{"blessing_cooldown_days":7}},"bbcodes":{"b":"Negrito","i":"It\u00e1lico","u":"Sublinhado","s":"Riscado","center":"Centrado","quote":"Cita\u00e7\u00e3o","url":"Endere\u00e7o","player":"Jogador","ally":"Alian\u00e7a","town":"Cidade","size":"Tamanho da fonte","img":"Imagem","color":"Cor","report":"Relat\u00f3rio","award":"Medalha","island":"Ilha","table":"Tabela","font":"Tipo de letra","reservation":"Reserva de cidade","spoiler":"Spoiler","conquest":"Conquista","reward":"Recompensa","score":"Pontua\u00e7\u00e3o","application":"Candidatura a alian\u00e7a","invitation":"Convite de alian\u00e7a"},"csrfToken":"7148793b9438260476e73b210655bd39682a1ce4","dev":false,"event_wiki_url":"https:\/\/wiki.pt.grepolis.com\/wiki\/Navios_do_Egeu","olympus_wiki_url":"https:\/\/wiki.en.grepolis.com\/wiki\/Olympus","favors":"{\"zeus\":{\"current\":265,\"current_float\":265.5214385972311,\"production\":87.6,\"god\":\"Zeus\"},\"poseidon\":{\"current\":262,\"current_float\":262.28708345225857,\"production\":72.5,\"god\":\"Pos\\u00eddon\"},\"hera\":{\"current\":179,\"current_float\":179.0132251912625,\"production\":68.7,\"god\":\"Hera\"},\"athena\":{\"current\":440,\"current_float\":440.4132111659548,\"production\":46.6,\"god\":\"Atena\"},\"hades\":{\"current\":388,\"current_float\":388.60654542946725,\"production\":46.4,\"god\":\"Hades\"},\"artemis\":{\"current\":158,\"current_float\":158.7214510600525,\"production\":68.9,\"god\":\"Artemis\"}}","features":{"command_version":"old","build_cost_reduction_enabled":true,"heroes_enabled":true,"premium_exchange_active":true,"instant_buy":"pricing_a","extended_world_features":true,"rebalancing_enabled":true,"map_chunks_backbone":false,"battlepoint_villages":true,"push_building_build_data":true,"wonders_participation":"1","island_quest_rebalancing":"1","earlier_colonization_enabled":"1","is_domination_active":false,"end_game_type":"end_game_type_world_wonder","casual_world":false},"forum_url":"https:\/\/pt.forum.grepolis.com","master_url":"https:\/\/pt0.grepolis.com","game_url":"https:\/\/gppt.innogamescdn.com","game_speed":5,"gfx_level":1,"hero_wiki_url":"http:\/\/wiki.pt.grepolis.com\/wiki\/Her\u00f3is","img_hosting_whitelist_wiki_url":"https:\/\/wiki.en.grepolis.com\/wiki\/Image_sharing","internal_markets":["vv","xa","xg","xh","xx","yy"],"inventory_wiki_url":"http:\/\/wiki.pt.grepolis.com\/wiki\/Inventario","jump_to_town":0,"locale_gmt_offset":0,"locale_lang":"pt_PT","map_arrow_show_always":true,"map_scroll_acceleration":2,"map_chunks_poll_time":480000,"market_id":"pt","max_unit_orders":7,"max_building_orders":2,"max_building_orders_with_curator":7,"new_main_building":false,"new_unit_buildings":false,"page_type":"game","page_version":"v1","peace_ends_at":null,"peace_starts_at":null,"phoenician":{"immediate_call_gold_cost":50},"player_days_registered":32,"player_hint_settings":{"player_id":2208363,"militia_hint":true,"player_protection_finished_hint":true,"age_of_wonder_hint":false,"phoenician_salesman_hint":false,"ipad_hint":true,"heroes_welcome_hint":false,"grepolympia_hint":true,"world_ends_hint":false,"ipad_welcome_hint":false},"player_id":2208363,"player_name":"timarques","player_points":556774,"player_registered":null,"player_settings":{"player_id":2208363,"extend_premium_curator":false,"extend_premium_trader":false,"extend_premium_priest":false,"extend_premium_commander":false,"extend_premium_captain":false,"may_receive_emails":true,"reminder_on_new_report":false,"reminder_on_new_message":false,"reminder_on_build_finished":false,"quickbar_enabled":true,"timezone":"Europe\/Lisbon","language":"","town_group_overview_type":"show_resources","award_filter":"ally","map_arrow_type":"modern","delayed_report_deletion_until":null,"windowmgr_max_concurrent":0,"windowmgr_nav_scale":100,"use_localstore":true,"build_from_town_index_enabled":false,"gfx_level":1,"auto_open_townindex":true,"map_arrow_show_always":true,"map_show_supporting_units":true,"notification_on_build_finished":true,"notification_on_all_build_finished":false,"notification_phoenician_salesman":false,"notification_awards":true,"notification_spy_reports":false,"notification_fight_reports":false,"notification_fight_support":false,"notification_fight_support_own":false,"notification_returning_support":false,"notification_arriving_support":false,"notification_support_from_others":false,"notification_incoming_support":true,"notification_withdraw_support_own":false,"notification_spells_from_others":false,"notification_spells_from_myself":false,"notification_trade_reports":false,"notification_block_invitation":false,"notification_units_in_ghost_town":false,"report_fight_support_own":true,"report_returning_support":true,"report_withdraw_support_own":true,"report_arriving_support":true,"report_support_from_others":true,"report_spells_from_myself":false,"notification_receive_daily_non_winner_messages":true,"report_units_in_ghost_town":true,"show_confirmation_popups":false,"night_gfx":false,"night_gfx_city":false,"center_town_on_map":false,"map_movements":true,"background_music":true,"sound_effects":true,"click_sounds":true,"attack_sound":false,"sound_volume":10,"click_volume":0,"background_volume":0,"effect_volume":0,"muted":true,"animations_clouds":false,"animations_city":false,"animations_highlights":false,"tutorial_bar":true,"fixed_small_resolution":false,"building_queue_finished_email_sent":false,"activate_tutorial_arrow_by_default":false,"webnotification_combat_attack_incoming":false,"webnotification_combat_attack_reminder":false,"webnotification_combat_hero_healed":false,"webnotification_communication_report_arrived":false,"webnotification_communication_message_arrived":false,"webnotification_communication_alliance_message_arrived":false,"webnotification_island_island_quest_satisfied":false,"webnotification_island_island_quest_added":false,"webnotification_resources_storage_full":false,"webnotification_resources_favor_full":false,"webnotification_resources_trade_arrived":false,"webnotification_city_building_upgraded":false,"webnotification_city_barracks_unit_order_done":false,"webnotification_city_docks_unit_order_done":false,"webnotification_city_research_completed":false,"webnotification_city_advisor_running_out":false,"webnotifications_in_foreground":false},"player_timezone":"Europe\/Lisbon","player_villages":37,"player_vacation_started_at":null,"player_rank":4,"player_email_validated":true,"quest_tutorial_andromeda_exists":true,"quest_tutorial_running":false,"quest_tutorial_show_welcome_window":false,"quests_closed":117,"sentry":{"enabled":false,"dsn":null},"server_gmt_offset":0,"server_time":1584951439,"townId":3066,"townName":"54 042","unit_build_time_reduction":false,"unit_order_build_time_reduction_cost":25,"urlImg":"https:\/\/gppt.innogamescdn.com\/images","urlImg_null_false":"\/images","wiki_url":"https:\/\/wiki.pt.grepolis.com","world_id":"pt67","premium_user":true,"premium_features":{"commander":1582414905,"curator":1586041848,"captain":1586044125,"priest":1582413550,"trader":1585872117},"premium_data":{"curator":{"id":"curator","name":"Administrador","cost":100,"description":"O administrador ajuda-o a desenvolver e gerir um vasto imp\u00e9rio. Permite-lhe dar mais ordens de constru\u00e7\u00e3o e prepara-lhe um grande n\u00famero de vis\u00f5es gerais.","duration":14,"bonus":{"curator_queue":{"type":"curator_queue","amt":"+5","desc_popup":"A sua fila de constru\u00e7\u00e3o aumenta de duas para sete ordens simult\u00e2neas.","desc_popup_short":"locais de constru\u00e7\u00e3o","desc_index":"","desc_index_mobile":""},"curator_overview":{"type":"curator_overview","amt":"+11","desc_popup":"Vis\u00f5es gerais","desc_popup_short":"vis\u00f5es gerais","desc_index":"Vis\u00f5es gerais","desc_index_mobile":"Vis\u00f5es gerais"}}},"trader":{"id":"trader","name":"Mercador","cost":100,"description":"O mercador otimiza os seus ciclos econ\u00f3micos e permite aumentar 30% a sua produ\u00e7\u00e3o de recursos.","duration":14,"bonus":{"trader_res":{"type":"trader_res","amt":"+30%","desc_popup":"A sua produ\u00e7\u00e3o de recursos aumenta 30%.","desc_popup_short":"produ\u00e7\u00e3o de recursos","desc_index":"","desc_index_mobile":""}}},"priest":{"id":"priest","name":"Alta sacerdotisa","cost":100,"description":"A alta sacerdotisa tem uma rela\u00e7\u00e3o particularmente boa com os deuses. Ela aumenta a sua produ\u00e7\u00e3o de favores 50% e apoia as suas unidades m\u00edticas, que s\u00e3o 20% mais fortes em combate.","duration":14,"bonus":{"priest_favor":{"type":"priest_favor","amt":"+50%","desc_popup":"A sua produ\u00e7\u00e3o de favores aumenta 50%.","desc_popup_short":"produ\u00e7\u00e3o de favores","desc_index":"","desc_index_mobile":""},"priest_myth_units":{"type":"priest_myth_units","amt":"+20%","desc_popup":"A for\u00e7a em combate das suas unidades m\u00edticas aumenta 20%.","desc_popup_short":"unidades m\u00edticas mais fortes","desc_index":"","desc_index_mobile":""}},"myth_strenth_bonus":0.2},"commander":{"id":"commander","name":"Comandante","cost":100,"description":"O comandante goza da m\u00e1xima considera\u00e7\u00e3o no seio das suas tropas. Ele consegue aumentar ainda mais a motiva\u00e7\u00e3o das suas tropas. As unidades terrestres normais, s\u00e3o 20% mais fortes em combate.","duration":14,"bonus":{"commander_ground_units":{"type":"commander_ground_units","amt":"+20%","desc_popup":"A for\u00e7a em combate das suas unidades terrestres, normais, aumenta 20%.","desc_popup_short":"unidades terrestres mais fortes","desc_index":"","desc_index_mobile":""}},"ground_strength_bonus":0.2},"captain":{"id":"captain","name":"Capit\u00e3o","cost":100,"description":"O capit\u00e3o \u00e9 um marinheiro experiente que j\u00e1 derrotou muitas frotas inimigas. A sua experi\u00eancia torna as suas unidades navais 20% mais fortes em combate, ao passo que as suas mercadorias chegam \u00e0s outras ilhas com o dobro da rapidez. O capit\u00e3o tamb\u00e9m lhe permite utilizar o planeador de ataques (apenas dispon\u00edvel na vers\u00e3o de navegador). Al\u00e9m disso, ele simplifica a recolha de recursos com a vis\u00e3o geral das aldeias b\u00e1rbaras.","duration":14,"bonus":{"captain_naval_units":{"type":"captain_naval_units","amt":"+20%","desc_popup":"A for\u00e7a em combate das suas unidades navais aumenta 20%.","desc_popup_short":"unidades navais mais fortes","desc_index":"","desc_index_mobile":""},"captain_trade_speed":{"type":"captain_trade_speed","amt":"x2","desc_popup":"As suas mercadorias chegam \u00e0s outras ilhas com o dobro da rapidez.","desc_popup_short":"mercadoria duas vezes mais r\u00e1pida","desc_index":"","desc_index_mobile":""},"captain_attack_planer":{"type":"captain_attack_planer","amt":"","desc_popup":"Planeador de ataques","desc_popup_short":"Project-Id-Version: PACKAGE VERSION\nReport-Msgid-Bugs-To: \nPO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\nLast-Translator: FULL NAME <EMAIL@ADDRESS>\nLanguage-Team: LANGUAGE <LL@li.org>\nLanguage: \nMIME-Version: 1.0\nContent-Type: text\/plain; charset=UTF-8\nContent-Transfer-Encoding: 8bit\nPlural-Forms: nplurals=2; plural=n!=1;\nX-IG-Plural-Samples: 1,2\n","desc_index":"Planeador de ataques","desc_index_mobile":"Planeador de ataques"},"captain_farm_town":{"type":"captain_farm_town","amt":"","desc_popup":"Vis\u00e3o geral das aldeias b\u00e1rbaras","desc_popup_short":"Project-Id-Version: PACKAGE VERSION\nReport-Msgid-Bugs-To: \nPO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\nLast-Translator: FULL NAME <EMAIL@ADDRESS>\nLanguage-Team: LANGUAGE <LL@li.org>\nLanguage: \nMIME-Version: 1.0\nContent-Type: text\/plain; charset=UTF-8\nContent-Transfer-Encoding: 8bit\nPlural-Forms: nplurals=2; plural=n!=1;\nX-IG-Plural-Samples: 1,2\n","desc_index":"Vis\u00e3o geral das aldeias b\u00e1rbaras","desc_index_mobile":"Vis\u00e3o geral das aldeias b\u00e1rbaras"}},"naval_strength_bonus":0.2}},"is_admin_mode_with_premium":false,"tutorial_bar_quests":0,"had_island_quests":true,"debug_check":false,"new_worlds_exists":false,"world_start_timestamp":1581584667,"last_stand_duration_days":10.5,"last_stand_planning_days":14,"end_peace_days":14,"domination_goal_reduction_recalculation_days":14,"age_of_wonder_started_at":0,"is_registration_possible":true,"olympus":{"olympus_stage":false},"attack_types":{"hack":"Brusco","pierce":"Afiado","distance":"Alinhado"},"mythical_types":{"mythical":"M\u00edtica","non-mythical":"N\u00e3o m\u00edtica"},"bot_check":null,"recaptcha2":{"site_key":"6LfPIQ4UAAAAALzQfk3dlDs9hdPC6dtuosXy6vDl"},"mission_event":{"box_rewards":[{"level_id":1,"power_id":"resource_boost","configuration":{"type":"stone","percent":50,"lifetime":21600,"level":0}},{"level_id":2,"power_id":"unit_movement_boost","configuration":{"percent":30,"lifetime":36000,"level":10}},{"level_id":3,"power_id":"resource_boost","configuration":{"type":"wood","percent":50,"lifetime":21600,"level":0}},{"level_id":4,"power_id":"epic_defense_boost","configuration":{"percent":10,"lifetime":86400}},{"level_id":5,"power_id":"unit_training_boost","configuration":{"type":"harpy","amount":5,"lifetime":10800,"level":3}},{"level_id":6,"power_id":"epic_attack_boost","configuration":{"percent":20,"lifetime":86400}},{"level_id":7,"power_id":"resource_boost","configuration":{"type":"all","percent":50,"lifetime":21600,"level":0}},{"level_id":8,"power_id":"rare_favor_boost","configuration":{"percent":500,"lifetime":3000,"level":5}},{"level_id":9,"power_id":"rare_resource_boost","configuration":{"type":"all","percent":500,"lifetime":3600,"level":6}},{"level_id":10,"power_id":"missions_power_1","configuration":{"percent":100,"lifetime":1209600,"type":"missionsskinpandora"}},{"level_id":11,"power_id":"rare_favor_boost","configuration":{"percent":500,"lifetime":3000,"level":5}},{"level_id":12,"power_id":"population_boost","configuration":{"amount":50,"type":"small"}},{"level_id":13,"power_id":"myrmidion_attack","configuration":{"lifetime":43200,"attack_percent":10,"defense_percent":-10}},{"level_id":14,"power_id":"wedding_of_the_aristocrats","configuration":{"percent":5,"lifetime":18000,"level":5}},{"level_id":15,"power_id":"unit_training_boost","configuration":{"type":"manticore","amount":5,"lifetime":7200,"level":2}},{"level_id":16,"power_id":"trojan_defense","configuration":{"lifetime":43200,"wall_bonus":1,"militia_bonus":5,"farm_level_cap":25}},{"level_id":17,"power_id":"epic_resource_boost","configuration":{"type":"all","percent":1000,"lifetime":3600,"level":6}},{"level_id":18,"power_id":"passionate_population","configuration":{"percent":30,"lifetime":18000,"level":5}},{"level_id":19,"power_id":"divine_aura","configuration":{"percent":20,"lifetime":18000,"level":5}},{"level_id":20,"power_id":"missions_power_2","configuration":{"percent":50,"lifetime":1209600,"type":"missionsskinpandora"}},{"level_id":21,"power_id":"sudden_aid","configuration":{"percent":5,"lifetime":18000,"level":5}},{"level_id":22,"power_id":"longterm_unit_order_boost","configuration":{"percent":20,"lifetime":1209600,"level":2}},{"level_id":23,"power_id":"epic_favor_boost","configuration":{"percent":1000,"lifetime":3000,"level":5}},{"level_id":24,"power_id":"longterm_defense_boost","configuration":{"percent":5,"lifetime":1209600,"level":2}},{"level_id":25,"power_id":"population_boost","configuration":{"amount":100,"type":"big"}},{"level_id":26,"power_id":"unit_training_boost","configuration":{"type":"harpy","amount":5,"lifetime":18000,"level":5}},{"level_id":27,"power_id":"luxurious_residence","configuration":{"lifetime":2419200,"attack_modifier":1,"defense_modifier":1,"amount":2,"level":1}},{"level_id":28,"power_id":"summoning_of_the_nereids","configuration":{"percent":30,"lifetime":18000,"level":5}},{"level_id":29,"power_id":"unit_training_boost","configuration":{"type":"bireme","amount":5,"lifetime":14400,"level":4}},{"level_id":30,"power_id":"missions_power_3","configuration":{"percent":50,"lifetime":1209600,"type":"missionsskinpandora"}},{"level_id":31,"power_id":"demoralizing_plague","configuration":{"percent":3,"lifetime":18000,"level":5}},{"level_id":32,"power_id":"unit_training_boost","configuration":{"type":"attack_ship","amount":5,"lifetime":14400,"level":4}},{"level_id":33,"power_id":"longterm_attack_boost","configuration":{"percent":10,"lifetime":1209600,"level":2}},{"level_id":34,"power_id":"suffering_and_mourning","configuration":{"percent_production":-30,"percent_recruitment":-20,"effect_runtime_hours":12,"lifetime":18000,"level":5}},{"level_id":35,"power_id":"unit_training_boost","configuration":{"type":"griffin","amount":5,"lifetime":14400,"level":4}},{"level_id":36,"power_id":"population_boost","configuration":{"amount":300,"type":"ultra"}},{"level_id":37,"power_id":"chain_lightning","configuration":{"percent":2,"lifetime":18000,"level":5}},{"level_id":38,"power_id":"unit_training_boost","configuration":{"type":"manticore","amount":5,"lifetime":18000,"level":5}},{"level_id":39,"power_id":"acumen","configuration":{"lifetime":43200,"factor":2}},{"level_id":40,"power_id":"missions_power_4","configuration":{"percent":50,"lifetime":1209600,"type":"missionsskinpandora"}}]}};
        window.GameData = {};
        window.data_dates = {"frontendBridge":1584369459,"buildings":1567606724,"powers":1584369459,"godPowersTown":1584369459,"units":1580807380,"inventoryItems":1584369459,"heroes":1579004081,"progressable":1584369459,"campaignUnits":1584369459,"campaignStages":1584369459,"campaignMeta":1584369459,"easterIngredients":0};
        //]]>
    </script>
                <script type="text/javascript" src="%C2%BA-_files/game.js"></script>
    
    <script type="text/template" id="tpl_spinner">
	<div class="border_l"></div>
	<div class="border_r"></div>
	<div class="body">
		<input placeholder="<%= min %>" type="text" name="" tabindex="1" />
	</div>
	<div class="button_up"></div>
	<div class="button_down"></div>
</script>

<script type="text/template" id="tpl_grepolympia_training_slot">
	<div id="" class="premium">
		<div><%= buy_slot %></div>
		<div><%= buy_slot_cost %><span class="gold_icon_slot"></span></div>
	</div>
</script>

<script type="text/template" id="tpl_dd_units">
	<div id="dd_res_offer" class="dropdown units">
		<div class="caption">
			<div class="button_new square plus"></div>
		</div>
		<div class="dropdown-list units">
			<div class="highlight"></div>
			<div class="item-list">
				<div class="border_l"></div>
				<div class="border_r"></div>
				<ul class="items">
					<% var i, l = options.length, option;

					for (i = 0; i < l; i++) {
						option = options[i]; %>
						<li>
							<div class="option unit_icon50x50 <%= option.value %>" name="<%= option.value %>">
								<span class="count"><%= option.name %></span>
							</div>
						</li>
					<% } %>
				</ul>
			</div>
			<div class="item_count_selector">
				<div class="unit_count_box">
					<div class="grepo_slider"></div>
					<div class="unit_count textbox"></div>
					<div class="square button_new accept"></div>
				</div>
				<div class="description js-description">
					<div class="unit_name">Swordsmen</div>
					<div class="training_points"></div>
					<div class="training_points_value"></div>
					<div class="max_per_slot"></div>
					<div class="max_per_slot_value"></div>
					<div class="time_per_unit"></div>
					<div class="time_per_unit_value"></div>
				</div>
			</div>
		</div>
	</div>
</script>

<script type="text/template" id="tpl_spinner_slider">
	<div class="border_l"></div>
	<div class="border_r"></div>
	<div class="body">
		<input type="text" name="" tabindex="1" />
	</div>
	<div class="btn_dropdown button"></div>
</script>

<script type="text/template" id="tpl_image_box_slider">
	<div class="image_box_slider">
		<div class="portrait_box">
		<div class="boxed_image <%= icon_type %>"></div>
	</div>

	<div class="boxed_slider">
		<div class="top-border"></div>

		<div class="content">
			<div class="order_count" action="javascript:void(0)" method="post">
				<div class="order_min button_new"></div>
				<div class="order_max button_new"></div>
				<div class="slider grepo_slider inner_slider"></div>
				<div class="textbox order_input"></div>
				<div class="order_confirm button_new square"></div>
			</div>
		</div>

		<div class="bottom-border"></div>
	</div>

	<div class="right-border clearfix"></div>
</script>

<script type="text/template" id="tpl_map_coordinates_widget">
	<div class="dd_coordinates" id="dd_coordinates"></div>
	<div class="coord coord_x js-coord-x"><input /></div>
	<div class="coord coord_y js-coord-y"><input /></div>
	<div class="button js-coord-button"></div>
</script>

<script type="text/template" id="tpl_dd_map_coordinates"><!--
	<div id="dd_res_offer" class="dropdown default">-->
		<div class="dropdown-list sandy-box js-dropdown-list">
			<div class="corner_tl"></div>
			<div class="corner_tr"></div>
			<div class="corner_bl"></div>
			<div class="corner_br"></div>

			<div class="border_t"></div>
			<div class="border_b"></div>
			<div class="border_l"></div>
			<div class="border_r"></div>

			<div class="middle"></div>

			<div class="content js-dropdown-item-list">
				<% var i, l = options.length, option;

				for (i = 0; i < l; i++) {
					option = options[i]; %>
					<div class="item bookmark option <%= i % 2 === 0 ? 'even' : 'odd' %>" name="<%= option.value %>">
						<div class="button_new square remove js-delete"></div>
						<%= option.name %>
					</div>
				<% }
				if (l === 0) { %>
					<div class="item no_results"><%= l10n.no_results %></div>
				<% } %>
			</div>
		</div>
	<!--</div>
--></script>

<script type="text/template" id="tpl_scrollbar">
	<div class="scrollbar js-sb-<%= uid %>">
		<div class="scrollbar-arrow1 js-sb-arrow1"></div>
		<div class="scrollbar-arrow2 js-sb-arrow2"></div>
		<div class="scrollbar-slider-container js-sb-slider-container">
			<div class="scrollbar-slider js-sb-slider"></div>
		</div>
	</div>
</script>
<script type="text/template" id="tpl_skinable_scrollbar">
	<div class="scrollbar skinable-scrollbar js-sb-<%= uid %>">
		<div class="scrollbar-arrow1 js-sb-arrow1"></div>
		<div class="scrollbar-arrow2 js-sb-arrow2"></div>
		<div class="scrollbar-slider-container js-sb-slider-container">
			<div class="skinable-scrollbar-background">
				<div class="skinable-scrollbar-background-top"></div>
				<div class="skinable-scrollbar-background-center"></div>
				<div class="skinable-scrollbar-background-bottom"></div>
			</div>
			<div class="scrollbar-slider js-sb-slider">
				<div class="skinable-scrollbar-slider-top"></div>
				<div class="skinable-scrollbar-slider-center"></div>
				<div class="skinable-scrollbar-slider-bottom"></div>
			</div>
		</div>
	</div>
</script>
<script type="text/template" id="tpl_skinable_horizontal_scrollbar">
	<div class="skinable_horizontal_scrollbar js-sb-<%= uid %>">
		<div class="scrollbar-slider-container js-sb-slider-container">
			<div class="skinable-scrollbar-background"></div>
			<div class="scrollbar-slider js-sb-slider">
				<div class="scrollbar-slider-left"></div>
				<div class="scrollbar-slider-middle"></div>
				<div class="scrollbar-slider-right"></div>
			</div>
		</div>
	</div>
</script>
<script type="text/template" id="tpl_small_scrollbar">
	<div class="scrollbar skinable-scrollbar js-sb-<%= uid %>">
		<div class="scrollbar-arrow1 js-sb-arrow1"></div>
		<div class="scrollbar-arrow2 js-sb-arrow2"></div>
		<div class="skinable-scrollbar-background">
			<div class="skinable-scrollbar-background-top"></div>
			<div class="skinable-scrollbar-background-center"></div>
			<div class="skinable-scrollbar-background-bottom"></div>
		</div>
		<div class="scrollbar-slider-container js-sb-slider-container">
			<div class="scrollbar-slider js-sb-slider">
				<div class="skinable-scrollbar-slider-top"></div>
				<div class="skinable-scrollbar-slider-center"></div>
				<div class="skinable-scrollbar-slider-bottom"></div>
			</div>
		</div>
	</div>
</script>

<script type="text/template" id="tpl_button">
		<div class="left"></div>
		<div class="right"></div>
		<div class="caption js-caption"><% if (icon && icon_position === 'left') { %><div class="icon"></div><% } %><%= caption %><% if (icon && icon_position === 'right') { %><div class="icon"></div><% } %><div class="effect js-effect"></div></div>
</script>

<script type="text/template" id="tpl_emptybutton">
		<div class="caption js-caption"><%= caption %></div>
</script>

<script type="text/template" id="tpl_simplebutton">
		<div class="caption js-caption <%= (icon ? 'icon_' + icon + ' icon_pos_' + icon_position : '') %>"><div class="btn_icon"></div><%= caption %></div>
</script>

<script type="text/template" id="tpl_simplebutton_borders">
		<div class="left"></div>
		<div class="right"></div>
		<div class="middle">
			<div class="caption js-caption"><% if (icon && icon_position === 'left') { %><div class="icon"></div><% } %><%= caption %><% if (icon && icon_position === 'right') { %><div class="icon"></div><% } %>
				<div class="effect js-effect"></div>
			</div>
		</div>
</script>

<script type="text/template" id="tpl_big_button">
		<div class="left"></div>
		<div class="right"></div>
		<div class="middle">
			<div class="caption js-caption <%= (icon ? 'icon_' + icon + ' icon_pos_' + icon_position : '') %>"><div class="icon"></div><%= caption %></div>
		</div>
</script>

<script type="text/template" id="tpl_button_buret">
		<div class="icon <%= icon ? icon_type : '' %>"></div>
		<div class="caption js-caption"><%= caption %></div>
		<% if (typeof submenu_data !== 'undefined') { %>
		<a class="<%= submenu_class %> cover_parent" href="#<%= submenu_data ? btoa(JSON.stringify(submenu_data)) : 'skip_parsing' %>"></a>
		<% } %>
</script>

<script type="text/template" id="tpl_button_reward">
		<div class="caption js-caption"><%= caption %></div>
		<% if (typeof submenu_data !== 'undefined') { %>
		<a class="<%= submenu_class %> cover_parent" href="#<%= submenu_data ? btoa(JSON.stringify(submenu_data)) : 'skip_parsing' %>"><div class="icon <%= icon ? icon_type : '' %>"></div></a>
		<% } %>
</script>

<script type="text/template" id="tpl_button_simple_reward">
		<div class="left"></div>
		<div class="right"></div>
		<div class="caption js-caption"><% if (icon && icon_position === 'left') { %><div class="icon"></div><% } %><%= caption %><% if (icon && icon_position === 'right') { %><div class="icon"></div><% } %><div class="effect js-effect"></div></div>
		<% if (typeof submenu_data !== 'undefined') { %>
		<a class="<%= submenu_class %> cover_parent" href="#<%= submenu_data ? btoa(JSON.stringify(submenu_data)) : 'skip_parsing' %>"></a>
		<% } %>
</script>

<script type="text/template" id="tpl_large_button">
		<div class="left"></div>
		<div class="right"></div>
		<div class="middle caption js-caption"><%= caption %></div>
</script>

<script type="text/template" id="tpl_button_filter">
	<div class="resource <%= resource %>"></div>
</script>

<script type="text/template" id="tpl_button_layout_activity">
	<div class="hover_state">
	<div class="icon">
	<div class="count js-caption"><%= caption %></div>
	</div>
	</div>
	<div class="dropdown_box js-dropdown" id="<%= icon_type %>">
	</div>
</script>

<script type="text/template" id="tpl_pager">
	<div class="page_number page_text"></div>
</script>

<script type="text/template" id="tpl_menu">
	<div class="menu_list"></div>
</script>

<script type="text/template" id="tpl_dd_default"><!--
	<div id="dd_res_offer" class="dropdown default">-->
		<% var sel_option = options.searchFor('value', value); %>
		<div class="border-left"></div>
		<div class="border-right"></div>
		<div class="caption"><%= sel_option.length ? sel_option[0].name : '' %></div>
		<div class="initial-message-box js-empty"></div>
		<div class="arrow"></div>
		<div class="dropdown-list default">
			<div class="item-list">
				<% var i, l = options.length, option;

				for (i = 0; i < l; i++) {
					option = options[i]; %>
					<div class="option" name="<%= option.value %>"><%= option.name %></div>
				<% } %>
			</div>
		</div>
	<!--</div>
--></script>

<script type="text/template" id="tpl_dd_square"><!--
	<div id="dd_xxxx" class="square_dropdown">-->
		<div class="dropdown_list_square js-dropdown-list">
			<div class="bbcode_box middle_center ">
				<div class="bbcode_box top_left"></div>
				<div class="bbcode_box top_right"></div>
				<div class="bbcode_box top_center"></div>
				<div class="bbcode_box bottom_center"></div>
				<div class="bbcode_box bottom_right"></div>
				<div class="bbcode_box bottom_left"></div>
				<div class="bbcode_box middle_left"></div>
				<div class="bbcode_box middle_right"></div>
				<div class="bbcode_box content clearfix js-dropdown-item-list">
					<% var i, l = options.length, option;

					for (i = 0; i < l; i++) {
						option = options[i]; %>
						<div class="option" name="<%= option.value %>"><%= option.name %></div>
					<% } %>
				</div>
			</div>
		</div>
	<!--</div>
--></script>

<script type="text/template" id="tpl_dd_resources"><!--
	<%
		// TODO remove this when gold trading is standard
		var old_suffix = options.length === 3 ? ' old' : '';
	%>
	<div id="dd_res_offer" class="dropdown resources">-->
		<div class="caption"></div>
		<div class="dropdown-list resources<%= old_suffix %>">
			<div class="item-list"><%
				var i, l = options.length, option;

				for(i = 0; i < l; i++) {
					option = options[i]; %>
					<div class="option <%= option.value %>" name="<%= option.value %>"></div>
				<% } %>
			</div>
		</div>
	<!--</div>
--></script>

<script type="text/template" id="tpl_pb_single">
		<div class="border_l"></div>
		<div class="border_r"></div>
		<div class="body"></div>
		<div class="progress">
			<div class="indicator"></div>
		</div>
		<div class="caption">
			<span class="text"><%= caption || '' %></span> <span class="value_container"><% if (show_value) { %><span class="curr"></span>
			<% if (type !== 'percentage' && type !== 'time') { %>
				/ <span class="max"></span>
			<% } %>
			<% } %>
			</span>
		</div>
</script>

<script type="text/template" id="tpl_pb_single_placeholder">
	<div class="single-progressbar-placeholder">
		<div class="border_l"></div>
		<div class="border_r"></div>
		<div class="body"></div>
		<div class="progress">
			<div class="indicator"></div>
		</div>
		<div class="caption">
			<span class="text"><%= caption || '' %></span> <span class="placeholder"><%= reverse_progress ? (max - value) : value %>%</span><span class="curr"></span>
		</div>
	</div>
</script>

<script type="text/template" id="tpl_pb_single_nomax">
		<div class="border_l"></div>
		<div class="border_r"></div>
		<div class="body"></div>
		<div class="progress">
			<div class="indicator"></div>
		</div>
		<div class="caption">
			<span class="text"></span> <span class="curr"></span>
		</div>
</script>

<script type="text/template" id="tpl_pb_single_nomax_bg">
		<div class="background"></div>
		<div class="border_l"></div>
		<div class="border_r"></div>
		<div class="body"></div>
		<div class="progress">
			<div class="indicator"></div>
		</div>
		<div class="caption">
			<span class="text"></span> <span class="curr"></span>
		</div>
</script>
<script type="text/template" id="tpl_pb_time_progress_only">
		<div class="progress">
			<div class="indicator"></div>
		</div>
		<div class="caption">
			<span class="text"></span> <span class="curr"></span>
		</div>
</script>

<script type="text/template" id="tpl_pb_time_and_value">
		<div class="info">
			<span class="caption js-caption"></span>
			<% if(show_value) { %>
				<span class="value js-real-value"></span>
			<% } %>
			<% if(show_real_max) { %>
			/ <span class="max js-real-max"></span>
			<% } %>
			<span class="time js-value"></span>
		</div>
		<div class="progress">
			<div class="indicator"></span></div>
		</div>
</script>

<script type="text/template" id="tpl_pb_time_without_numbers">
	<div class="info">
		<span class="caption js-caption"></span>
	</div>
	<div class="progress">
		<div class="indicator js-indicator"><span class="timer_output js-value"></span></div>
	</div>
</script>

<script type="text/template" id="tpl_pb_time_and_value_with_deco">
		<div class="border_l"></div>
		<div class="border_r"></div>
		<div class="body"></div>

		<div class="info">
			<span class="caption js-caption"></span>
			<span class="value js-real-value"></span>
			<% if(show_real_max) { %>
			/ <span class="max js-real-max"></span>
			<% } %>
			<% if(real_unit) { %>
			<span class="unit js-real_unit"><%= real_unit %></span>
			<% } %>
			<span class="time js-value <%= show_value?'':'hide'%>"></span>
		</div>
		<div class="progress">
			<div class="indicator"></span></div>
		</div>
</script>

<script type="text/template" id="tpl_pb_vertical_with_indicator">
	<div class="progress">
		<div class="indicator">
			<div class="value js-value"></div>
		</div>
	</div>
</script>

<script type="text/template" id="tpl_pb_high_progress">
	<div class="border_left"></div>
	<div class="progress">
		<div class="indicator js-indicator">
			<div class="progress_left"></div>
			<div class="progress_middle"></div>
			<div class="progress_right"></div>
		</div>
		<div class="value js-value"></div>
	</div>
	<div class="border_right"></div>
</script>

<script type="text/template" id="tpl_pb_tripple">
	<div class="border_l"></div>
	<div class="border_r"></div>
	<div class="body"></div>
	<div class="progress">
		<div class="indicator"></div>
		<div class="indicator2"></div>
		<div class="indicator3"></div>
	</div>
	<div class="amounts"><span class="curr"></span> <span class="curr2"></span> <span class="curr3"></span> / <span class="max"></span></div>
</script>

<script type="text/template" id="tpl_pb_round">
	<div class="background"></div>
	<div class="indicator">
		<div class="animate js-animate"></div>
	</div>
	<div class="face"></div>
</script>

<script type="text/template" id="tpl_pb_community_goal_element">
		<div class="progress">
			<div class="indicator"></div>
		</div>
		<div class="caption">
			<span class="text"><%= caption %></span>
			<div class="icon"></div>
		</div>
</script>

<script type="text/template" id="tpl_radiobutton">
	<% for (var i = 0, l = options.length; i < l; i++) {
		var option = options[i];
	%>
		<div class="option js-option" name="<%= option.value %>">
			<div class="pointer"></div><%= option.name %>
		</div>
	<% } %>
</script>

<script type="text/template" id="tpl_radiobutton_resource_filter">
	<% for (var i = 0, l = options.length; i < l; i++) {
		var option = options[i];
	%>
		<div class="filter_button js-option option <%= option.value %>" name="<%= option.value %>">
			<div class="resource <%= option.value %>"></div>
		</div>
	<% } %>
</script>

<script type="text/template" id="tpl_radiobutton_nocaption">
	<% for (var i = 0, l = options.length; i < l; i++) {
		var option = options[i],
			excluded = us.indexOf(exclusions, option.value) > -1;
	%>
		<div class="option <%= option.value %> <%= (css_classes.option || '') %> js-option <%= (excluded ? 'disabled' : '') %>" name="<%= option.value %>"><div class="pointer"></div></div>
	<% } %>
</script>

<script type="text/template" id="tpl_rb_sort_by">
	<% var i, l = options.length, option;
	for (i = 0; i < l; i++) {
		option = options[i];
		%>
		<div class="option <%= option.value %> js-option" name="<%= option.value %>" <%= option.title ? 'title="' + option.title + '"' : '' %>>
			<div class="pointer"></div>
		</div>
	<% } %>
</script>

<script type="text/template" id="tpl_rb_universal">
	<% var i, l = options.length, option;
	for (i = 0; i < l; i++) {
		option = options[i];
		%>
		<div class="option js-option" name="<%= option.value %>">
			<div class="pointer"><div class="bullet"></div></div>
			<div class="caption <%= option.name?'':'empty'%>"><%= option.name %></div>
		</div>
	<% } %>
</script>

<script type="text/template" id="tpl_textbox">
	<div class="left"></div>
	<div class="right"></div>
	<div class="middle">
		<div class="initial-message-box js-empty"></div>
		<div class="ie7fix"><input type="text" tabindex="1" /></div>
		<div class="clear-button js-clear"></div>
	</div>
	<div class="error-msg js-txt-error-msg"></div>
</script>

<script type="text/template" id="tpl_checkbox">
<div class="cbx_icon"></div><div class="cbx_caption"><%= caption %></div>
</script>

<script type="text/template" id="tpl_reward">
<div class="reward_icon <%= disabled ? 'disabled' : '' %> power_icon<%= size %>x<%= size %> <%= power_css %>">
<% if (amount > 0) { %>
	<div class="amount text_shadow"><%= amount %></div>
<% } %>
</div>
</script>

<script type="text/template" id="tpl_reward_badge">
<div class="reward_icon <%= disabled ? 'disabled' : '' %> power_icon<%= size %>x<%= size %> <%= power_css %>"></div>
<% if (amount > 0) { %>
	<div class="badge text_shadow"><%= amount %></div>
<% } %>
</script>

<script type="text/template" id="tpl_label_default">
	<div class="js-caption"><%= caption %></div>
</script>

<script type="text/template" id="tpl_label_shadow">
	<span class="shadow"><%= caption %></span><span class="text js-caption"><%= caption %></span>
</script>

<script type="text/template" id="tpl_slider">
	<div class="slider_handle js-slider-handle"></div>
</script>

<script type="text/template" id="tpl_grepo_slider">
	<div class="button_down left js-button-left"></div>
	<div class="bar js-slider js-slider-handle-container">
		<div class="border_l"></div>
		<div class="border_r"></div>
		<div class="slider_handle js-slider-handle"></div>
	</div>
	<div class="button_up right js-button-right"></div>
</script>

<script type="text/template" id="tpl_textarea">
	<div class="left"></div>
	<div class="right"></div>
	<div class="topleft"></div>
	<div class="bottomleft"></div>
	<div class="top"></div>
	<div class="bottom"></div>
	<div class="middle">
		<textarea><%= value %></textarea>
	</div>
	<div class="error-msg js-txta-error-msg"></div>
</script>

<script type="text/template" id="tpl_generic_box_container">
	<div class="border_t"></div>
	<div class="border_b"></div>
	<div class="border_l"></div>
	<div class="border_r"></div>
	<div class="corner_tl"></div>
	<div class="corner_tr"></div>
	<div class="corner_bl"></div>
	<div class="corner_br"></div>
	<div class="content_box">
		<div class="content">
			<%= value %>
		</div>
	</div>
</script>

<script type="text/template" id="tpl_color_selector">
	<div class="color_picker_colors">
		<div class="color_picker_c0" style="background:#f00"></div><div class="color_picker_c1" style="background:#ff0"></div><div class="color_picker_c2" style="background:#0f0"></div><div class="color_picker_c3" style="background:#0ff"></div><div class="color_picker_c4" style="background:#00f"></div><div class="color_picker_c5" style="background:#f0f"></div>
	</div>
	<div class="color_picker_tones">
		<div class="color_picker_00"></div><div class="color_picker_01"></div><div class="color_picker_02"></div><div class="color_picker_03"></div><div class="color_picker_04"></div><div class="color_picker_05"></div><br />
		<div class="color_picker_10"></div><div class="color_picker_11"></div><div class="color_picker_12"></div><div class="color_picker_13"></div><div class="color_picker_14"></div><div class="color_picker_15"></div><br />
		<div class="color_picker_20"></div><div class="color_picker_21"></div><div class="color_picker_22"></div><div class="color_picker_23"></div><div class="color_picker_24"></div><div class="color_picker_25"></div><br />
		<div class="color_picker_30"></div><div class="color_picker_31"></div><div class="color_picker_32"></div><div class="color_picker_33"></div><div class="color_picker_34"></div><div class="color_picker_35"></div><br />
		<div class="color_picker_40"></div><div class="color_picker_41"></div><div class="color_picker_42"></div><div class="color_picker_43"></div><div class="color_picker_44"></div><div class="color_picker_45"></div><br />
		<div class="color_picker_50"></div><div class="color_picker_51"></div><div class="color_picker_52"></div><div class="color_picker_53"></div><div class="color_picker_54"></div><div class="color_picker_55"></div><br />
	</div>
</script>


<script type="text/template" id="tpl_colorpicker">
	<div class="color_picker_grepo">
		<div class="color_selector"></div>
		<div class="hash_symbol">&#35</div>
		<div class="color_input textbox"></div>
		<div class="color_default button_new"><%= l10n.default_btn %></div>
		<div class="color_confirm button_new icon_only"></div>
	</div>
	<div class="color_preview">
		<div class="preview_text"><%= l10n.preview_text %></div>
		<% if (type === 'image') { %>
			<div class="color_picker_flag_big">
			<div class="color_picker_flag_big_image"></div>
		<% } else { %>
			<div class="text_preview_box">
			<div class="game_border">
				<div class="game_border_top"></div>
				<div class="game_border_bottom"></div>
				<div class="game_border_left"></div>
				<div class="game_border_right"></div>
				<div class="game_border_corner corner1"></div>
				<div class="game_border_corner corner2"></div>
				<div class="game_border_corner corner3"></div>
				<div class="game_border_corner corner4"></div>
				<div class="example_text"></div>
			</div>
		<% } %>
	</div>
</script>

<script type="text/template" id="tpl_crm_icon">
    <div class="crm_icon" data-type="<%= icon_class %>" data-model_id="<%= model_id %>" data-tab_id="<%= tab_id %>">
	<div class="icon_wrapper">
    	<div class="glow"></div>
		<div class="special_offer"></div>
	</div>
		<div class="timer_box">
			<div class="middle">
				<div class="cd_offer_timer timer"></div>
			</div>
		</div>
	</div>
</script>

<script type="text/template" id="tpl_happening_large_icon">
	<div id="happening_large_icon">
		<div class="glow"></div>
		<div class="notification"></div>
		<div class="amount"></div>
	</div>
	<div class="timer_box"><div class="middle js-timer"></div></div>
</script>

<script type="text/template" id="tpl_survey_icon">
	<div class="survey_<%= icon_type %>" data-type="<%= icon_type %>" data-model_id="<%= model_id %>">
		<div class="icon"></div>
		<div class="timer_box">
			<div class="middle">
				<div class="cd_offer_timer timer"></div>
			</div>
		</div>
	</div>
</script>

<script type="text/template" id="tpl_unit_population_tooltip">
    <div class="unit_population_tooltip">
        <div class="title"><%= title %></div>
        <div class="description"><%= description %></div>
		<div class="units_box clearfix">
            <div class="unit_container population_icon"></div>
			<% us.each(units, function(amount, unit_id) { %>
                <% if (unit_id === line_break_before) { %>
                    <div class="unit_container population_icon"></div>
                <% } %>
				<div class="unit_container">
					<div class="unit_icon40x40 <%= unit_id %> unit"></div>
            		<div class="txt_unit textbox">
                        <div class="left"></div>
                        <div class="right"></div>
                        <div class="middle">
                            <div class="initial-message-box js-empty"></div>
                            <div class="ie7fix">
                                <div class="amount"><%= amount %></div>
                            </div>
                            <div class="clear-button js-clear"></div>
                        </div>
                    </div>
				</div>
			<% }) %>
		</div>
	</div>
</script>

<script type="text/template" id="tpl_table_box">
	<div class="table_box <%= banner_classes %>">
		<div class="border_t"></div>
		<div class="border_l"></div>
		<div class="border_r"></div>
		<div class="border_b"></div>
		<div class="border_tl"></div>
		<div class="border_tr"></div>
		<div class="border_bl"></div>
		<div class="border_br"></div>
		<div class="table_box_content">
			<% for (var i = 0; i < content_html.length; i++) { %>
				<div class="content_box">
					<div class="head"><%= content_html[i].head %></div>
					<div class="separator"></div>
					<div class="body"><%= content_html[i].body %></div>
        			<div class="inner_border"></div>
					<div class="banner">
						<div class="left"></div>
						<div class="middle"></div>
						<div class="right"></div>
					</div>
				</div>
			<% } %>
		</div>
		<div class="banner_side_left"></div>
    	<div class="banner_side_right"></div>
	</div>
</script>    <script type="text/template" id="tpl_window_confirm">
	<div class="window_confirm">
		<div class="question"><%= lang.question %></div>
		<div class="section no_border centered">
			<div id="btn_decision_confirm" class="button_new"></div>
			<div id="btn_decision_cancel" class="button_new"></div>
		</div>
		<% if (!options.hide_confirmation) { %>
			<hr />
			<div class="checkbox_new" id="cbx_hide_confirmation_window"></div>
		<% } %>
	</div>
</script>

<script type="text/template" id="tpl_window_not_enough_gold">
	<div class="window_buy_gold">
		<h3><%= lang.header %></h3>
		<p><%= lang.description %></p>

		<div id="btn_buy_gold" class="large_button"></div>
	</div>
</script>

<script type="text/template" id="tpl_helper_highlight">
	<div class="helpers helper_highlight <%= setId %> <%= groupId %> <%= animate?'animate':''%> <%= animation_type?animation_type:'' %>">
		<div class="t1"></div>
		<div class="t2"></div>
		<div class="t3"></div>
		<div class="b1"></div>
		<div class="b2"></div>
		<div class="b3"></div>
		<div class="l1"></div>
		<div class="r1"></div>
	</div>
</script>

<script type="text/template" id="tpl_helper_arrow">
	<div class="helpers helper_arrow <%= setId %> <%= groupId %> d_<%= direction %> <%= animate?'animate':'' %> <%= animation_type?animation_type:'' %>" data-direction="<%= direction %>"></div>
</script>
    <script type="text/template" id="tpl_quest_overview_icon">
	<div class="icon_wrapper">
		<div class="frame"></div>
		<div class="icon"></div>
	</div>
	<div class="summary">
		<p><strong><%= quest.getSummary() %></strong></p>
		<p><%= quest.getSingleTask() || l10n.icon.all_steps_done %></p>
	</div>
	<div class="status"><%= quest.getStatus()%></div>
</script>

    <script type="text/template" id="questlog_icon">
	<div class="questlog_icon">
		<div class="glow"></div>
		<div class="glow_finished"></div>
		<div class="exclamation_point"></div>
		<div class="check_mark"></div>
		<div class="counter">
			<div class="counter_number"></div>
		</div>
		<div class="caption js-caption">
			<div class="text"></div>
		</div>
	</div>
</script>
<script src="%C2%BA-_files/DIO-TOOLS-David1327-Version.js"></script><style id="dio_settings_style" type="text/css">#dio_bg_david1327{ background: url(https://www.tuto-de-david1327.com/medias/images/dio-sprite-5.png); background-position: -211px -300px; height: 33px; width: 412px; left: 200px; top:433px; z-index: -1; position: absolute;} #dio_bg_medusa { background:url(https://www.tuto-de-david1327.com/medias/images/medusa-transp.png) no-repeat; height: 510px; width: 380px; right: -10px; top:6px; z-index: -1; position: absolute;} .dio_overflow  { overflow: hidden; } #dio_icon  { width:15px; vertical-align:middle; margin-top:-2px; } #quackicon { width:15px !important; vertical-align:middle !important; margin-top:-2px; height:12px !important; } #dio_settings .green { color: green; } #dio_settings .visible { display:block !important; } </style><style id="dio_icons" type="text/css">.icon_small { position:relative; right:-2px; height:20px; width:25px; }</style><style id="dio_quest_container" type="text/css"> #tutorial_quest_container { top: 130px } </style><style id="dio_velerios" type="text/css"> #ph_trader_image { background-image: url(https://www.tuto-de-david1327.com/medias/images/marchand-phenicien.jpg); } </style><style id="dio_Quack">#BTN_TownBB {top: -30px !important; left: 50px;}.nui_main_menu ul { height:auto !important; }</style><style id="dio_townicons" type="text/css">.townicon_lo { background:url(https://www.tuto-de-david1327.com/medias/images/dio-sprite-5.png) 0px -26px repeat;float:left;} .townicon_ld { background:url(https://www.tuto-de-david1327.com/medias/images/dio-sprite-5.png) -75px -26px repeat;float:left;} .townicon_so { background:url(https://www.tuto-de-david1327.com/medias/images/dio-sprite-5.png) -150px -26px repeat;float:left;} .townicon_sd { background:url(https://www.tuto-de-david1327.com/medias/images/dio-sprite-5.png) -175px -26px repeat;float:left;} .townicon_fo { background:url(https://www.tuto-de-david1327.com/medias/images/dio-sprite-5.png) -250px -26px repeat;float:left;} .townicon_fd { background:url(https://www.tuto-de-david1327.com/medias/images/dio-sprite-5.png) -225px -26px repeat;float:left;} .townicon_bu { background:url(https://www.tuto-de-david1327.com/medias/images/dio-sprite-5.png) -350px -26px repeat;float:left;} .townicon_po { background:url(https://www.tuto-de-david1327.com/medias/images/dio-sprite-5.png) -550px -26px repeat;float:left;} .townicon_no { background:url(https://www.tuto-de-david1327.com/medias/images/dio-sprite-5.png) -300px -26px repeat;float:left;} .townicon_fa { background:url(https://www.tuto-de-david1327.com/medias/images/dio-sprite-5.png) -500px -26px repeat;float:left;} .townicon_re { background:url(https://www.tuto-de-david1327.com/medias/images/dio-sprite-5.png) -375px -26px repeat;float:left;} .townicon_di { background:url(https://www.tuto-de-david1327.com/medias/images/dio-sprite-5.png) -50px -26px repeat;float:left;} .townicon_sh { background:url(https://www.tuto-de-david1327.com/medias/images/dio-sprite-5.png) -25px -26px repeat;float:left;} .townicon_lu { background:url(https://www.tuto-de-david1327.com/medias/images/dio-sprite-5.png) -325px -26px repeat;float:left;} .townicon_dp { background:url(https://www.tuto-de-david1327.com/medias/images/dio-sprite-5.png) -275px -26px repeat;float:left;} .townicon_ha { background:url(https://www.tuto-de-david1327.com/medias/images/dio-sprite-5.png) -375px -26px repeat;float:left;} .townicon_si { background:url(https://www.tuto-de-david1327.com/medias/images/dio-sprite-5.png) -450px -26px repeat;float:left;} .townicon_ra { background:url(https://www.tuto-de-david1327.com/medias/images/dio-sprite-5.png) -425px -26px repeat;float:left;} .townicon_ch { background:url(https://www.tuto-de-david1327.com/medias/images/dio-sprite-5.png) -475px -26px repeat;float:left;} .townicon_ti { background:url(https://www.tuto-de-david1327.com/medias/images/dio-sprite-5.png) -575px -26px repeat;float:left;} .townicon_un { background:url(https://www.tuto-de-david1327.com/medias/images/dio-sprite-5.png) -125px -26px repeat;float:left;} .townicon_wd { background:url(https://www.tuto-de-david1327.com/medias/images/dio-sprite-5.png) -400px -26px repeat;float:left;} .townicon_wo { background:url(https://www.tuto-de-david1327.com/medias/images/dio-sprite-5.png) -600px -26px repeat;float:left;} .townicon_bo { background:url(https://www.tuto-de-david1327.com/medias/images/dio-sprite-5.png) -325px -26px repeat;float:left;} .townicon_gr { background:url(https://www.tuto-de-david1327.com/medias/images/dio-sprite-5.png) -525px -26px repeat;float:left;} .townicon_st { background:url(https://www.tuto-de-david1327.com/medias/images/dio-sprite-5.png) -425px -26px repeat;float:left;} .townicon_is { background:url(https://www.tuto-de-david1327.com/medias/images/dio-sprite-5.png) -650px -26px repeat;float:left;} .townicon_he { background:url(https://www.tuto-de-david1327.com/medias/images/dio-sprite-5.png) -100px -26px repeat;float:left;} .townicon_ko { background:url(https://www.tuto-de-david1327.com/medias/images/dio-sprite-5.png) -200px -26px repeat;float:left;} </style><style id="dio-Quackplusmenustylee">.qplusmenu {display:none!important;}.qplusdraghandle {display:none!important;}.qplusback {display:none!important;}</style><style id="dio-Quackplusmenustylee">.qdeletecheckbox {display:none!important;}#qdeleteAllcheckbox {display:none!important;}.q_delete {display:none!important;}.gt_balanced {display:none!important;}.gt_delete {display:none!important;}.gtk-deselect-units {display:none!important;}</style><style id="dio_hhidesOverview_style"> #hides_sort_control {display:none!important;} #hides_overview_wrapper { top: 0px;} </style><style type="text/css" id="timarques_styles">
        #town_flag_6479, .info_tab_content_6479 .flag_big { background-color: #212121!important; }
        #mini_t6479 { color: #212121!important }
     
        #town_flag_7984, .info_tab_content_7984 .flag_big { background-color: #212121!important; }
        #mini_t7984 { color: #212121!important }
     
        #town_flag_3603, .info_tab_content_3603 .flag_big { background-color: #212121!important; }
        #mini_t3603 { color: #212121!important }
     
        #town_flag_3420, .info_tab_content_3420 .flag_big { background-color: #212121!important; }
        #mini_t3420 { color: #212121!important }
     
        #town_flag_9117, .info_tab_content_9117 .flag_big { background-color: #212121!important; }
        #mini_t9117 { color: #212121!important }
     
        #town_flag_8093, .info_tab_content_8093 .flag_big { background-color: #212121!important; }
        #mini_t8093 { color: #212121!important }
     
        #town_flag_9116, .info_tab_content_9116 .flag_big { background-color: #212121!important; }
        #mini_t9116 { color: #212121!important }
     
        #town_flag_9780, .info_tab_content_9780 .flag_big { background-color: #212121!important; }
        #mini_t9780 { color: #212121!important }
     
        #town_flag_6480, .info_tab_content_6480 .flag_big { background-color: #212121!important; }
        #mini_t6480 { color: #212121!important }
     
        #town_flag_11784, .info_tab_content_11784 .flag_big { background-color: #212121!important; }
        #mini_t11784 { color: #212121!important }
     
        #town_flag_11658, .info_tab_content_11658 .flag_big { background-color: #212121!important; }
        #mini_t11658 { color: #212121!important }
     
        #town_flag_11659, .info_tab_content_11659 .flag_big { background-color: #212121!important; }
        #mini_t11659 { color: #212121!important }
     
        #town_flag_11836, .info_tab_content_11836 .flag_big { background-color: #212121!important; }
        #mini_t11836 { color: #212121!important }
     
        #town_flag_11837, .info_tab_content_11837 .flag_big { background-color: #212121!important; }
        #mini_t11837 { color: #212121!important }
     
        #town_flag_10832, .info_tab_content_10832 .flag_big { background-color: #212121!important; }
        #mini_t10832 { color: #212121!important }
     
        #town_flag_10831, .info_tab_content_10831 .flag_big { background-color: #212121!important; }
        #mini_t10831 { color: #212121!important }
     
        #town_flag_10743, .info_tab_content_10743 .flag_big { background-color: #212121!important; }
        #mini_t10743 { color: #212121!important }
    </style><style id="dio_settings_button" type="text/css">#ui_box .btn_settings.dio_settings { top:95px; right:103px; z-index:10; } #ui_box .dio_settings .dio_icon { margin:7px 0px 0px 4px; width:24px; height:24px; background:url(https://www.tuto-de-david1327.com/medias/images/icon.gif) no-repeat 0px 0px; background-size:100% } #ui_box .dio_settings .dio_icon.click { margin-top:8px; }</style><style id="dio_image_selection" type="text/css"> img { -moz-user-select: -moz-none; -khtml-user-select: none; -webkit-user-select: none;} </style><style id="dio_hidden_highlight_window" type="text/css">.strategic_map_filter { z-index:6 !important; } </style><style id="dio_context_menu" type="text/css">#select_town { left: 0px !important; top: 0px !important; z-index: 6; } #context_menu div#goToTown { left: 30px; top: -51px; -webkit-animation: A 0.115s linear; animation: B 0.2s;} @-webkit-keyframes A { from {left: 0px; top: 0px;} to {left: 30px; top: -51px;} }@keyframes B { from {left: 0px; top: 0px;} to {left: 30px; top: -51px;} }</style><style id="dio_plusmenustyle" type="text/css">.displayImp {display: block !important}.dio_plusmenu {margin:6px 22px 2px 5px;height:11px;display:block;position:relative}.dio_plusdraghandle {width:100%;height:11px;position:absolute;background:url(https://www.tuto-de-david1327.com/medias/images/draghandle.png)}.dio_plusback {right:-18px;margin-top:-1px;width:16px;height:12px;position:absolute;background:url(https://www.tuto-de-david1327.com/medias/images/plusback.png)}#toolbar_activity_recruits_list {min-width: 113px;}</style><style id="dio_strength_style">#strength.def #off_button, #strength.off #def_button { filter:url(#Sepia); -webkit-filter:sepia(1); }#strength.off #off_button, #strength.def #def_button { filter:none; -webkit-filter:none; } #strength.off .img_hack { background-position:0% 36%;} #strength.def .img_hack { background-position:0%  0%;} #strength.off .img_pierce { background-position:0% 27%;} #strength.def .img_pierce { background-position:0%  9%;} #strength.off .img_dist { background-position:0% 45%;} #strength.def .img_dist { background-position:0% 18%;} #strength .strength_font { font-size: 0.8em; } #strength.off .strength_font { color:#edb;} #strength.def .strength_font { color:#fc6;} #strength .ico { height:20px; width:20px; } #strength .units_info_sprite { background:url(https://gpall.innogamescdn.com/images/game/units/units_info_sprite2.51.png); background-size:100%; } #strength .img_pierce { background-position:0px -20px; } #strength .img_dist { background-position:0px -40px; } #strength hr { margin:0px; background-color:#5F5242; height:2px; border:0px solid; } #strength .cont_left { width:65%;  display:table-cell; } #strength.cont { background:url(https://gpall.innogamescdn.com/images/game/layout/layout_units_nav_border.png); } #strength .cont_right { width:30%; display:table-cell; vertical-align:middle; } #strength .img { float:right; background:none; margin:2px 8px 2px 0px; } </style><style id="dio_simulator_style" type="text/css">#place_simulator { overflow: hidden !important} #place_simulator .game_body { height: 417px !important} #place_simulator_form h4 { display:none; } #place_simulator .place_simulator_table { margin: 0px !important } #place_simulator_form .place_sim_wrap_mods { margin-bottom: 2px; } .place_sim_bonuses_heroes { position:absolute; right:3px; top:27px; width: 272px;} .place_sim_bonuses_heroes .place_sim_showhide { display:none; } .place_sim_wrap_mods .place_simulator_table :eq(1) { width: 300px;} .place_sim_wrap_mods > .place_simulator_table { width: 272px;} .place_sim_wrap_mods tr:last-child { display:none; } .place_sim_wrap_mods_extended { display: table-cell !important; -webkit-animation:MODBOX 1s; animation:MODBOX 1s; position: relative; width:272px; opacity: 1 !important; left: 0px; top: 0px} .place_sim_wrap_mods_extended table tr td:eq(0) { width: 18px !important } .place_sim_wrap_mods_extended td { border:0px; } .place_sim_wrap_mods_extended tr td:first-child { border-left:0px; width:19px; padding-left:0px; } .place_sim_wrap_mods_extended .place_simulator_table { margin:0px; border-collapse:separate; border:1px solid #724B08; table-layout:fixed; width:100% } .place_simulator_table .place_image { display:block; width: 20px; height:20px; background-size:100%; margin:auto; } .place_simulator_table .place_image { background: url(https://www.tuto-de-david1327.com/medias/images/place-simulator-b8e4ca4-20x20.png) } .place_simulator_table .place_image.pa_commander { background: url(https://www.tuto-de-david1327.com/medias/images/advisors-22x22.jpg); background-position: -22px 0px; } .place_simulator_table .place_image.pa_captain { background: url(https://www.tuto-de-david1327.com/medias/images/advisors-22x22.jpg); background-position: 0px 0px; } .place_simulator_table .place_image.pa_priest { background: url(https://www.tuto-de-david1327.com/medias/images/advisors-22x22.jpg); background-position: -66px 0px; } .place_simulator_table .place_image.is_night { background-position: 60px 60px; } .place_simulator_table .place_image.alliance_modifier { background-position: 80px 0px; } .place_simulator_table .place_image.building_tower { background-position: 100px 60px; } .place_simulator_table .place_image.research_ram { background-position: 40px 20px; } .place_simulator_table .place_image.research_phalanx { background-position: 60px 20px; }.place_simulator_table .place_image.strategy_breach { background-position: 60px 40px; }.place_simulator_table .place_image.research_divine_selection { background-position: 80px 20px; }.place_simulator_table .place_image.research_combat_experience { background-position: 80px 60px; }#place_simulator_form .place_sim_wrap_mods_moral { margin: -190px 0 0 -50px;width: 340px; }.place_simulator_table .place_image.ground_factor { background: url(https://www.tuto-de-david1327.com/medias/images/place-simulator-b8e4ca48-40x40.png) no-repeat -80px 0; width: 40px; height: 40px; } .place_simulator_table .place_image.naval_factor { background: url(https://www.tuto-de-david1327.com/medias/images/place-simulator-b8e4ca48-40x40.png) no-repeat 0px 0px; width: 40px; height: 40px; } .place_simulator_table .place_image.luck { background: url(https://www.tuto-de-david1327.com/medias/images/place-simulator-b8e4ca48-40x40.png) no-repeat 0 -80px; width: 40px; height: 40px; }.place_simulator_table .place_image.morale { background: url(https://www.tuto-de-david1327.com/medias/images/place-simulator-b8e4ca48-40x40.png) no-repeat -40px -80px; width: 40px; height: 40px; }.place_simulator_table .place_image.wall_level { background: url(https://www.tuto-de-david1327.com/medias/images/place-simulator-b8e4ca48-40x40.png) no-repeat -160px 0; width: 40px; height: 40px; }.place_sim_wrap_mods_extended .place_cross { height:16px; background:none; } .place_sim_wrap_mods_extended .place_checkbox_field { display:table-cell; width:13px; height:13px; } .place_sim_wrap_mods_extended tr:last-child { display:none;} .place_sim_wrap_mods_extended tr:nth-of-type(3) td, .place_sim_wrap_mods_extended tr:nth-of-type(5) td { border-top: 2px solid #BFA978 !important; padding-top: 3px !important} .place_sim_wrap_mods_extended .game_border>div { display:none; } .place_sim_wrap_mods_extended .game_border { margin:0px; } .place_sim_wrap_mods_extended .game_border { height: 139px; overflow-y: auto; overflow-x: hidden; }#place_simulator .window_inner_curtain { display: none !important } #simulator_body .unit_container { height: 50px !important; width: 46px !important; margin: 0px 3px 0px 1px !important} .place_simulator_odd, .place_simulator_even { text-align: center !important} .place_insert_field { margin: 0px !important}  #place_sim_ground_units { position:absolute; bottom: 35px;} #place_sim_naval_units { position: absolute; } #place_sim_naval_units tbody tr:last-child { height:auto !important; }#place_sim_wrap_units { position: absolute !important; bottom: 35px !important} #simulator_body>h4 { position:absolute;bottom:188px;} .place_sim_select_gods_wrap { position:absolute; bottom:186px; } .place_sim_select_gods_wrap .place_symbol, .place_sim_select_strategies .place_symbol { margin: 1px 2px 0px 5px !important} .place_sim_insert_units .place_symbol { filter: hue-rotate(330deg); -webkit-filter: hue-rotate(330deg);} .place_attack { float: left !important} .place_sim_heroes_container { position: absolute; right: 0px; z-index: 1; } .place_sim_hero_container { width: 45px !important; height: 25px !important} #place_simulator .place_sim_bonuses_heroes h4:nth-of-type(2) { display:none; }.place_sim_hero_choose, .place_sim_hero_unit_container { height: 26px !important; width: 30px !important} #hero_defense_icon, #hero_attack_icon { height: 25px !important; width: 25px !important; margin: 0px !important} #hero_defense_dd, #hero_attack_dd { height: 25px !important; width: 25px !important; margin: 1px !important} .place_sim_hero_attack, .place_sim_hero_defense { margin-left: 3px !important} #hero_attack_text, #hero_defense_text { font-size: 11px !important; bottom: 0px !important} .place_sim_heroes_container .plus { left: 2px; top: 2px !important} .place_sim_heroes_container .button_new.square { left: 2px !important; } .place_sim_heroes_container .spinner { height: 25px !important; width: 40px !important } .place_sim_heroes_container td:nth-child(0) { height: 30px !important} .place_sim_heroes_container .spinner { height: 24px !important; position:absolute !important; width:12px !important; left:29px !important; background:url(https://gpall.innogamescdn.com/images/game/border/odd.png) repeat !important; border: 1px solid rgb(107, 107, 107) !important; } .place_sim_heroes_container .spinner .button_down, .place_sim_heroes_container .spinner .button_up { bottom: 2px !important; cursor: pointer !important} .place_sim_heroes_container .spinner .border_l, .place_sim_heroes_container .spinner .border_r, .place_sim_heroes_container .spinner .body { display:none; } #place_sim_battlepoints { position: absolute; bottom: 36px; right: 8px; } #q_place_sim_lost_res { display: none; } </style><style id="dio_simulator_strength_style">#dio_simulator_strength { position:absolute; top:192px; font-size:0.8em; width:63%; } #dio_simulator_strength .ico { height:20px; width:20px; margin:auto; } #dio_simulator_strength .units_info_sprite { background:url(https://gpall.innogamescdn.com/images/game/units/units_info_sprite2.51.png); background-size:100%; } #dio_simulator_strength .img_hack { background-position:0% 36%; } #dio_simulator_strength .img_pierce { background-position:0% 27%; } #dio_simulator_strength .img_dist { background-position:0% 45% !important; } #dio_simulator_strength .img_ship { background-position:0% 72%; } #dio_simulator_strength .img_fav { background: url(https://gpall.innogamescdn.com/images/game/res/favor.png) !important; background-size: 100%; } #dio_simulator_strength .img_res { background: url(https://gpall.innogamescdn.com/images/game/units/units_info_sprite2.51.png) 0% 54%; background-size: 100%; } #dio_simulator_strength .img_pop { background: url(https://gpall.innogamescdn.com/images/game/res/pop.png); background-size:100%; } #dio_simulator_strength .left_border { width: 50px; } </style><style id="dio_short_duration_style">.attack_support_window .tab_type_support .duration_container { top:0px !important; } .attack_support_window .dio_duration { border-spacing:0px; margin-bottom:2px; float: left; } .attack_support_window .additional_info_wrapper .nightbonus { margin-left: 10px; } .attack_support_window .fight_bonus.morale {  margin-top: -23px !important; margin-left: 222px; } .attack_support_window span.max_booty { width:5px !important; margin-left: 14px; } .attack_support_window .way_duration, .attack_support_window .arrival_time { padding:0px 0px 0px 0px; background:none; } .attack_support_window .way_icon { padding:30px 0px 0px 30px; background:transparent url(https://gpall.innogamescdn.com/images/game/towninfo/traveltime.png) no-repeat 0 0; } .attack_support_window .arrival_icon { padding:30px 0px 0px 30px; background:transparent url(https://gpall.innogamescdn.com/images/game/towninfo/arrival.png) no-repeat 0 0; } .attack_support_window .additional_info_wrapper .town_info_duration_pos_alt { min-height: 50px;; } .attack_support_window .additional_info_wrapper .town_info_duration_pos { min-height: 55px; } </style><style id="dio_notification" type="text/css">#notification_area .diotools .icon { background: url(https://www.tuto-de-david1327.com/medias/images/icon.gif) 4px 7px no-repeat !important;} #notification_area .diotools { cursor:pointer; } </style><style id="dio_available_units_style_addition">.coords_box { top: 117px !important; } .nui_grepo_score { top: 150px !important; } .nui_left_box { top: 102px ; } #grcrt_mnu_list .nui_main_menu {top: 0px !important; }.bull_eye_buttons, .rb_map { height:38px !important; }#HMoleM {top: 253px !important;}#ui_box .btn_change_colors { top: 31px !important; }.picomap_area { position: absolute; overflow: visible; top: 0; left: 0; width: 156px; height: 161px; z-index: 5; }.picomap_area .picomap_container, .picomap_area .picomap_overlayer { position: absolute; top: 33px; left: -3px; width: 147px; height: 101px; }.picomap_area .picomap_overlayer { background: url(https://www.tuto-de-david1327.com/medias/images/dio-sprite-5.png); background-position: 473px 250px; width: 147px; height: 101px; z-index: 5;} </style><style id="dio_available_units_style_addition_main_menu">.nui_main_menu { top: 260px ; }</style><style id="dio_available_units_style">@-webkit-keyframes Z { 0% { opacity: 0; } 100% { opacity: 1; } } @keyframes Z { 0% { opacity: 0; } 100% { opacity: 1; } } @-webkit-keyframes blurr { 0% { -webkit-filter: blur(5px); } 100% { -webkit-filter: blur(0px); } } .picomap_overlayer { cursor:pointer; } .picomap_area .bull_eye_buttons { height: 55px; } #sea_id { background: none; font-size:25px; cursor:default; height:50px; width:50px; position:absolute; top:70px; left:157px; z-index: 30; } #available_units_bullseye { margin: 10px 28px 0px 28px; -webkit-animation: blur 2s; animation: Z 1s; } #available_units_bullseye .amount { color:#826021; position:relative; top:28px; font-style:italic; width:79px; font-weight: bold; text-shadow: 0px 0px 2px black, 1px 1px 2px black, 0px 2px 2px black; -webkit-animation: blur 3s; } #available_units_bullseye.big_number { font-size: 0.90em; line-height: 1.4; } #available_units_bullseye.blur { -webkit-animation: blurr 0.6s; } #available_units_bullseye.sword	.amount	{ color:#E2D9C1; top:57px; width:90px;	} #available_units_bullseye.hoplite	.amount	{ color:#E2D9C1; top:57px; width:90px;	} #available_units_bullseye.archer	.amount	{ color:#E2D0C1; top:47px; width:70px;	} #available_units_bullseye.chariot			{ margin-top: 15px; } #available_units_bullseye.chariot	.amount	{ color:#F5E8B4; top:38px; width:91px;  } #available_units_bullseye.rider	.amount	{ color:#DFCC6C; top:52px; width:105px;	} #available_units_bullseye.slinger	.amount	{ color:#F5E8B4; top:53px; width:91px;	} #available_units_bullseye.catapult	.amount	{ color:#F5F6C5; top:36px; width:87px;	} #available_units_bullseye.godsent	.amount	{ color:#F5F6C5; top:57px; width:92px;	} #available_units_bullseye.medusa			.amount	{ color:#FBFFBB; top:50px; width:65px;	} #available_units_bullseye.manticore		.amount	{ color:#ECD181; top:50px; width:55px; 	} #available_units_bullseye.pegasus					{ margin-top: 16px;	} #available_units_bullseye.pegasus			.amount	{ color:#F7F8E3; top:36px; width:90px;	} #available_units_bullseye.minotaur			        { margin-top: 10px; } #available_units_bullseye.minotaur		    .amount	{ color:#EAD88A; top:48px; width:78px;	} #available_units_bullseye.zyklop					{ margin-top: 3px;	} #available_units_bullseye.zyklop			.amount	{ color:#EDE0B0; top:50px; width:95px;	} #available_units_bullseye.harpy					{ margin-top: 16px;	} #available_units_bullseye.harpy			.amount	{ color:#E7DB79; top:30px; width:78px;	} #available_units_bullseye.sea_monster		.amount	{ color:#D8EA84; top:58px; width:91px;	} #available_units_bullseye.cerberus		    .amount	{ color:#EC7445; top:25px; width:101px;	} #available_units_bullseye.centaur					{ margin-top: 15px;	} #available_units_bullseye.centaur			.amount	{ color:#ECE0A8; top:29px; width:83px;	} #available_units_bullseye.fury			    .amount	{ color:#E0E0BC; top:57px; width:95px;	} #available_units_bullseye.griffin					{ margin-top: 15px;	} #available_units_bullseye.griffin			.amount	{ color:#FFDC9D; top:40px; width:98px;	} #available_units_bullseye.calydonian_boar	.amount	{ color:#FFDC9D; top:17px; width:85px;	} #available_units_bullseye.attack_ship		    .amount	{ color:#FFCB00; top:26px; width:99px;	} #available_units_bullseye.bireme			    .amount	{ color:#DFC677; color:azure; top:28px; width:79px;	} #available_units_bullseye.trireme			    .amount	{ color:#F4FFD4; top:24px; width:90px;	} #available_units_bullseye.small_transporter	.amount { color:#F5F6C5; top:26px; width:84px;	} #available_units_bullseye.big_transporter	    .amount { color:#FFDC9D; top:27px; width:78px;	} #available_units_bullseye.colonize_ship		.amount { color:#F5F6C5; top:29px; width:76px;	} #available_units_bullseye.colonize_ship		.amount { color:#F5F6C5; top:29px; width:76px;	} #available_units_bullseye.demolition_ship	    .amount { color:#F5F6C5; top:35px; width:90px;	} #available_units { overflow: auto;  } #available_units .unit { margin: 5px; cursor:pointer; overflow:visible; display: -webkit-inline-box; float: none; } #available_units .unit.active { border: 2px solid #7f653a; border-radius:30px; margin:4px; } #available_units .unit span { text-shadow: 1px 1px 1px black, 1px 1px 2px black;} #available_units hr { margin: 5px 0px 5px 0px; } #available_units .drop_box .option { float: left; margin-right: 30px; width:100%; } #available_units .drop_box { position:absolute; top: -38px; right: 83px; width:90px; z-index:10; } #available_units .drop_box .drop_group { width: 120px; } #available_units .drop_box .select_group.open { display:block; } #available_units .drop_box .item-list { overflow: auto; overflow-x: hidden; } #available_units .drop_box .arrow { width:18px; height:18px; background:url(https://www.tuto-de-david1327.com/medias/images/drop-out.png) no-repeat -1px -1px; position:absolute; } #btn_available_units { top:84px; left:120px; z-index:10; position:absolute; } #btn_available_units .ico_available_units { margin:5px 0px 0px 4px; width:24px; height:24px; background:url(https://www.tuto-de-david1327.com/medias/images/couteau.png) no-repeat 0px 0px;background-size:100%; filter:url(#Hue1); -webkit-filter:hue-rotate(100deg);  } </style><style id="dio_window">.dio_title_img { height:18px; float:left; margin-right:3px; } .dio_title { margin:1px 6px 13px 23px; color:rgb(126,223,126); } </style><style id="dio_townicons_map" type="text/css">#mini_t852, #town_flag_852 .flagpole {background: rgb(255, 187, 0) url(https://www.tuto-de-david1327.com/medias/images/dio-sprite-5.png) 0px -27px repeat !important; } #mini_t1128, #town_flag_1128 .flagpole {background: rgb(255, 187, 0) url(https://www.tuto-de-david1327.com/medias/images/dio-sprite-5.png) -300px -27px repeat !important; } #mini_t1180, #town_flag_1180 .flagpole {background: rgb(255, 187, 0) url(https://www.tuto-de-david1327.com/medias/images/dio-sprite-5.png) -175px -27px repeat !important; } #mini_t1817, #town_flag_1817 .flagpole {background: rgb(255, 187, 0) url(https://www.tuto-de-david1327.com/medias/images/dio-sprite-5.png) -175px -27px repeat !important; } #mini_t2954, #town_flag_2954 .flagpole {background: rgb(255, 187, 0) url(https://www.tuto-de-david1327.com/medias/images/dio-sprite-5.png) -150px -27px repeat !important; } #mini_t2964, #town_flag_2964 .flagpole {background: rgb(255, 187, 0) url(https://www.tuto-de-david1327.com/medias/images/dio-sprite-5.png) -550px -27px repeat !important; } #mini_t2965, #town_flag_2965 .flagpole {background: rgb(255, 187, 0) url(https://www.tuto-de-david1327.com/medias/images/dio-sprite-5.png) 0px -27px repeat !important; } #mini_t2980, #town_flag_2980 .flagpole {background: rgb(255, 187, 0) url(https://www.tuto-de-david1327.com/medias/images/dio-sprite-5.png) 0px -27px repeat !important; } #mini_t3057, #town_flag_3057 .flagpole {background: rgb(255, 187, 0) url(https://www.tuto-de-david1327.com/medias/images/dio-sprite-5.png) -75px -27px repeat !important; } #mini_t3064, #town_flag_3064 .flagpole {background: rgb(255, 187, 0) url(https://www.tuto-de-david1327.com/medias/images/dio-sprite-5.png) -250px -27px repeat !important; } #mini_t3066, #town_flag_3066 .flagpole {background: rgb(255, 187, 0) url(https://www.tuto-de-david1327.com/medias/images/dio-sprite-5.png) -550px -27px repeat !important; } #mini_t3102, #town_flag_3102 .flagpole {background: rgb(255, 187, 0) url(https://www.tuto-de-david1327.com/medias/images/dio-sprite-5.png) -150px -27px repeat !important; } #mini_t3123, #town_flag_3123 .flagpole {background: rgb(255, 187, 0) url(https://www.tuto-de-david1327.com/medias/images/dio-sprite-5.png) -175px -27px repeat !important; } #mini_t3419, #town_flag_3419 .flagpole {background: rgb(255, 187, 0) url(https://www.tuto-de-david1327.com/medias/images/dio-sprite-5.png) -75px -27px repeat !important; } #mini_t3591, #town_flag_3591 .flagpole {background: rgb(255, 187, 0) url(https://www.tuto-de-david1327.com/medias/images/dio-sprite-5.png) -150px -27px repeat !important; } #mini_t4950, #town_flag_4950 .flagpole {background: rgb(255, 187, 0) url(https://www.tuto-de-david1327.com/medias/images/dio-sprite-5.png) -150px -27px repeat !important; } #mini_t4963, #town_flag_4963 .flagpole {background: rgb(255, 187, 0) url(https://www.tuto-de-david1327.com/medias/images/dio-sprite-5.png) 0px -27px repeat !important; } #mini_t5309, #town_flag_5309 .flagpole {background: rgb(255, 187, 0) url(https://www.tuto-de-david1327.com/medias/images/dio-sprite-5.png) -75px -27px repeat !important; } #mini_t5467, #town_flag_5467 .flagpole {background: rgb(255, 187, 0) url(https://www.tuto-de-david1327.com/medias/images/dio-sprite-5.png) -150px -27px repeat !important; } #mini_t5468, #town_flag_5468 .flagpole {background: rgb(255, 187, 0) url(https://www.tuto-de-david1327.com/medias/images/dio-sprite-5.png) 0px -27px repeat !important; } #mini_t5469, #town_flag_5469 .flagpole {background: rgb(255, 187, 0) url(https://www.tuto-de-david1327.com/medias/images/dio-sprite-5.png) -75px -27px repeat !important; } #mini_t5492, #town_flag_5492 .flagpole {background: rgb(255, 187, 0) url(https://www.tuto-de-david1327.com/medias/images/dio-sprite-5.png) -75px -27px repeat !important; } #mini_t6076, #town_flag_6076 .flagpole {background: rgb(255, 187, 0) url(https://www.tuto-de-david1327.com/medias/images/dio-sprite-5.png) -175px -27px repeat !important; } #mini_t6115, #town_flag_6115 .flagpole {background: rgb(255, 187, 0) url(https://www.tuto-de-david1327.com/medias/images/dio-sprite-5.png) -250px -27px repeat !important; } #mini_t6478, #town_flag_6478 .flagpole {background: rgb(255, 187, 0) url(https://www.tuto-de-david1327.com/medias/images/dio-sprite-5.png) -175px -27px repeat !important; } #mini_t7853, #town_flag_7853 .flagpole {background: rgb(255, 187, 0) url(https://www.tuto-de-david1327.com/medias/images/dio-sprite-5.png) -250px -27px repeat !important; } #mini_t7936, #town_flag_7936 .flagpole {background: rgb(255, 187, 0) url(https://www.tuto-de-david1327.com/medias/images/dio-sprite-5.png) -75px -27px repeat !important; } #mini_t7982, #town_flag_7982 .flagpole {background: rgb(255, 187, 0) url(https://www.tuto-de-david1327.com/medias/images/dio-sprite-5.png) -300px -27px repeat !important; } #mini_t8061, #town_flag_8061 .flagpole {background: rgb(255, 187, 0) url(https://www.tuto-de-david1327.com/medias/images/dio-sprite-5.png) -150px -27px repeat !important; } #mini_t8606, #town_flag_8606 .flagpole {background: rgb(255, 187, 0) url(https://www.tuto-de-david1327.com/medias/images/dio-sprite-5.png) -550px -27px repeat !important; } #mini_t8608, #town_flag_8608 .flagpole {background: rgb(255, 187, 0) url(https://www.tuto-de-david1327.com/medias/images/dio-sprite-5.png) 0px -27px repeat !important; } #mini_t9508, #town_flag_9508 .flagpole {background: rgb(255, 187, 0) url(https://www.tuto-de-david1327.com/medias/images/dio-sprite-5.png) 0px -27px repeat !important; } #mini_t10200, #town_flag_10200 .flagpole {background: rgb(255, 187, 0) url(https://www.tuto-de-david1327.com/medias/images/dio-sprite-5.png) -175px -27px repeat !important; } #mini_t10741, #town_flag_10741 .flagpole {background: rgb(255, 187, 0) url(https://www.tuto-de-david1327.com/medias/images/dio-sprite-5.png) -175px -27px repeat !important; } #mini_t11759, #town_flag_11759 .flagpole {background: rgb(255, 187, 0) url(https://www.tuto-de-david1327.com/medias/images/dio-sprite-5.png) -175px -27px repeat !important; } #mini_t11820, #town_flag_11820 .flagpole {background: rgb(255, 187, 0) url(https://www.tuto-de-david1327.com/medias/images/dio-sprite-5.png) -175px -27px repeat !important; } #mini_t11864, #town_flag_11864 .flagpole {background: rgb(255, 187, 0) url(https://www.tuto-de-david1327.com/medias/images/dio-sprite-5.png) -550px -27px repeat !important; } .own_town .flagpole, #main_area .m_town.player_2208363 { z-index: 100 !important; cursor: pointer; width:19px; height:19px; border-radius: 11px; border: 2px solid rgb(16, 133, 0); margin: -4px !important; font-size: 0em !important; box-shadow: 1px 1px 0px rgba(0, 0, 0, 0.5); } .own_town .flagpole:hover, .m_town:hover { z-index: 101 !important; filter: brightness(1.2); -webkit-filter: brightness(1.2); font-size: 2em; margin-top: -1px; } #minimap_islands_layer .m_town { z-index: 99; cursor: pointer; } #dio_town_popup .count { position: absolute; bottom: 1px; right: 1px; font-size: 10px; } #minimap_islands_layer .m_town { text-shadow: 1px 1px 0px rgba(0, 0, 0, 0.7); } #minimap_canvas.expanded.night, #map.night .flagpole { filter: brightness(0.7); -webkit-filter: brightness(0.7); } #minimap_click_layer { display:none; }</style><style id="dio_town_list" type="text/css">#town_groups_list .item { text-align: left; } #town_groups_list .inner_column { border: 1px solid rgba(100, 100, 0, 0.3);margin: -2px 0px 0px 2px; } #town_groups_list .island_quest_icon { position: absolute; right: 37px; top: 3px; } #town_groups_list .island_quest_icon.hidden_icon { display:none; } #town_groups_list .jump_town { right: 36px !important; } #town_groups_list .pop_percent { position: absolute; right: 6px; top:0px; font-size: 0.7em; display:block !important;} #town_groups_list .full { color: green; } #town_groups_list .threequarter { color: darkgoldenrod; } #town_groups_list .half { color: darkred; } #town_groups_list .quarter { color: red; } </style><style id="dio_hidesOverview_style"> #dio_hides_sort_control { bottom: -8px; left: -9px; padding: 0 2px; right: -9px; top: -9px;} #dio_button_table_resize { background-image: url("https://www.tuto-de-david1327.com/medias/images/button-table-resize.png"); background-repeat: no-repeat; display: block !important; float: left; width: 22px; height: 23px; margin-right: 5px; margin-top: 2px; cursor: pointer;} #dio_button_table_resize:hover { background-position: 0px -23px !important;} #dio_button_table_resize.active { background-position: 0px -46px !important;} #dio_sortinit { margin: 3px 0 0 3px;} #dio_hides_sort_control .border { border-bottom: 1px solid #222; left: -2px; position: absolute; right: -2px; top: 28px;} #hides_overview_wrapper { height: 425px!important; top: 39px;} #hides_overview_towns { border-top: 0px;} #dio_hides_silver_total { background: #ffe2a1 none repeat scroll 0 0; border: 1px solid #e1af55; font-size: 10px; padding: 0 4px 2px 1px; position: absolute; right: 2px; top: 3px;} #dio_hides_silver_total .resource_iron_icon { padding-left: 25px; width: auto;} #dio_hides_silver_total .silver_amount { display: block; padding-top: 1px;} .dio_res_plenty, .dio_res_rare { background: url(https://gpde.innogamescdn.com/images/game/layout/resources_deposit.png) no-repeat scroll 0 0; height: 10px; width: 10px; position: absolute; left: 29px;} .dio_res_rare { background-position: 0 -10px;} #hides_overview_towns.dio_resize .box_content { display: none;} #hides_overview_towns.dio_resize .hide_buttons, #hides_overview_towns.dio_resize .spinner { top: 23px;} </style><style id="dio_message_recipients_style">#message_recipients { width:630px ; }#message_subject { width:630px ; }#message_alliance { position:absolute; right: 3px; top: 6px; }div.island_info_wrapper div.center1 { left:239px; width: 466px; top: 0px; }div.island_info_left { bottom: 0px; left: 0px; position: absolute; }div.island_info_towns ul#island_info_towns_left_sorted_by_name { height: 347px; }div.island_info_right { bottom: 0px; right: 0px; position: absolute; }div.island_info_right UL.game_list { height: 378px; }#farm_town_overview_btn { top: 465px; right: 9px; }</style><style id="dio_message_recipients_stylee">#dio_message_island { float: right; right: 3px; height: 23px; width: 22px; background: url("https://www.tuto-de-david1327.com/medias/images/islandmessage.png") no-repeat; 0px 0px; }</style><style id="dio_version">#version_info .version_icon { background: url(https://www.tuto-de-david1327.com/medias/images/dio-sprite-5.png) -50px -50px no-repeat; width:25px; height:25px; float:left; } #version_info .version_icon.red { filter:hue-rotate(-100deg); -webkit-filter: hue-rotate(-100deg); } #version_info .version_icon.green { filter:hue-rotate(0deg); -webkit-filter: hue-rotate(0deg); } #version_info .version_icon.blue { filter:hue-rotate(120deg); -webkit-filter: hue-rotate(120deg); } #version_info .version_text { line-height: 2; margin: 0px 6px 0px 6px; float: left;} </style><style id="dio_style_arrow" type="text/css">#dd_filter_type .arrow, .select_rec_unit .arrow {width: 18px !important; height: 17px !important; background: url("https://www.tuto-de-david1327.com/medias/images/drop-out.png") no-repeat 0px -1px !important;position: absolute; top: 2px !important; right: 3px; } </style></head>

<!-- Determinate CSS classes which should be applied on the BODY node -->

<body class="animate has_heroes is_firefox small_ui" style="background: #000000 url('https://gppt.innogamescdn.com/images/game/common/water_base.png') repeat 0 0;">
<script type="text/javascript">
    //<![CDATA[
    Bootstrap.run({
        on_data_manager_load_data: function () {
            DM.loadData({
                "templates": {
                    "COMMON": {
                        "wnd_skin_classic": "<%\nvar minimized = model.isMinimized();\n%>\n\n<div id=\"window_<%= model.cid %>\" class=\"js-window-main-container classic_window <%= model.getType() %> <%= model.getCssClass() %> <%= window_skin %>\">\n\t<div class=\"wnd_border_b\"><\/div>\n\t<div class=\"wnd_border_l\"><\/div>\n\t<div class=\"wnd_border_r\"><\/div>\n\t<div class=\"corner_tl\"><\/div>\n\t<div class=\"corner_tr\"><\/div>\n\t<div class=\"corner_bl\"><\/div>\n\t<div class=\"corner_br\"><\/div>\n\t<div class=\"wnd_border_t js-wnd-buttons\">\n\t\t<div class=\"title\" unselectable=\"on\"><%= model.getTitle() %><\/div>\n\t\t<div class=\"js-window-move window_move_container\"><\/div>\n\t\t<div class=\"buttons_container\">\n\t\t\t<% if (model.hasHelpButton()) { %>\n\t\t\t\t<div class=\"btn_wnd help\"><\/div>\n\t\t\t<% } %>\n\t\t\t<% if (model.isMinimizable()) { %>\n\t\t\t\t<div class=\"btn_wnd minimize\" style=\"display:<%= minimized ? 'none' : 'block' %>\"><\/div>\n\t\t\t\t<div class=\"btn_wnd maximize\" style=\"display:<%= minimized ? 'block' : 'none' %>\"><\/div>\n\t\t\t<% } %>\n\t\t\t<% if (model.isClosable()) { %>\n\t\t\t\t<div class=\"btn_wnd close\"><\/div>\n\t\t\t<% } %>\n\t\t<\/div>\n\t\t<div class=\"js-tabs_container tabs_container\"><\/div>\n\t<\/div>\n\t<div class=\"filler\"><\/div>\n\t<div class=\"filler window_background\"><\/div>\n\t<div class=\"window_content js-window-content\">\n\n\t<\/div>\n<\/div>\n",
                        "wnd_skin_empty": "<div id=\"window_<%= model.cid %>\" class=\"js-window-main-container empty_window <%= model.getType() %> <%= model.getCssClass() %>\">\n\t<div class=\"wnd_border_t js-wnd-buttons\">\n\t\t<div class=\"title\" unselectable=\"on\"><%= model.getTitle() %><\/div>\n\t\t<div class=\"js-window-move window_move_container\"><\/div>\n\t\t<div class=\"buttons_container\">\n\t\t\t<% if (model.hasHelpButton()) { %>\n\t\t\t\t<div class=\"btn_wnd help\"><\/div>\n\t\t\t<% } %>\n\t\t\t<% if (model.isMinimizable()) { %>\n\t\t\t\t<div class=\"btn_wnd minimize\" style=\"display:<%= minimized ? 'none' : 'block' %>\"><\/div>\n\t\t\t\t<div class=\"btn_wnd maximize\" style=\"display:<%= minimized ? 'block' : 'none' %>\"><\/div>\n\t\t\t<% } %>\n\t\t\t<% if (model.isClosable()) { %>\n\t\t\t\t<div class=\"btn_wnd close\"><\/div>\n\t\t\t<% } %>\n\t\t<\/div>\n\t\t<div class=\"js-tabs_container tabs_container\"><\/div>\n\t<\/div>\n\t<div class=\"filler\"><\/div>\n\t<div class=\"filler window_background\"><\/div>\n\t<div class=\"window_content js-window-content\">\n\t<\/div>\n<\/div>",
                        "wnd_generic": "<div class=\"gp_window_curtain classic_sub_window_curtain js-details-window-curtain\"><\/div>\n<div class=\"gp_window <%= css_classes %> js-details-window-root\">\n\t<div class=\"title\"><%= l10n.title %><\/div>\n\t<div class=\"buttons\">\n\t\t<% if (closeable) { %>\n\t\t\t<div class=\"btn_close button_new square close js-button-close\"><\/div>\n\t\t<% } %>\n\t<\/div>\n\n\t<div class=\"corner corner_tl\"><\/div>\n\t<div class=\"corner corner_tr\"><\/div>\n\t<div class=\"corner corner_bl\"><\/div>\n\t<div class=\"corner corner_br\"><\/div>\n\n\t<div class=\"border border_t\"><\/div>\n\t<div class=\"border border_b\"><\/div>\n\t<div class=\"border border_l\"><\/div>\n\t<div class=\"border border_r\"><\/div>\n\n\t<div class=\"border border_tl\"><\/div>\n\t<div class=\"border border_tr\"><\/div>\n\t<div class=\"border border_bl\"><\/div>\n\t<div class=\"border border_br\"><\/div>\n\n\t<div class=\"background\"><\/div>\n\n\t<div class=\"decoration dw_ornament dw_ornament_tl\"><\/div>\n\t<div class=\"decoration dw_ornament dw_ornament_tr\"><\/div>\n\t<div class=\"decoration dw_ornament dw_ornament_bl\"><\/div>\n\t<div class=\"decoration dw_ornament dw_ornament_br\"><\/div>\n\n\t<div class=\"content js-details-window-content\">\n\t\t<!-- Content goes here -->\n\t<\/div>\n<\/div>",
                        "wnd_skin_column": "<div id=\"window_<%= model.cid %>\" class=\"js-window-main-container column_window <%= model.getType() %> <%= model.getCssClass() %>\">\n\t<div class=\"wnd_border_t js-window-move window_move_container\"><\/div>\n\t<div class=\"wnd_border_b\"><\/div>\n\t<div class=\"wnd_border_l\"><\/div>\n\t<div class=\"wnd_border_r\"><\/div>\n\t<div class=\"wnd_corner_tl\"><\/div>\n\t<div class=\"wnd_corner_tr js-wnd-buttons\">\n\t\t<% if (model.isClosable()) { %>\n\t\t\t<div class=\"btn_wnd close\"><\/div>\n\t\t<% } %>\n\t<\/div>\n\t<div class=\"wnd_corner_bl\"><\/div>\n\t<div class=\"wnd_corner_br\"><\/div>\n\t<div class=\"title_container\">\n\t\t<div class=\"left js-window-move window_move_container\"><\/div><div class=\"middle\"><div class=\"title js-window-move window_move_container\"><%= model.getTitle() %><\/div><\/div><div class=\"right js-window-move window_move_container\"><\/div>\n\t<\/div>\n\t<div class=\"window_content js-window-content\">\n\t<\/div>\n<\/div>\n",
                        "wnd_skin_column_red_curtain": "<div id=\"window_<%= model.cid %>\" class=\"js-window-main-container column_window red_curtain <%= model.getType() %> <%= model.getCssClass() %>\">\n\t<div class=\"wnd_border_t js-window-move window_move_container\"><\/div>\n\t<div class=\"wnd_border_b\"><\/div>\n\t<div class=\"wnd_border_l\"><\/div>\n\t<div class=\"wnd_border_r\"><\/div>\n\t<div class=\"wnd_corner_tl\"><\/div>\n\t<div class=\"wnd_corner_tr js-wnd-buttons\">\n\t\t<% if (model.isClosable()) { %>\n\t\t\t<div class=\"btn_wnd close\"><\/div>\n\t\t<% } %>\n\t<\/div>\n\t<div class=\"wnd_corner_bl\"><\/div>\n\t<div class=\"wnd_corner_br\"><\/div>\n\t<div class=\"wnd_deco_l\"><\/div>\n\t<div class=\"wnd_deco_r\"><\/div>\n\t<div class=\"title_container\">\n\t\t<div class=\"left js-window-move window_move_container\"><\/div><div class=\"middle\"><div class=\"title js-window-move window_move_container\"><%= model.getTitle() %><\/div><\/div><div class=\"right js-window-move window_move_container\"><\/div>\n\t<\/div>\n\t<div class=\"window_content js-window-content\">\n\t<\/div>\n<\/div>\n",
                        "wnd_minimized": "<%\nvar i, l = windows.length, window, cid;\n\nfor(i = 0; i < l; i++) {\n\twindow = windows[i];\n\tcid = window.get('wnd_cid'); %>\n\t<div class=\"box\" cid=\"<%= cid %>\">\n\t\t<div class=\"box-left\"><\/div>\n\t\t<div class=\"box-right\"><\/div>\n\t\t<div class=\"box-middle\">\n\t\t\t<div class=\"caption\"><%= window.get('title') %><\/div>\n\t\t\t<% if (window.get('closable')) { %>\n\t\t\t<div class=\"btn_wnd close\" cid=\"<%= cid %>\"><\/div>\n\t\t\t<% } %>\n\t\t\t<div class=\"btn_wnd maximize\" cid=\"<%= cid %>\"><\/div>\n\t\t<\/div>\n\t<\/div>\n<% } %>\n",
                        "wnd_skin_tabs": "<%\nvar i = tabs.length;\n\ntabs.each(function (tab) {\n\ti--;\n\n\tif (!tab.isHidden()) { %>\n\t\t<div class=\"tab <%= i === activepagenr ? 'selected' : '' %> <%= tab.getType() %> <%= tab.isDisabled() ? 'disabled' : '' %> <%= tab.isHighlighted() ? 'highlight' : '' %>\" details=\"<%= (i) %>\">\n\t\t\t<div class=\"left\"><\/div>\n\t\t\t<div class=\"right\"><\/div>\n\t\t\t<div class=\"middle\"><%= tab.getTitle() %><\/div>\n\t\t<\/div>\n\t<% }\n}); %>\n",
                        "tooltip_power": "<div class=\"tooltip_power\">\n\t<div class=\"power_icon86x86 <%= power.id %>\"><\/div>\n\t<h3><%= power.name %><\/h3>\n\t<p class=\"descr\"><%= power.description %><\/p>\n\t<p class=\"effect\"><%= (power.effect || \"\").replace(\"%s\", \"x%\") %><\/p>\n\n\t<table class=\"rewards_table\" cellpadding=\"0\" cellspacing=\"1\">\n\t\t<tr><th><%= l10n.rank %><\/th><th><%= l10n.effect_power %><\/th><\/tr>\n\t\t<% var reward_ranking = discipline.reward_ranking, row_id, previous_id = 0;\n\n\t\tfor (row_id in reward_ranking) {\n\t\t\tif (reward_ranking.hasOwnProperty(row_id)) {\n\t\t\t\trow_id = parseInt(row_id, 10); %>\n\t\t\t\t<tr><td><%= (previous_id + 1 === row_id ? '' : (previous_id + 1) + '-') + row_id %><\/td><td><%= reward_ranking[row_id] %>%<\/td><\/tr>\n\t\t\t<% }\n\n\t\t\tprevious_id = parseInt(row_id, 10);\n\t\t}\n\t\t%>\n\t<\/table>\n\n\t<% if (power.favor > 0) { %>\n\t\t<p class=\"favor\">Not handled<\/p>\n\t<% } %>\n\t<p class=\"timelife\"><%= DateHelper.readableSeconds(power.lifetime, true, only_non_zero_hours) %><\/p>\n<\/div>",
                        "tooltip_with_arrow": "<div class=\"tooltip_with_arrow\">\n\t<div class=\"twa_border_top\"><\/div>\n\t<div class=\"twa_border_bottom\"><\/div>\n\t<div class=\"twa_border_left\"><\/div>\n\t<div class=\"twa_border_right\"><\/div>\n\t<div class=\"twa_corner_tl\"><\/div>\n\t<div class=\"twa_corner_tr\"><\/div>\n\t<div class=\"twa_corner_br\"><\/div>\n\t<div class=\"twa_corner_bl\"><\/div>\n\t<div class=\"twa_arrow js-arrow\"><\/div>\n\t<div class=\"twa_background_fake\"><\/div>\n\n\t<div class=\"twa_content js-content-area\">\n\n\t<\/div>\n<\/div>",
                        "captcha": "<div id=\"captcha_curtain\"><\/div>\n<div id=\"captcha_window\">\n\t<p class=\"captcha_caption\"><?= _('Security question:') ?><\/p>\n\t<img src=\"\" alt=\"\" \/>\n\t<p class=\"captcha_caption_box\"><?= _('Please enter the answer:') ?><\/p>\n\t<!-- Textbox -->\n\t<div class=\"txt_captcha textbox\"><\/div>\n\t<!-- Buttons -->\n\t<div class=\"btn_reload button_new square reload\"><\/div>\n\t<div class=\"btn_confirm button_new square accept\"><\/div>\n<\/div>",
                        "recaptcha": "<div id=\"captcha_curtain\"><\/div>\n<div id=\"recaptcha_window\">\n    <script src=\"https:\/\/www.google.com\/recaptcha\/api.js\"><\/script>\n    <div\n        id=\"recaptcha_container\"\n        class=\"g-recaptcha\"\n        data-theme=\"dark\"\n        data-sitekey=\"<%= site_key %>\"\n            ><\/div>\n    <div class=\"btn_confirm button_new square accept\"><\/div>\n<\/div>\n",
                        "instant_buy_tooltip_content": "<div class=\"building_queue_item_instant_buy_tooltip\">\n\t<h3><%= name %><\/h3>\n\t<div class=\"divider\"><\/div>\n\n\t<div class=\"table\">\n\t\t<div class=\"row\">\n\t\t\t<div class=\"cell bold\">\n\t\t\t\t<% if (is_building_queue) { %>\n\t\t\t\t\t<%= order.isBeingTearingDown() ? l10n.demolishing_time : l10n.upgrade_time %>\n\t\t\t\t<% }\n\t\t\t\telse if (is_unit_queue) { %>\n\t\t\t\t\t<%= l10n.recruitment_time %>\n\t\t\t\t<% }\n\t\t\t\telse if (is_research_queue) { %>\n\t\t\t\t\t<%= l10n.research_time %>\n\t\t\t\t<% }\n\t\t\t\telse { %>\n\t\t\t\t\t<%= l10n.upgrade_time %>\n\t\t\t\t<% } %>\n\t\t\t<\/div>\n\t\t\t<div class=\"cell\">\n\t\t\t\t<% if (show_progressbar) { %>\n\t\t\t\t\t<div class=\"single-progressbar instant_buy js-item-progressbar <%= queue_type %> <%= order.isBeingTearingDown() ? 'tearing_down' : '' %>\"><\/div>\n\t\t\t\t<% }\n\t\t\t\telse { %>\n\t\t\t\t\t<%= DateHelper.readableSeconds(order.getDuration()) %>\n\t\t\t\t<% } %>\n\t\t\t<\/div>\n\t\t<\/div>\n\t\t<div class=\"row\">\n\t\t\t<div class=\"cell bold\"><%= l10n.completion %><\/div>\n\t\t\t<div class=\"cell\">\n\t\t\t\t<%= order.getCompletedAtHuman() %>\n\t\t\t<\/div>\n\t\t<\/div>\n\t<\/div>\n\n\t<% if (hints.length > 0) { %>\n\t\t<% for(var j = 0, l2 = hints.length; j < l2; j++) { %>\n\t\t\t<div class=\"hint\"><%= hints[j].msg %><\/div>\n\t\t<% } %>\n\t<% } %>\n\n\t<div class=\"divider\"><\/div>\n\n\t<% if (warrnings.length > 0) { %>\n\t\t<div class=\"warrnings\">\n\t\t\t<div><%= l10n.dependencies_not_fulfilled %><\/div>\n\t\t\t<% for(var i = 0, l = warrnings.length; i < l; i++) { %>\n\t\t\t\t<div class=\"warrning\"><%= warrnings[i].msg %><\/div>\n\t\t\t<% } %>\n\t\t<\/div>\n\t<% } %>\n\n\t<% if (warrnings.length === 0) { %>\n\t\t<% if (is_free_buy_possible) { %>\n\t\t\t<div class=\"buy_message\"><%= l10n.complete_now_for_free %><\/div>\n\t\t<% }\n\t\telse { %>\n\t\t\t<div class=\"buy_message\"><%= l10n.complete_now %><\/div>\n\t\t<% } %>\n\t<% } %>\n\n\t<% if (show_premium_button) { %>\n\t\t<div class=\"btn_instant_buy js-item-btn-premium-action button_new\"><\/div>\n\t<% } %>\n<\/div>\n",
                        'toolbar_activities': {
                            'main': "<div class=\"left\"><\/div>\n<div class=\"middle\"><%\n\tvar i, l = activity_types.length, activity;\n\n\tfor (i = 0; i < l; i++) {\n\t\tactivity = activity_types[i];\n\n\t\tif (i > 0) { %>\n\t\t\t<div class=\"divider\"><\/div>\n\t\t<% }\n\t%>\n\t\t<div class=\"activity_wrap\">\n\t\t\t<div class=\"activity <%= activity.id %> <%= activity.is_active ? 'active' : '' %>\">\n\t\t\t\t<div class=\"hover_state\">\n\t\t\t\t\t<div class=\"icon\">\n\t\t\t\t\t\t<div class=\"count js-caption\"><\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"dropdown_box js-dropdown\" id=\"toolbar_activity_<%= activity.id %>\"><\/div>\n\t\t\t<\/div>\n\t\t\t<div class=\"ui_highlight\" data-type=\"bubble_menu\" data-subtype=\"<%= activity.id %>\"><\/div>\n\t\t<\/div>\n\t<% }\n%><\/div>\n<div class=\"right\"><\/div>",
                            'list_recruits': "<div class=\"dropdown-list sandy-box js-dropdown-list\">\n\t<div class=\"corner_tl\"><\/div>\n\t<div class=\"corner_tr\"><\/div>\n\t<div class=\"corner_bl\"><\/div>\n\t<div class=\"corner_br\"><\/div>\n\n\t<div class=\"border_t\"><\/div>\n\t<div class=\"border_b\"><\/div>\n\t<div class=\"border_l\"><\/div>\n\t<div class=\"border_r\"><\/div>\n\n\t<div class=\"middle\"><\/div>\n\n\t<div class=\"content buildtime_reduction js-dropdown-item-list\">\n\t\t<% var i, l = options.length, option, build_time_reduction_enabled = GameDataUnits.isBuildTimeReductionEnabled(),\n\t\t\tunit_kind, last_kinds = {};\n\n\t\tfor (i = 0; i < l; i++) {\n\t\t\toption = options[i];\n\t\t\tunit_kind = option.getKind();\n\t\t\tlast_kinds[unit_kind] = i;\n\t\t}\n\n\t\tfor (i = 0; i < l; i++) {\n\t\t\toption = options[i];\n\t\t\t%>\n\t\t\t<div class=\"item recruit option <%= i % 2 === 0 ? 'even' : 'odd' %>\" data-id=\"<%= option.getId() %>\">\n\t\t\t\t<div class=\"icon unit_icon40x40 <%= option.getUnitId() %>\">\n\t\t\t\t\t<div class=\"count text_shadow\"><%= option.getCount() %><\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"time\"><%= DateHelper.readableSeconds(option.getTimeLeft()) %><\/div>\n\n\t\t\t\t<% if (build_time_reduction_enabled) { %>\n\t\t\t\t\t<div class=\"button_new square reduction js-reduction\" data-id=\"<%= option.getId() %>\"><\/div>\n\t\t\t\t<% } %>\n\n\t\t\t\t<% if (last_kinds[option.getKind()] === i) { %>\n\t\t\t\t\t<div class=\"button_new square remove js-delete\" data-id=\"<%= option.getId() %>\"><\/div>\n\t\t\t\t<% } %>\n\t\t\t<\/div>\n\t\t<%\n\n\t\t}\n\t\tif (l === 0) { %>\n\t\t\t<div class=\"item no_results\"><%= l10n.no_results %><\/div>\n\t\t<% } %>\n\t<\/div>\n<\/div>\n",
                            'list_recruits_order_queues': "<div class=\"dropdown-list sandy-box js-dropdown-list\">\n\t<div class=\"corner_tl\"><\/div>\n\t<div class=\"corner_tr\"><\/div>\n\t<div class=\"corner_bl\"><\/div>\n\t<div class=\"corner_br\"><\/div>\n\n\t<div class=\"border_t\"><\/div>\n\t<div class=\"border_b\"><\/div>\n\t<div class=\"border_l\"><\/div>\n\t<div class=\"border_r\"><\/div>\n\n\t<div class=\"middle\"><\/div>\n\n<%\n\tvar counts = options[0];\n\tvar premium_mode_class = options[1];\n%>\n\t<div class=\"content js-dropdown-item-list <%= premium_mode_class %>\">\n<%\n\tif (!counts.barracks && !counts.docks) {\n%>\n\t\t<div class=\"item_no_results\"><%= l10n.no_results %><\/div>\n<%\n\t}\n\t   if (counts.barracks > 0) {\n%>\n\t\t<div class=\"item recruit option even barracks\"><\/div>\n<%\n\t}\n\t   if (counts.docks > 0) {\n%>\n\t\t<div class=\"item recruit option odd docks\"><\/div>\n<%\n\t}\n%>\n\t<\/div>\n<\/div>\n",
                            'list_trades': "<div class=\"dropdown-list sandy-box js-dropdown-list\">\n\t<div class=\"corner_tl\"><\/div>\n\t<div class=\"corner_tr\"><\/div>\n\t<div class=\"corner_bl\"><\/div>\n\t<div class=\"corner_br\"><\/div>\n\n\t<div class=\"border_t\"><\/div>\n\t<div class=\"border_b\"><\/div>\n\t<div class=\"border_l\"><\/div>\n\t<div class=\"border_r\"><\/div>\n\n\t<div class=\"middle\"><\/div>\n\n\t<div class=\"content js-dropdown-item-list\">\n\t\t<% var i, l = options.length, option, icon_class;\n\n\t\tfor (i = 0; i < l; i++) {\n\t\t\ttrade = options[i];\n\t\t\ticon_class = trade.getTradeIconClass(); ;\n\n\t\t\t%>\n\t\t\t<div class=\"item trade option <%= i % 2 === 0 ? 'even' : 'odd' %>\" data-id=\"<%= trade.getId() %>\">\n\t\t\t\t<div class=\"icon trade_icon <%= icon_class %> <%= trade.isReturning() ? 'returning' : '' %>\">\n\t\t\t\t\t<div class=\"arrow_left\"><\/div>\n\t\t\t\t\t<div class=\"arrow_right\"><\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"time\"><%= DateHelper.readableSeconds(trade.getTimeLeft()) %><\/div>\n\t\t\t\t<div class=\"town_link\"><%= trade.getTownLink(parseInt(Game.townId, 10)) %><\/div>\n\n\t\t\t\t<% if (trade.isCancelable()) { %>\n\t\t\t\t\t<div class=\"button_new square remove js-delete\" data-id=\"<%= trade.getId() %>\"><\/div>\n\t\t\t\t<% } %>\n\t\t\t<\/div>\n\t\t<% }\n\n\t\tif (l === 0) { %>\n\t\t\t<div class=\"item no_results\"><%= l10n.no_results %><\/div>\n\t\t<% } %>\n\t<\/div>\n<\/div>\n",
// this is the new improved template
                            'generic_command': "<%\nvar additional_css_from_model = (typeof model.getAdditionalCss === 'function') ? model.getAdditionalCss() : '';\n%>\n\n<div class=\"item command <%= model.getGroupId() %>\">\n    <div class=\"icon attack_type32x32 <%= model.getType() %> <%= additional_css_from_model %>\">\n    <div class=\"arrow_left\"><\/div>\n    <div class=\"arrow_right\"><\/div>\n    <\/div>\n        <div class=\"details_wrapper\">\n            <div class=\"time\"><%= DateHelper.readableSeconds(model.getTimeLeft()) %><\/div>\n            <div class=\"town_link\"><%= model.getTownLink() %><\/div>\n        <\/div>\n\n    <div class=\"button_new square remove js-delete\"><\/div>\n<\/div>",
// these are obsolte (see GP-20799)
                            'list_commands': "<div class=\"dropdown-list sandy-box js-dropdown-list\">\n\t<div class=\"corner_tl\"><\/div>\n\t<div class=\"corner_tr\"><\/div>\n\t<div class=\"corner_bl\"><\/div>\n\t<div class=\"corner_br\"><\/div>\n\t<div class=\"border_t\"><\/div>\n\t<div class=\"border_b\"><\/div>\n\t<div class=\"border_l\"><\/div>\n\t<div class=\"border_r\"><\/div>\n\t<div class=\"middle\"><\/div>\n\t<div class=\"content js-dropdown-item-list\">\n\t<\/div>\n<\/div>",
                            'item_no_results': "<div class=\"item no_results\"><%= l10n.no_results %><\/div>",
                            'item_processing_movements': "<div class=\"item processing_movements\">\n\t<div class=\"text\"><%= l10n.processing_movements %><\/div>\n\t<div class=\"amount\"><\/div>\n<\/div>"                        },
                        'town_groups_list': "<div class=\"content js-dropdown-item-list town_groups_list\"><%\n\tvar town_groups = town_groups_collection.getTownGroups(), group_id, group_name, group, i, l = town_groups.length,\n\t\ttown_id, town, j, l2, has_quest, is_single_group = l === 1, inner_column_index = 0;\n\n\tfor (i = 0; i < l; i++) {\n\t\tgroup = town_groups[i];\n\t\tgroup_id = group.getId();\n\t\tgroup_name = group_id === 'null' ? 'Keine Gruppe' : group.getName();\n\n\t\t%>\n\t\t<div class=\"town_group town_group_<%= group_id %> <%= group.isActive() ? 'selected' : '' %> <%= group.isCollapsed() ? 'collapsed' : '' %>\">\n\t\t\t<div class=\"group_name\">\n\t\t\t\t<div class=\"icon\"><\/div>\n\t\t\t\t<div class=\"toggle_group\" data-groupid=\"<%= group_id %>\"><\/div>\n\t\t\t\t<div class=\"name\" data-groupid=\"<%= group_id %>\"><%= group_name %> (<%= town_groups_towns_collection.getTownsCount(group_id) %>)<\/div>\n\t\t\t<\/div>\n\t\t\t<div class=\"group_towns\" data-groupid=\"<%= group_id %>\">\n\t\t\t\t<%\n\t\t\t\tvar town, group_towns = town_groups_towns_collection.getTowns(group_id),\n\t\t\t\t\tl2 = group_towns.length;\n\n\t\t\t\tif (is_single_group) { %>\n\t\t\t\t\t<div class=\"inner_column inner_column_<%= inner_column_index %>\">\n\t\t\t\t<%\n\t\t\t\t\tinner_column_index++;\n\t\t\t\t}\n\n\t\t\t\tfor (j = 0; j < l2; j++) {\n\t\t\t\t\ttown = group_towns[j];\n\t\t\t\t\ttown_id = town.getTownId(),\n\t\t\t\t\ttown_model = town.getTownModel();\n\t\t\t\t\thas_quest = island_quests_collection.hasViableOrRunningNotTimeBasedQuestsForIsland(town_model.getIslandX(), town_model.getIslandY());\n\n\t\t\t\t\tif (typeof SINGLE_GROUP_MAX_ROWS_PER_SUB_GROUP === 'undefined') {\n\t\t\t\t\t\tSINGLE_GROUP_MAX_ROWS_PER_SUB_GROUP = j;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (is_single_group && j !== 0 && j % SINGLE_GROUP_MAX_ROWS_PER_SUB_GROUP === 0) { %>\n\t\t\t\t\t\t<\/div>\n\t\t\t\t\t<%\n\t\t\t\t\t\tif (j < l2) { %>\n\t\t\t\t\t\t\t<div class=\"inner_column inner_column_<%= inner_column_index %>\">\n\t\t\t\t\t\t<%\n\t\t\t\t\t\t\tinner_column_index++;\n\t\t\t\t\t\t}\n\t\t\t\t\t} %>\n\t\t\t\t\t\t<div class=\"item town_group_town <%= j % 2 === 0 ? 'even' : 'odd' %> <%= town.isCurrentTown() ? 'selected' : '' %>\"\n\t\t\t\t\t\t\t\tname=\"<%= town_id %>\"\n\t\t\t\t\t\t\t\tdata-groupid=\"<%= group_id %>\"\n\t\t\t\t\t\t\t\tdata-townid=\"<%= town_id %>\">\n\n\t\t\t\t\t\t\t<div class=\"island_quest_icon <%= !has_quest ? 'hidden' : '' %>\" data-townid=\"<%= town_id %>\"><\/div>\n\t\t\t\t\t\t\t<div class=\"attack_icon hidden\" data-townid=\"<%= town_id %>\"><\/div>\n\t\t\t\t\t\t\t<div class=\"support_icon hidden\" data-townid=\"<%= town_id %>\"><\/div>\n\t\t\t\t\t\t\t<div class=\"revolt_running_icon hidden\" data-townid=\"<%= town_id %>\"><\/div>\n\t\t\t\t\t\t\t<div class=\"revolt_arising_icon hidden\" data-townid=\"<%= town_id %>\"><\/div>\n\t\t\t\t\t\t\t<div class=\"conquest_icon hidden\" data-townid=\"<%= town_id %>\"><\/div>\n\t\t\t\t\t\t\t<span class=\"town_name\"><%= town.getTownName() %><\/span>\n\t\t\t\t\t\t\t<% if (group.isRealTownGroup()) { %>\n\t\t\t\t\t\t\t\t<div class=\"delete_town\" data-groupid=\"<%= group_id %>\" data-townid=\"<%= town_id %>\"><\/div>\n\t\t\t\t\t\t\t<% } %>\n\t\t\t\t\t\t<\/div>\n\t\t\t\t\t<%\n\t\t\t\t}\n\n\t\t\t\tif (is_single_group) { %>\n\t\t\t\t\t<\/div>\n\t\t\t\t<% }\n\n\t\t\t\tif (l2 === 0) { %>\n\t\t\t\t\t<div class=\"town_name item option\"><%= l10n.no_towns_in_group %><\/div>\n\t\t\t\t<% } %>\n\t\t\t<\/div>\n\t\t<\/div><%\n\t} %>\n<\/div>\n\n<div class=\"corner_tl\"><\/div>\n<div class=\"corner_tr\"><\/div>\n<div class=\"corner_bl\"><\/div>\n<div class=\"corner_br\"><\/div>\n\n<div class=\"border_t\"><\/div>\n<div class=\"border_b\"><\/div>\n<div class=\"border_l\"><\/div>\n<div class=\"border_r\"><\/div>\n\n<div class=\"middle\"><\/div>",
                        'quickbar_main': "<div class=\"left\">\n\t<div class=\"btn_quickbar_settings quickbar_settings_button\"><\/div>\n\t<div class=\"container\">\n\t\t<!-- Here goes left options -->\n\t<\/div>\n<\/div>\n\n<div class=\"right\">\n\t<div class=\"container\">\n\t\t<!-- Here goes right options -->\n\t<\/div>\n<\/div>",
                        'quickbar_options': "<%\nvar i, l = options.length, option, sub_options;\n\nfor (i = 0; i < l; i++) {\n\toption = options[i]; %>\n\n\t<div\n\t\tclass=\"option <%= option.isDropdownMenu() ? 'quickbar_dropdown' : 'quickbar_button' %>\"\n\t\tdata-option_id=\"<%= option.getId() %>\"\n\t\tid=\"quickbar_dropdown<%= option.getId() %>\">\n\t\t<div class=\"caption js-caption ui-game-selectable\" data-option_id=\"<%= option.getId() %>\"><%= option.getName() %>\n\t\t\t<% if(option.isDropdownMenu()) { %>\n\t\t\t\t<div class=\"dropdown_indicator\"><\/div>\n\t\t\t<% } %>\n\t\t<\/div>\n\n\t\t<% if (option.isDropdownMenu()) {\n\t\t\tsub_options = option.getSubOptions();\n\t\t\t%>\n\t\t\t<div class=\"dropdown-list quickbar sandy-box js-dropdown-list\">\n\t\t\t\t<div class=\"corner_tl\"><\/div>\n\t\t\t\t<div class=\"corner_tr\"><\/div>\n\t\t\t\t<div class=\"corner_bl\"><\/div>\n\t\t\t\t<div class=\"corner_br\"><\/div>\n\n\t\t\t\t<div class=\"border_t\"><\/div>\n\t\t\t\t<div class=\"border_b\"><\/div>\n\t\t\t\t<div class=\"border_l\"><\/div>\n\t\t\t\t<div class=\"border_r\"><\/div>\n\n\t\t\t\t<div class=\"middle\"><\/div>\n\n\t\t\t\t<div class=\"content js-dropdown-item-list\">\n\t\t\t\t\t<% var j, l2 = sub_options.length, sub_option;\n\n\t\t\t\t\tfor (j = 0; j < l2; j++) {\n\t\t\t\t\t\tsub_option = sub_options[j]; %>\n\t\t\t\t\t\t<div class=\"item option <%= j % 2 === 0 ? 'even' : 'odd' %>\" name=\"<%= j %>\">\n\t\t\t\t\t\t\t<%= sub_option.getName() %>\n\t\t\t\t\t\t<\/div>\n\t\t\t\t\t<% } %>\n\t\t\t\t<\/div>\n\t\t\t<\/div>\n\t\t<% } %>\n\n\t<\/div>\n<% } %>",
                        'casted_powers': "<% var i, l = casted_powers.length, casted_power, css_power_id;\n\nfor (i = 0; i < l; i++) {\n\tcasted_power = casted_powers[i];\n\t%><div class=\"casted_power power_icon16x16 <%= casted_power.getCssPowerIdWithLevel() %>\" data-real_power_id=\"<%= casted_power.getId() %>\"><\/div><% } %>",
                        'casted_power_tooltip': "<%\nvar casted_power_end_at = typeof casted_power_end_at !== 'undefined' ? casted_power_end_at : 0;\nvar has_countdown = casted_power_end_at > 0;\nvar show_population = Object.keys(population).length !== 0 || false;\nvar time_left = Math.max(0, casted_power_end_at - Timestamp.now());\nvar power_id = i_id + (i_level ? ('_lvl' + i_level) : '') + (i_skin ? ('_' + i_skin) : '') + (i_upgradable ? (' ' + i_upgradable) : '');\n%>\n\n<div class=\"temple_power_popup <%= (typeof show_image === 'undefined' || show_image) ? '' : 'no-image' %>\">\n\t<% var common_translations = DM.getl10n('common'); %>\n\t<div class=\"temple_power_popup_image power_icon86x86 <%= i_id + (i_level ? (' lvl lvl' + i_level) : '') + (i_skin ? (' ' + i_skin) : '') + (i_upgradable ? (' ' + i_upgradable) : '') %>\"\/>\n\n\t<div class=\"temple_power_popup_info\">\n\t\t<h4><%= i_name %><\/h4>\n\t\t<p><%= i_descr %><\/p>\n\t\t<% if (typeof show_extended_data === 'undefined' || show_extended_data) { %>\n\t\t\t<p><b><%= i_effect %><\/b><\/p>\n\n\t\t\t<% if (typeof power !== 'undefined' && power.id === 'population_boost') { %>\n\t\t\t\t<p><b><%= common_translations.limit_per_city %><\/b><br\/>\n\t\t\t\t<%= s(common_translations.max_population_boost, Game.constants.common.max_population_extra) %><\/p>\n\t\t\t<% } %>\n\n\t\t\t<% if ((typeof power !== 'undefined' && power.favor) && (typeof show_costs !== 'undefined' && show_costs)) { %>\n\t\t\t\t<p>\n\t\t\t\t\t<img src=\"<%= Game.img() %>\/game\/res\/favor.png\" alt=\"\" \/>\n\t\t\t\t\t<%= s(common_translations.label_favor, power.favor) %>\n\t\t\t\t<\/p>\n\t\t\t<% } %>\n\n\t\t\t<% if (show_population) { %>\n\t\t\t\t<div class=\"population_info\">\n            \t\t<div class=\"population_icon\"><\/div>\n\t\t\t\t\t<b><%= population.all + ' (' + population.unit + ')' %><\/b>\n\t\t\t\t<\/div>\n\t\t\t<% } %>\n\n\t\t\t<% if (has_countdown) { %>\n\t\t\t\t<img alt=\"\" src=\"<%= Game.img() %>\/game\/res\/time.png\">\n\t\t\t\t<span class=\"eta\"><%= DateHelper.readableSeconds(time_left, true) %><\/span>\n\t\t\t\t<br \/>\n\n\t\t\t\t<% if (typeof extendable !== 'undefined' && extendable && power.favor) { %>\n\t\t\t\t\t<span class=\"bold\">\n\t\t\t\t\t\t<?php \/*\n\t\t\t\t\t\t\tWe want to check if the hours part of the string is 1,\n\t\t\t\t\t\t\tso we check if seconds is BELOW 2 hours\n\t\t\t\t\t\t*\/ ?>\n\t\t\t\t\t\t<%= common_translations.question_powers_extend_first_time(power.lifetime * 0.5 < Timestamp.fromHours(2) ? 1 : 2, GameDataPowers.getPowerExtensionCost(), DateHelper.readableSeconds(power.lifetime * 0.5)) %>\n\t\t\t\t\t\t<%= common_translations.question_powers_extend_second_time(power.lifetime * 0.25 < Timestamp.fromHours(2) ? 1 : 2, DateHelper.readableSeconds(power.lifetime * 0.25)) %>\n\t\t\t\t\t<\/span>\n\t\t\t\t<% } %>\n\n\t\t\t<% } %>\n\t\t<% } %>\n\t<\/div>\n\n<\/div>\n\n<% if (has_countdown) { %>\n\t<script type=\"text\/javascript\">\n\t\t$(\"div.temple_power_popup_info span.eta\").countdown2({\n\t\t\tname: 'power_popup_info_<%= power_id %>',\n\t\t\tdisplay : \"readable_seconds_with_days\",\n\t\t\ttimestamp_end : <%= casted_power_end_at %>\n\t\t});\n\t<\/script>\n<% } %>\n",
                        'culture_overview': "<div class=\"culture_overview\">\n\t<div class=\"caption\">\n\t\t<div class=\"icon town\"><\/div><span><%= town_count %><\/span>\n\t\t<div class=\"icon culture\"><\/div><span><%= culture_points %><\/span>\n\t<\/div>\n<\/div>\n<div class=\"btn_extend slide_button\"><\/div>",
                        'resources_bar_main': "<% var i, l = indicators_data.length, indicator, limit_reached;\n\nfor (i = 0; i < l; i++) {\n\tindicator = indicators_data[i];\n\tlimit_reached = indicator.value === storage_capacity;\n    negative = indicator.name === 'population' && indicator.value < 0;\n\t%>\n\t<div class=\"indicator <%= indicator.name %>\" data-type=\"<%= indicator.name %>\">\n\t\t<div class=\"wrapper\">\n\t\t\t<canvas width=\"30\" height=\"30\"><\/canvas>\n\t\t\t<div class=\"icon\"><\/div>\n\t\t\t<div class=\"amount <%= limit_reached ? 'limit_reached' : '' %> <%= negative ? 'negative' : '' %> ui-game-selectable\"><%= indicator.value %><\/div>\n\t\t\t<% if (indicator.plenty) { %>\n\t\t\t\t<div class=\"res_plenty\"><\/div>\n\t\t\t<% }\n\t\t\t   else if (indicator.rare) { %>\n\t\t\t\t<div class=\"res_rare\"><\/div>\n\t\t\t<% } %>\n\t\t<\/div>\n\t\t<div class=\"ui_highlight\" data-type=\"resource_bar\" data-subtype=\"<%= indicator.name %>\"><\/div>\n\t<\/div>\n<% } %>\n",
                        'resources_tooltip': "<div class=\"islandinfo islandinfo-<%= icon_class_suffix %>\">\n    <div><\/div>\n<\/div>\n<div class=\"island_resource_info\">\n    <h4><%= l10n[resource_type].name %><\/h4>\n    <span>\n        <%= l10n.production_per_hour + ' ' + production %>\n    <\/span>\n    <br \/>\n    <span>\n        <%= l10n.storage_size + ' ' + storage_size %>\n    <\/span>\n    <% if (show_rare_plenty_hint) { %>\n        <br \/>\n        <b>\n            <%= (resource_type === resource_rare) ? '<br \/>' + l10n[resource_type].rare : '' %>\n            <%= (resource_type === resource_plenty) ? '<br \/>' + l10n[resource_type].plenty : '' %>\n            <%= l10n.rare_plenty_disabled %>\n        <\/b>\n    <% } %>\n<\/div>",
                        'city_overview': {
                            'main': "<% var building, item, animation_class, merged_buildings = [].concat(buildings, items);\n\nfor (var i = 0, l = merged_buildings.length; i < l; i++) {\n\tvar building = merged_buildings[i]; %>\n\t<div class=\"city_overview_building <%= building.getCssClassName() %> <%= building.getCssClassForConstructionMode() %>\" data-id=\"<%= building.getBuildingId()%>\"><\/div>\n<% } %>\n\n<div class=\"city_overview_building special_building_spot1\" data-id=\"special1\"><\/div>\n<div class=\"city_overview_building special_building_spot2\" data-id=\"special2\"><\/div>\n\n<% for (i = 0, l = animations.length; i < l; i++) {\n\tvar animation_class = animations[i]; %>\n\t<div class=\"city_overview_building_animation <%= animation_class %>\"><\/div>\n<% } %>\n\n<img id=\"index_map_image\" class=\"empty\" src=\"\/images\/transparent.png\" usemap=\"#map_town\">\n<map name=\"map_town\" id=\"map_town\">\n\t<% var i, l = merged_buildings.length, building;\n\tfor (i = 0; i < l;i ++) {\n\t\tvar building = merged_buildings[i],\n\t\t\timage_map_coords = building.getImageMapCoordinates();\n\n\t\tif (image_map_coords) { %>\n\t\t\t<area shape=\"poly\" id=\"building_main_area_<%= building.getBuildingId() %>\" coords=\"<%= building.getImageMapCoordinates() %>\" href=\"#\" alt=\"<%= building.getBuildingName(building.getBuildingId()) %>\" data-building=\"<%= building.getBuildingId() %>\" data-level=\"<%= building.getLevel() %>\" \/>\n\t\t<% } %>\n\t<% } %>\n<\/map>\n",
                            'environment_animations': "<% for (var i = 0; i < animations.length; i++) {\nvar animation_class = animations[i]; %>\n<div class=\"environment_animation <%= animation_class %>\"><\/div>\n<% } %>",
                            // Used for events in the city overview
                            // aka. mermaid / Valentinesday events
                            'game_events_items': "<div class=\"mermaid js-mermaid\">\n\t<div class=\"mouseover_element\"><\/div>\n<\/div>\n"                            //
                        },
                        'construction_queue': {
                            'queue': "<%\nvar l = orders.length;\n%>\n<div class=\"ui_various_orders <%= controller.getQueueType() %> <%= GameDataConstructionQueue.getQueueCssClasses(l) %> js-tutorial-construction-queue\">\n\t<%\n\tfor (var i = 0; i < l; i++) {\n\t\tvar order = orders[i];\n\t\tvar building_css_class = order.getBuildingId();\n\t\t%>\n\n\t\t<div class=\"js-queue-item js-tutorial-queue-item queued_building_order order_id_<%= order.getId() %> <%= GameDataConstructionQueue.getQueueItemCssClasses(order, i, l) %> <%= building_css_class %>\" data-order_id=\"<%= order.getId() %>\">\n\t\t\t<!-- Should be initialized only in specific case, but shown always -->\n\t\t\t<span class=\"countdown js-item-countdown\">\n\t\t\t\t<%= DateHelper.readableSeconds(order.getDuration()) %>\n\t\t\t<\/span>\n\t\t\t<div class=\"actions\">\n\t\t\t\t<% if (controller.doInitializePremiumButton(i)) { %>\n\t\t\t\t\t<div class=\"btn_time_reduction button_new square gold js-item-btn-premium-action js-tutorial-queue-item-btn-premium-action <%= controller.getQueueType() %>\"><\/div>\n\t\t\t\t<% } %>\n\t\t\t\t<% if (i === l - 1) { %>\n\t\t\t\t\t<div class=\"btn_cancel_order button_new square remove js-item-btn-cancel-order\"><\/div>\n\t\t\t\t<% } %>\n\t\t\t<\/div>\n\t\t\t<div class=\"construction_queue_sprite frame\">\n\t\t\t\t<div class=\"item_icon <%= controller.getIconType() %> <%= building_css_class %> js-item-icon\">\n\t\t\t\t\t<% if (order.hasTearDown()) { %>\n\t\t\t\t\t\t<div class=\"construction_queue_sprite tear_down\"><\/div>\n\t\t\t\t\t<% } %>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"upgrade_levels <%= (i === 0 ? 'first_item' : '') %>\">\n\t\t\t\t\t<%= controller.getBuildingLevel(order) %>\n\t\t\t\t\t<span class=\"construction_queue_sprite arrow_green\">&nbsp;<\/span>\n\t\t\t\t\t\t<span class=\"<%= (!order.hasTearDown()) ? 'green' : 'red'%>\">\n\t\t\t\t\t\t\t<%= controller.getNextBuildingLevel(order) %>\n\t\t\t\t\t\t<\/span>\n\t\t\t\t<\/div>\n\t\t\t\t<% if (controller.doInitializeProgressbar(i)) { %>\n\t\t\t\t\t<div class=\"divider_frame\"><\/div>\n\t\t\t\t\t<div class=\"single-progressbar js-item-progressbar time_reduction <%= order.isBeingTearingDown() ? 'tearing_down' : '' %>\"><\/div>\n\t\t\t\t<% } %>\n\t\t\t<\/div>\n\t\t<\/div>\n\t<% } %>\n\t<% for(var i = 0, l = GameDataConstructionQueue.getLength(controller.getQueueType()) - orders.length; i < l; i++) { %>\n\t\t<div class=\"js-queue-item js-tutorial-queue-item construction_queue_sprite empty_slot\"><\/div>\n\t<% } %>\n<\/div>",
                            'advisor_container': "<div class=\"advisor_container\">\n\t<div class=\"construction_queue_sprite queue_advisor-banner-BG\"><\/div>\n\n\t<div class=\"construction_queue_sprite frame\">\n\t\t<div class=\"advisors40x40 curator\"><\/div>\n\t<\/div>\n\t<div class=\"text\"><%= l10n.advisor_banner.curator %><\/div>\n\t<div class=\"btn_activate_curator button_new\"><\/div>\n<\/div>",
                            'queue_instant_buy': "<%\nvar l = orders.length;\nvar queue_type = controller.getQueueType();\nvar queue_css_classes = 'ui_various_orders js-tutorial-construction-queue'\n\t+ ' ' + queue_type\n\t+ ' ' + (controller.showAdvisorOverlay() ? 'curator_not_active' : '')\n\t+ ' ' + GameDataConstructionQueue.getQueueCssClasses(l)\n\t+ ' ' + (controller.getQueueType().indexOf('type_unit_queue') > -1 ? controller.getBuildingType() : '');\n%>\n<div class=\"<%= queue_css_classes %>\">\n\t<%\n\tfor (var i = 0; i < l; i++) {\n\t\tvar order = orders[i];\n\t\tvar order_css_class = GameDataConstructionQueue.getOrderCssClass(order);\n\t\t%>\n\n\t\t<div class=\"js-queue-item js-tutorial-queue-item queued_building_order order_id_<%= order.getId() %> <%= GameDataConstructionQueue.getQueueItemCssClasses(order, i, l) %> <%= order_css_class %>\" data-order_id=\"<%= order.getId() %>\" data-order_index=\"<%= i %>\">\n\t\t\t<span class=\"countdown js-item-countdown\">\n\t\t\t\t<%= DateHelper.readableSeconds(order.getDuration()) %>\n\t\t\t<\/span>\n\n\t\t\t<% if (i === 0) { %>\n\t\t\t\t<div class=\"single-progressbar instant_buy js-item-progressbar <%= queue_type %> <%= order.isBeingTearingDown() ? 'tearing_down' : '' %>\"><\/div>\n\t\t\t<% } %>\n\n\t\t\t<% if (i === l - 1) { %>\n\t\t\t\t<div class=\"btn_cancel_order button_new square remove js-item-btn-cancel-order\"><\/div>\n\t\t\t<% } %>\n\n\t\t\t<% if (i == 0) { %>\n\t\t\t\t<div class=\"btn_time_reduction button_new js-item-btn-premium-action js-tutorial-queue-item-btn-premium-action <%= queue_type %>\"><\/div>\n\t\t\t<% } %>\n\n\t\t\t<div class=\"construction_queue_sprite frame\">\n\t\t\t\t<div class=\"item_icon <%= controller.getIconType() %> <%= order_css_class %> js-item-icon\">\n\t\t\t\t\t<% if (controller.isBuildingQueue()) { %>\n\t\t\t\t\t\t<div class=\"building_level\">\n\t\t\t\t\t\t\t<span class=\"construction_queue_sprite <%= order.isBeingTearingDown() ? 'arrow_red_ver' : 'arrow_green_ver' %>\"><\/span><%= controller.getNextBuildingLevel(order) %>\n\t\t\t\t\t\t<\/div>\n\t\t\t\t\t<% }\n\t\t\t\t\telse if (controller.isUnitQueue()) { %>\n\t\t\t\t\t\t<div class=\"unit_count text_shadow\"><%= order.getUnitsToBuildLeft() %><\/div>\n\t\t\t\t\t<% } %>\n\t\t\t\t<\/div>\n\t\t\t<\/div>\n\t\t<\/div>\n\t<% } %>\n\t<% for(var i = 0, l = GameDataConstructionQueue.getLength(queue_type) - orders.length; i < l; i++) { %>\n\t\t<div class=\"js-queue-item js-tutorial-queue-item construction_queue_sprite empty_slot\"><\/div>\n\t<% } %>\n<\/div>"                        },
                        'city_construction_overlay': {
                            'container': "<% if(show_title) { %>\n\t<span><%= building.getName() %><\/span>\n<% }\nelse { %>\n\t<div class=\"special_gradient left\"><\/div>\n\t<div class=\"special_gradient right\"><\/div>\n\t<% for( var i = 0, l = building_ids.length; i < l; i++) { %>\n\t\t<% var building_id = building_ids[i],\n\t\t\tbuilding = controller.getConstructionOverlayItemBuilding(building_id);\n\t\t%>\n\t\t<div class=\"building_content_container <%= building_id %>\">\n\t\t\t<div class=\"name\"><%= building.getName() %><\/div>\n\t\t\t<div class=\"center_frame\">\n\t\t\t\t<div class=\"construction_queue_sprite frame\">\n\t\t\t\t\t<div class=\"building_icon40x40 <%= building_id %>\"><\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"special_deco\"><\/div>\n\t\t\t\t<div class=\"special_deco_shadow\"><\/div>\n\t\t\t\t<div class=\"button_line\">\n\t\t\t\t\t<div class=\"button_container <%= buildTimeReductionEnabled ? 'two' : 'one' %>\">\n\t\t\t\t\t\t<div class=\"btn_build build_button <%= (building.isUpgradeable()) ? '' : 'disabled' %>\" data-building_id=\"<%= building_id %>\"><\/div>\n\t\t\t\t\t\t<% if (buildTimeReductionEnabled) { %>\n\t\t\t\t\t\t<div class=\"btn_reduce reduce_cost <%= (building.isUpgradeableWithGold()) ? '' : 'disabled' %>\" data-building_id=\"<%= building_id %>\"><\/div>\n\t\t\t\t\t\t<% } %>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t<\/div>\n\t\t<\/div>\n\t\t<% if (i != l-1 && !isIE) { %>\n\t\t\t<div class=\"divider_city_overlay\"><\/div>\n\t\t<% } %>\n\t<% } %>\n\t<div class=\"clearfix\"><\/div>\n<% } %>\n",
                            'frame': "<%\nvar building_id = building.getId();\n%>\n\n<div class=\"city_overview_overlay <%= building_id %>\">\n\t<div class=\"tooltip_with_arrow arrow-bottom-center arrow_type_seperate\">\n\t\t<div class=\"twa_border_top\">\n\t\t\t<div class=\"btn_close_container close_container\" data-building_id=\"<%= building_id %>\"><\/div>\n\t\t<\/div>\n\t\t<div class=\"twa_border_bottom\"><\/div>\n\t\t<div class=\"twa_border_left\"><\/div>\n\t\t<div class=\"twa_border_right\"><\/div>\n\t\t<div class=\"twa_corner_tl\"><\/div>\n\t\t<div class=\"twa_corner_tr\"><\/div>\n\t\t<div class=\"twa_corner_br\"><\/div>\n\t\t<div class=\"twa_corner_bl\"><\/div>\n\t\t<div class=\"twa_arrow js-arrow\"><\/div>\n\t\t<div class=\"twa_background_fake\"><\/div>\n\n\t\t<div class=\"twa_content js-content-area\">\n\t\t\t<span><%= building.getName() %><\/span>\n\n\t\t\t<% if (!building.isSpecialBuildingSpot()) {%><span>(<\/span><% if\n\t\t\t(building.isInConstruction()) { %><span class=\"<%= building.isUpgrading()\n\t\t\t\t? 'green' : 'red'%>\"><span class=\"level_arrow\"><\/span><%= building.getHighestBuildingOrderLevel() %><\/span><% }\n\t\t\telse { %><span><%= building.getBuildingLevelString() %><\/span><% } %><span>)<\/span>\n\t\t\t\t<div class=\"center_frame\">\n\t\t\t\t\t<div class=\"countdown\"><\/div>\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"row\">\n\t\t\t\t\t<div class=\"single-progressbar instant_buy js-progressbar type_building_queue <%= building.isUpgrading() ? '' : 'tearing_down' %>\"><\/div>\n\t\t\t\t\t<% if (GameDataInstantBuy.isEnabled()) { %>\n\t\t\t\t\t\t<div class=\"btn_premium_action button_new\"><\/div>\n\t\t\t\t\t<% }\n\t\t\t\t\telse { %>\n\t\t\t\t\t\t<div class=\"btn_premium_action button_new square gold\"><\/div>\n\t\t\t\t\t<% } %>\n\t\t\t\t<\/div>\n\t\t\t<% } %>\n\t\t<\/div>\n\t<\/div>\n\n\t<div class=\"button_area\">\n\t\t<% if (building.isSpecialBuildingSpot()) {%>\n\t\t\t<div class=\"button_line\">\n\t\t\t\t<div class=\"button_container one\">\n\t\t\t\t\t<div class=\"btn_open_container open_container\" data-building_id=\"<%= building_id %>\"><\/div>\n\t\t\t\t<\/div>\n\t\t\t<\/div>\n\t\t<% } else { %>\n\t\t\t<% if (controller.areBuildButtonsVisible(building)) { %>\n\t\t\t\t<div class=\"button_line\">\n\t\t\t\t\t<div class=\"button_container two\">\n\t\t\t\t\t\t<div class=\"btn_build build_button <%= (building.isUpgradeable()) ? '' : 'disabled' %>\" data-building_id=\"<%= building_id %>\"><\/div>\n\t\t\t\t\t\t<% if (buildTimeReductionEnabled) { %>\n\t\t\t\t\t\t<div class=\"btn_reduce reduce_cost <%= (building.isUpgradeableWithGold()) ? '' : 'disabled' %>\" data-building_id=\"<%= building_id %>\"><\/div>\n\t\t\t\t\t\t<% } %>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t<% } %>\n\t\t<% } %>\n\t<\/div>\n<\/div>\n",
                            'frame_instant_buy': "<%\nvar frame_mode = primary_order && secondary_order ? 'double' : 'single';\n%>\n\n<div class=\"construction_overlay_frame_instant_buy <%= building_id %> <%= frame_mode %>\">\n\t<% if (secondary_order !== null) {\n\t\tvar secondary_order_icon_type = GameDataConstructionQueue.getOrderCssClass(secondary_order);\n\t%>\n\t<% if (building_id === 'academy') { %>\n\t<div class=\"item secondary\" data-order_id=\"<%= secondary_order.getId() %>\" data-queue_type=\"type_research_queue\">\n\t\t<div class=\"small_progressbar type_research_queue <%= secondary_order.isBeingTearingDown() ? 'tearing_down' : '' %>\"><\/div>\n\t\t<div class=\"icon <%= secondary_order_icon_name %> <%= secondary_order_icon_type %>\"><\/div>\n\t<\/div><% } else { %><div class=\"item secondary\" data-order_id=\"<%= secondary_order.getId() %>\" data-queue_type=\"type_unit_queue\" data-unit_kind=\"<%= secondary_order.getKind() %>\">\n\t<div class=\"small_progressbar type_unit_queue <%= secondary_order.isBeingTearingDown() ? 'tearing_down' : '' %>\"><\/div>\n\t<div class=\"icon <%= secondary_order_icon_name %> <%= secondary_order_icon_type %>\"><div class=\"unit_count text_shadow\"><%= secondary_order.getUnitsToBuildLeft() %><\/div><\/div>\n<\/div><% } %><% } %><% if (primary_order !== null) { %><div class=\"item primary\" data-order_id=\"<%= primary_order.getId() %>\" data-queue_type=\"type_building_queue\">\n\t<div class=\"small_progressbar type_building_queue <%= primary_order.isBeingTearingDown() ? 'tearing_down' : '' %>\"><\/div>\n\t<div class=\"icon building_icon40x40 <%= building_id %>\">\n\t\t<div class=\"building_level <%= primary_order.isBeingTearingDown() ? 'tearing_down' : '' %>\">\n\t\t\t<span class=\"construction_queue_sprite <%= primary_order.isBeingTearingDown() ? 'arrow_red_ver' : 'arrow_green_ver' %>\"><\/span><%= controller.getNextBuildingLevel(primary_order) %>\n\t\t<\/div>\n\t<\/div>\n<\/div>\n\t<% } %>\n\t<div class=\"arrow\"><\/div>\n<\/div>"                        },

                        /* @todo Remove when old barracks/docks will be removed */
                        'units_queue': {
                            'queue': "<%\nvar l = orders.length;\n%>\n<div class=\"ui_various_orders <%= controller.getQueueType() %> <%= GameDataConstructionQueue.getQueueCssClasses(l) %> js-tutorial-construction-queue <%= controller.getBuildingType() %>\">\n\t<%\n\tfor (var i = 0; i < l; i++) {\n\t\tvar order = orders[i];\n\t\tvar unit_css_class = order.getType();\n\t\t%>\n\n\t\t<div class=\"js-queue-item js-tutorial-queue-item queued_building_order order_id_<%= order.getId() %> <%= GameDataConstructionQueue.getQueueItemCssClasses(order, i, l) %> <%= unit_css_class %>\" data-order_id=\"<%= order.getId() %>\">\n\t\t\t<!-- Should be initialized only in specific case, but shown always -->\n\t\t\t<span class=\"countdown js-item-countdown\">\n\t\t\t\t<%= DateHelper.readableSeconds(order.getDuration()) %>\n\t\t\t<\/span>\n\t\t\t<div class=\"actions\">\n\t\t\t\t<% if (controller.doInitializePremiumButton(i)) { %>\n\t\t\t\t\t<div class=\"btn_time_reduction button_new square gold js-item-btn-premium-action js-tutorial-queue-item-btn-premium-action <%= controller.getQueueType() %>\"><\/div>\n\t\t\t\t<% } %>\n\t\t\t\t<% if (i === l - 1) { %>\n\t\t\t\t\t<div class=\"btn_cancel_order button_new square remove js-item-btn-cancel-order\"><\/div>\n\t\t\t\t<% } %>\n\t\t\t<\/div>\n\t\t\t<div class=\"construction_queue_sprite frame\">\n\t\t\t\t<div class=\"item_icon <%= controller.getIconType() %> <%= unit_css_class %> js-item-icon\">\n\n\t\t\t\t<\/div>\n\t\t\t\t<div class=\"upgrade_levels\">\n\t\t\t\t<%= (typeof order.getCount !== 'undefined') ? order.getCount() : '' %>\n\t\t\t\t<\/div>\n\t\t\t\t<% if (controller.doInitializeProgressbar(i)) { %>\n\t\t\t\t\t<div class=\"divider_frame\"><\/div>\n\t\t\t\t\t<div class=\"single-progressbar js-item-progressbar time_reduction\"><\/div>\n\t\t\t\t<% } %>\n\t\t\t<\/div>\n\t\t<\/div>\n\t<% } %>\n\t<% for(var i = 0, l = GameDataConstructionQueue.getLength(controller.getQueueType()) - orders.length; i < l; i++) { %>\n\t\t<div class=\"js-queue-item js-tutorial-queue-item construction_queue_sprite empty_slot\"><\/div>\n\t<% } %>\n<\/div>\n",
                            'queue_instant_buy': "<%\nvar l = orders.length;\nvar queue_type = controller.getQueueType();\nvar queue_css_classes = 'ui_various_orders js-tutorial-construction-queue'\n\t+ ' ' + queue_type\n\t+ ' ' + (controller.showAdvisorOverlay() ? 'curator_not_active' : '')\n\t+ ' ' + GameDataConstructionQueue.getQueueCssClasses(l)\n\t+ ' ' + (controller.getQueueType().indexOf('type_unit_queue') > -1 ? controller.getBuildingType() : '');\n%>\n<div class=\"<%= queue_css_classes %>\">\n\t<%\n\tfor (var i = 0; i < l; i++) {\n\t\tvar order = orders[i];\n\t\tvar order_css_class = GameDataConstructionQueue.getOrderCssClass(order);\n\t\t%>\n\n\t\t<div class=\"js-queue-item js-tutorial-queue-item queued_building_order order_id_<%= order.getId() %> <%= GameDataConstructionQueue.getQueueItemCssClasses(order, i, l) %> <%= order_css_class %>\" data-order_id=\"<%= order.getId() %>\" data-order_index=\"<%= i %>\">\n\t\t\t<span class=\"countdown js-item-countdown\">\n\t\t\t\t<%= DateHelper.readableSeconds(order.getDuration()) %>\n\t\t\t<\/span>\n\n\t\t\t<% if (i === 0) { %>\n\t\t\t\t<div class=\"single-progressbar instant_buy js-item-progressbar <%= queue_type %> <%= order.isBeingTearingDown() ? 'tearing_down' : '' %>\"><\/div>\n\t\t\t<% } %>\n\n\t\t\t<% if (i === l - 1) { %>\n\t\t\t\t<div class=\"btn_cancel_order button_new square remove js-item-btn-cancel-order\"><\/div>\n\t\t\t<% } %>\n\n\t\t\t<% if (i == 0) { %>\n\t\t\t\t<div class=\"btn_time_reduction button_new js-item-btn-premium-action js-tutorial-queue-item-btn-premium-action <%= queue_type %>\"><\/div>\n\t\t\t<% } %>\n\n\t\t\t<div class=\"construction_queue_sprite frame\">\n\t\t\t\t<div class=\"item_icon <%= controller.getIconType() %> <%= order_css_class %> js-item-icon\">\n\t\t\t\t\t<% if (controller.isBuildingQueue()) { %>\n\t\t\t\t\t\t<div class=\"building_level\">\n\t\t\t\t\t\t\t<span class=\"construction_queue_sprite <%= order.isBeingTearingDown() ? 'arrow_red_ver' : 'arrow_green_ver' %>\"><\/span><%= controller.getNextBuildingLevel(order) %>\n\t\t\t\t\t\t<\/div>\n\t\t\t\t\t<% }\n\t\t\t\t\telse if (controller.isUnitQueue()) { %>\n\t\t\t\t\t\t<div class=\"unit_count text_shadow\"><%= order.getUnitsToBuildLeft() %><\/div>\n\t\t\t\t\t<% } %>\n\t\t\t\t<\/div>\n\t\t\t<\/div>\n\t\t<\/div>\n\t<% } %>\n\t<% for(var i = 0, l = GameDataConstructionQueue.getLength(queue_type) - orders.length; i < l; i++) { %>\n\t\t<div class=\"js-queue-item js-tutorial-queue-item construction_queue_sprite empty_slot\"><\/div>\n\t<% } %>\n<\/div>",
                            'advisor_container': "<div class=\"advisor_container\">\n\t<div class=\"construction_queue_sprite queue_advisor-banner-BG\"><\/div>\n\n\t<div class=\"construction_queue_sprite frame\">\n\t\t<div class=\"advisors40x40 curator\"><\/div>\n\t<\/div>\n\t<div class=\"text\"><%= l10n.advisor_banner.curator %><\/div>\n\t<div class=\"btn_activate_curator button_new\"><\/div>\n<\/div>"                        }
                    },
                    'premium': {
                        'top_menu': "<div id=\"overviews_link_hover_menu\">\n\t<div class=\"box top left\">\n\t\t<div class=\"box top right\">\n\t\t\t<div class=\"box top center\"><\/div>\n\t\t<\/div>\n\t<\/div>\n\t<div class=\"box middle left\">\n\t\t<div class=\"box middle right\">\n\t\t\t<div class=\"box middle center\">\n\t\t\t\t<ul>\n\t\t\t\t<% us.each(menu_data, function(overviews, adviser) { %>\n\t\t\t\t\t<li class=\"subsection <%= adviser %> <%= active[adviser] ? 'enabled' : 'disabled' %>\">\n\t\t\t\t\t\t<a class=\"adviser\" name=\"<%= adviser %>\" type=\"advisor\"><span class=\"advisors22x22 <%= adviser %>_<%= active[adviser] ? 'active' : 'inactive' %>\"><%= adviser %><\/span><\/a>\n\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t<% us.each(overviews, function(overview, i){ %>\n\t\t\t\t\t\t\t<li class=\"<%= overview %>\"><a name=\"<%= overview %>\" type=\"overview\" href=\"#\"><%= l10n[overview] %><\/a><\/li>\n\t\t\t\t\t\t<% })%>\n\t\t\t\t\t\t<\/ul>\n\t\t\t\t\t<\/li>\n\t\t\t\t<% });%>\n\t\t\t\t<\/ul>\n\t\t\t<\/div>\n\t\t<\/div>\n\t<\/div>\n\t<div class=\"box bottom left\">\n\t\t<div class=\"box bottom right\">\n\t\t\t<div class=\"box bottom center\"><\/div>\n\t\t<\/div>\n\t<\/div>\n<\/div>"                    },
                    'quest_welcome': {
                        'welcome_window': "<div id=\"quest_welcome\">\n\t<div class=\"guide helen_portrait\">\n\t<\/div>\n\t<div class=\"yellowBox\">\n\t\t<div class=\"description\">\n\t\t\t<h3><%= intro.head.window %><\/h3>\n\t\t\t<div><%= intro.text.can_not_skip %><\/div>\n\t\t<\/div>\n\t\t<div class=\"buttons\">\n\t\t\t<div id=\"btn_start_tutorial\" class=\"button_new double_border btn_start_tutorial\"><\/div>\n\t\t<\/div>\n\t<\/div>\n<\/div>\n",
                    },
                    'quest_progressbar': {
                        'tooltip': "<div class=\"quest_progressbar_tooltip\">\n\t<div><%= l10n.mouseover.text(quests_left_count) %><\/div>\n\t<ul class=\"rewards\">\n\t\t<% if (show_hero_reward) { %>\n\t\t\t<li class=\"andromeda\"><div class=\"icon hero25x25 andromeda\"><\/div><%= l10n.mouseover.andromeda %><\/li>\n\t\t<% } %>\n\t\t<li class=\"folks\"><div class=\"icon power_icon24x24 happy_folks\"><\/div><%= l10n.mouseover.folks %><\/li>\n\t<\/ul>\n<\/div>",
                        'window': "<div id=\"quest_inspector\" class=\"quest <%= quest_type %> quest_progress\">\n\t<div class=\"advisor_icon\"><\/div>\n\n\t<div class=\"quest_frame\">\n\t\t<h4><%= l10n.header %><\/h4>\n        <div class=\"horizontal_line\"><\/div>\n\t\t<div class=\"description\"><%= l10n.text[show_hero_reward ? 'with_andromeda' : 'without_andromeda'] %><\/div>\n\n\n        <% var i, l = rewards.length, reward;\n\n        if (l > 0) { %>\n        <div class=\"rewards\">\n            <h4 class=\"rewards_title\"><%= l10n.rewards %><\/h4>\n            <div class=\"horizontal_line\"><\/div>\n            <div class=\"reward_scroll_large\">\n                <div class=\"scroll_left\"><\/div>\n                <div class=\"scroll_right\"><\/div>\n                <div class=\"scroll_middle\">\n                    <div class=\"scroll_content\">\n                        <ul class=\"scroll\">\n                            <% for (i = 0; i < l; i++) {\n                                    reward = rewards[i]; %>\n                                    <li class=\"reward_icon <%= reward.type %> <%= reward.id %>\">\n                                        <div class=\"<%= reward.cssClass %>\"><\/div>\n                                    <\/li>\n                            <% } %>\n                        <\/ul>\n                    <\/div>\n                <\/div>\n            <\/div>\n        <\/div>\n        <% } %>\n\n        <div class=\"buttons\">\n            <div class=\"button_new btn_action\"><\/div>\n            <div class=\"button_new btn_skip\"><\/div>\n        <\/div>\n\t<\/div>\n<\/div>\n"                    },
                    heroes: {
                        'hero_picker': "<div class=\"hero_picker no_hero <%= type %>\">\n\t<div class=\"content\">\n\t\t<div class=\"background <%= background_class %>\"><\/div>\n\t\t<div class=\"icon <%= icon_class %>\">\n\t\t\t<div class=\"caption <%= caption_class %>\"><\/div>\n\t\t<\/div>\n\t\t<div class=\"list <%= list_class %>\" id=\"hero_picker_t<%= Timestamp.now() %>\"><\/div>\n\t\t<div class=\"btn_add <%= btn_add_class %>\"><\/div>\n\t<\/div>\n\t<% if(should_have_remove_and_change_btn) { %>\n\t\t<div class=\"buttons\">\n\t\t\t<div class=\"btn_change <%= btn_change_class %>\"><\/div>\n\t\t\t<div class=\"btn_remove <%= btn_remove_class %>\"><\/div>\n\t\t<\/div>\n\t<% } %>\n\t<% if(should_have_level_btn) { %>\n\t\t<div class=\"place_sim_hero_spinner spinner\"><\/div>\n\t<% } %>\n<\/div>",
                        'dropdown_select_hero': "<% var sel_option = options.searchFor('value', value); %>\n<div class=\"border-left\"><\/div>\n<div class=\"border-right\"><\/div>\n<div class=\"caption\"><%= sel_option.length ? sel_option[0].name : '' %><\/div>\n<div class=\"initial-message-box js-empty\"><\/div>\n<div class=\"arrow\"><\/div>\n<div class=\"dropdown-list default js-sb-select_hero <%= id ? id : '' %>\">\n\t<div class=\"border-left\">\n\t\t<div class=\"btn_arrow_left js-caption\"><\/div>\n\t<\/div>\n\t<div class=\"item-list-viewport js-list-viewport\">\n\t\t<div class=\"item-list js-item-list\">\n\t\t\t<% var i, l = options.length, option;\n\n\t\t\tfor (i = 0; i < l; i++) {\n\t\t\t\toption = options[i];\n\n\t\t\t\tif (i > 0) { %>\n\t\t\t\t\t<div class=\"divider\"><\/div>\n\t\t\t\t<% }\n\t\t\t\tif (option.value) { %>\n\t\t\t\t\t<div class=\"option option_<%= i %>\" name=\"<%= option.value %>\">\n\t\t\t\t\t\t<div class=\"icon hero123x87 <%= option.value %>\"><\/div>\n\t\t\t\t\t\t<div class=\"level\"><%= option.level %><\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<% }\n\t\t\t\telse { %>\n\t\t\t\t\t<div class=\"option option_<%= i %> unassign\" name=\"\">\n\t\t\t\t\t\t<div class=\"icon\">\n\t\t\t\t\t\t\t<div class=\"icon\">\n\t\t\t\t\t\t\t\t<%= option.info %>\n\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<% }\n\t\t\t} %>\n\t\t<\/div>\n\t\t<!--div class=\"slider_container js-sb-slider-container\">\n\t\t\t<div class=\"js-sb-slider\"><\/div>\n\t\t<\/div-->\n\t<\/div>\n\t<div class=\"border-right\">\n\t\t<div class=\"btn_arrow_right js-caption\"><\/div>\n\t<\/div>\n<\/div>",
                        'hero_card': "<div class=\"hero_card category_<%= hero.category %>\">\n\t<% if (typeof show_portrait === \"undefined\" || show_portrait) { %>\n\t<div class=\"portrait grepo_box\">\n\t\t<div class=\"title name\"><%= hero.name %><\/div>\n\t\t<div class=\"box_corner box_corner_tl\"><\/div>\n\t\t<div class=\"box_corner box_corner_tr\"><\/div>\n\t\t<div class=\"box_corner box_corner_bl\"><\/div>\n\t\t<div class=\"box_corner box_corner_br\"><\/div>\n\t\t<div class=\"box_border border_tl\"><\/div>\n\t\t<div class=\"box_border border_tm\"><\/div>\n\t\t<div class=\"box_border border_tr\"><\/div>\n\t\t<div class=\"box_border border_l\"><\/div>\n\t\t<div class=\"box_border border_r\"><\/div>\n\t\t<div class=\"box_border border_b\"><\/div>\n\n\t\t<div class=\"box_corner_extra box_corner_extra_tr\">\n\t\t\t<div class=\"hero_type\"><\/div>\n\t\t<\/div>\n\n\t\t<div class=\"grepo_box_background\"><\/div>\n\t\t<div class=\"grepo_box_content\">\n\t\t\t<div class=\"hero232x164 <%= hero.portrait %>\"><\/div>\n\t\t<\/div>\n\t<\/div>\n\t<div class=\"deco_statue_facewithwings\"><\/div>\n\t<% } %>\n\t<div class=\"hero_info background_marble_brown inner_shadow border_orange <%= (typeof show_portrait !== \"undefined\" && show_portrait == false)?'':'show_chains' %>\">\n\t<% if (typeof show_statistics === \"undefined\" || show_statistics ) { %>\n\t\t<ul class=\"statistics\">\n\t\t\t<li><div class=\"icon unit_info30x30 att_<%=hero.attack_type %>\"><\/div><%= hero.attack + (hero.attack * hero_level \/ 10) %><\/li>\n\t\t\t<li><div class=\"icon unit_info30x30 def_hack\"><\/div><%= hero.def_hack + (hero.def_hack * hero_level \/ 10) %><\/li>\n\t\t\t<li><div class=\"icon unit_info30x30 speed\"><\/div><%= hero.speed %><\/li>\n\t\t\t<li><div class=\"icon unit_info30x30 def_pierce\"><\/div><%= hero.def_pierce + (hero.def_pierce * hero_level \/ 10) %><\/li>\n\t\t\t<li><div class=\"icon unit_info30x30 booty\"><\/div><%= hero.booty %><\/li>\n\t\t\t<li><div class=\"icon unit_info30x30 def_distance\"><\/div><%= hero.def_distance + (hero.def_distance * hero_level \/ 10) %><\/li>\n\t\t<\/ul>\n\t<% } %>\n\t<% if (typeof show_description === \"undefined\" || show_description) { %>\n\t\t<div class=\"description description_viewport background_default border_orange\">\n\t\t\t<div class=\"description_scroller\"><%= hero.description_replaced %><\/div>\n\t\t<\/div>\n\t<% } %>\n\t<% if (typeof additional_info !== \"undefined\" && additional_info) { %>\n\t\t<div class=\"description description_viewport background_default border_orange\">\n\t\t\t<%= additional_info %>\n\t\t<\/div>\n\t<% } %>\n\t<% if (typeof show_requirements !== \"undefined\" && show_requirements) { %>\n\t\t<div class=\"requirements_wrapper\">\n\t\t\t<ul class=\"requirements\">\n\t\t\t\t<% if (hero.exclusive === true) { %>\n\t\t\t\t\t<li class=\"text\"><%= l10n.exclusive_hero %><\/li>\n\t\t\t\t<% } else { %>\n\t\t\t\t\t<li class=\"coin\"><%= hero.cost %><div class=\"icon\"><\/div><\/li>\n\t\t\t\t<% } %>\n\t\t\t<\/ul>\n\t\t\t<div class=\"hire_hero button_new double_border\"><\/div>\n\t\t<\/div>\n\t<% } %>\n\t<\/div>\n<\/div>\n",
                        'player_heroes_overview': "<div class=\"heroes_info\">\n\n    <div class=\"hero_in_town\">\n        <div class=\"hero_icon_border golden_border\">\n            <div class=\"hero_icon_background\"><%\n                if (hero || hero_being_assinged) { %>\n                    <div class=\"hero_icon hero25x25 <%= (hero || hero_being_assinged).getId() %>\"><\/div>\n                <% } %>\n            <\/div>\n        <\/div>\n        <% if (hero || hero_being_assinged) {\n            if (is_injured_hero_in_town) { %>\n\t\t\t\t<div class=\"asclepius_snake_icon\"><\/div>\n                <div class=\"pb_regeneration single-progressbar regeneration\"><\/div>\n            <% }\n            else if (hero_being_assinged) { %>\n                <div class=\"pb_on_the_way_town single-progressbar assigning\"><\/div>\n                <div class=\"btn_cancel_town_travel button_new biggersquare remove\"><\/div>\n            <% }\n            else if (is_healthy_hero_in_town || is_hero_attacking) { %>\n                <div class=\"pb_experience single-progressbar experience\"><\/div>\n                <% if (is_hero_attacking) { %>\n                    <div class=\"sword_icon_border golden_border\">\n                        <div class=\"sword_icon\"><\/div>\n                    <\/div>\n                <% }\n                if (is_healthy_hero_in_town) { %>\n                    <div class=\"btn_experience button_new biggersquare level_up\"><\/div>\n                <% }\n            }\n        }\n        else { %>\n            <div class=\"btn_no_hero_in_town button_new onehalf_border\"><\/div>\n        <% } %>\n    <\/div>\n<\/div>\n"                    },
                    'main_menu': {
                        'item': "<li class=\"<%= type %> main_menu_item <% if (first) { %>first<% } %> <% if (last) { %>last<% } %> <% if (disabled) { %>disabled<% } %>\" data-option-id=\"<%= type %>\">\n\t<span class=\"content_wrapper\">\n\t\t<span class=\"button_wrapper\">\n\t\t\t<span class=\"button\">\n\t\t\t\t<span class=\"icon\"><\/span>\n\t\t\t\t<div class=\"ui_highlight\" data-type=\"main_menu\" data-subtype=\"<%= type %>\"><\/div>\n\t\t\t\t<span class=\"indicator\" data-indicator-id=\"<%= type %>\"><\/span>\n\t\t\t<\/span>\n\t\t<\/span>\n\t\t<span class=\"name_wrapper\">\n\t\t\t<span class=\"name\">\n\t\t\t\t<%= name %>\n\t\t\t\t<% if (rank_element) { %>\n\t\t\t\t<span class=\"rank\"><\/span>\n\t\t\t\t<% } %>\n\t\t\t<\/span>\n\t\t<\/span>\n\t<\/span>\n<\/li>"                    },
                    'units': {
                        'unit': "<div class=\"unit_icon40x40 <%= type %> <%= is_hero ? 'hero_unit' : '' %> <%= hCommon.getUnitCountClass(amount) %> unit\" data-type=\"<%= type %>\">\n\t<div class=\"value\"><%= amount %><\/div>\n\t<div class=\"selected_border\"><\/div>\n<\/div>",
                        'unit_card': "<div class=\"unit_card <%= isMythical ? 'mythical' : category %> <%= unit_skin_class %>\">\n\t<div class=\"portrait grepo_box_silver\">\n\t\t<div class=\"title name\"><%= unit.name %><\/div>\n\t\t<span class=\"unit_info_icons unit_info\">\n\t\t\t<% unit_info_classes.forEach(function(css_class) { %>\n\t\t\t\t<span class=\"unit_info22x22 <%= css_class %>\"><\/span>\n\t\t\t<% }); %>\n\t\t<\/span>\n\t\t<div class=\"box_corner box_corner_tl\"><\/div>\n\t\t<div class=\"box_corner box_corner_tr\"><\/div>\n\t\t<div class=\"box_corner box_corner_bl\"><\/div>\n\t\t<div class=\"box_corner box_corner_br\"><\/div>\n\t\t<div class=\"box_border border_tl\"><\/div>\n\t\t<div class=\"box_border border_tr\"><\/div>\n\t\t<div class=\"box_border border_bl\"><\/div>\n\t\t<div class=\"box_border border_br\"><\/div>\n\t\t<div class=\"box_border border_l\"><\/div>\n\t\t<div class=\"box_border border_r\"><\/div>\n\t\t<div class=\"box_border border_bbl\"><\/div>\n\t\t<div class=\"box_border border_bbr\"><\/div>\n\n\t\t<div class=\"grepo_box_background\"><\/div>\n\t\t<div class=\"grepo_box_content\">\n\t\t\t<div class=\"unit_icon228x165 <%= unit.id %>\"><\/div>\n\t\t<\/div>\n\t<\/div>\n\t<div class=\"deco_statue\"><\/div>\n\n\t<div class=\"unit_info background_marble_brown inner_shadow border_orange show_chains\">\n\t<% if (show_statistics ) { %>\n\t\t<ul class=\"statistics\">\n\t\t\t<% if (category === 'land' ) { %>\n\t\t\t<li><div class=\"icon unit_info30x30 att_<%=unit.attack_type %>\"><\/div><%= unit.attack %><\/li>\n\t\t\t<li><div class=\"icon unit_info30x30 def_hack\"><\/div><%= unit.def_hack %><\/li>\n\t\t\t<li><div class=\"icon unit_info30x30 speed\"><\/div><%= unit.speed %><\/li>\n\t\t\t<li><div class=\"icon unit_info30x30 def_pierce\"><\/div><%= unit.def_pierce %><\/li>\n\t\t\t<li><div class=\"icon unit_info30x30 booty\"><\/div><%= unit.booty || 0 %><\/li>\n\t\t\t<li><div class=\"icon unit_info30x30 def_distance\"><\/div><%= unit.def_distance %><\/li>\n\t\t\t<% } else if (category === 'naval') { %>\n\t\t\t<li><div class=\"icon unit_info30x30 ship_attack\"><\/div><%= unit.attack %><\/li>\n\t\t\t<li><div class=\"icon unit_info30x30 ship_defense\"><\/div><%= unit.defense %><\/li>\n\t\t\t<li><div class=\"icon unit_info30x30 speed\"><\/div><%= unit.speed %><\/li>\n\t\t\t<li><div class=\"icon unit_info30x30 capacity\"><\/div><%= unit.capacity %><\/li>\n\t\t\t<% } %>\n\t\t\t<% if (!hide_population) { %>\n    \t\t\t<li class=\"single_column\"><div class=\"population_icon\"><\/div><%= l10n.population_info(unit.population) %><\/li>\n\t\t\t<% } %>\n\t\t<\/ul>\n\t<% } %>\n\t<% if (show_description) { %>\n\t\t<div class=\"description description_viewport background_default border_orange\">\n\t\t\t<div class=\"description_scroller\"><%= unit.description %><\/div>\n\t\t<\/div>\n\t<% } %>\n\t<% if (additional_info) { %>\n\t\t<div class=\"description description_viewport background_default border_orange\">\n\t\t\t<%= additional_info %>\n\t\t<\/div>\n\t<% } %>\n\t<\/div>\n<\/div>\n"                    },
                    'powers_menu': {
                        'gods_powers': "<div class=\"header\">\n    <div class=\"btn_close\">\n\t<\/div>\n    <div>\n\t\t<%= l10n.title %>\n    \t<span class=\"info_icon\"><\/span>\n\t<\/div>\n<\/div>\n\n<div class=\"god_containers\">\n<% var god_id, god_name, power_id, l, current_favor;\n\nfor (god_id in castable_powers) {\n\tif (castable_powers.hasOwnProperty(god_id)) {\n\t\tgod_name = l10n.gods[god_id];\n\t\tcurrent_favor = player_gods.getCurrentFavorForGod(god_id);\n\t%>\n\t\t<div class=\"god_container\" data-god_id=\"<%= god_id %>\">\n\t\t\t<div class=\"title\"> <%= god_name %> (<span class=\"current_value\" ><%= current_favor %><\/span>)<\/div>\n\t\t\t<div class=\"powers_container clearfix\"><%\n\t\t\t\tl = castable_powers[god_id].length;\n\n\t\t\t\tfor (i = 0; i < l; i++) {\n\t\t\t\t\tpower_id = castable_powers[god_id][i]; %>\n\n\t\t\t\t\t<div class=\"power_icon30x30 <%= power_id %> new_ui_power_icon animated_power_icon animated_power_icon_30x30 js-power-icon\" data-power_id=\"<%= power_id %>\">\n\t\t\t\t\t\t<div class=\"extend_spell\">\n\t\t\t\t\t\t\t<div class=\"gold\"><\/div>\n\t\t\t\t\t\t\t<div class=\"amount\"><span class=\"value\"><\/span>x<\/div>\n\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t<div class=\"js-caption\"><\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<% }\n\t\t\t%><\/div>\n\t\t<\/div>\n\t<% }\n} %>\n<\/div>"                    },
                    'update_notifications': {
                        'index': "<div class=\"caption\">\n\t<%= l10n[state].caption %>\n<\/div>\n<div class=\"message\">\n\t<%= l10n[state].message %>\n\n\t<% if (state === 'updated') { %>\n\t<div class=\"button_new btn_refresh\"><\/div>\n\t<% } %>\n<\/div>\n<div class=\"<%= state %>\"><\/div>\n"                    },
                    'map': {
                        'bpv_farmtown_tooltip': "<div class=\"farmtown_tooltip\">\n\t<div class=\"town_name\"><%= town_name %><\/div>\n\t<div class=\"relation_text\"><%= relation.isLocked() ? l10n.ruin : l10n.in_your_possession %><\/div>\n\t<div class=\"popup_table_inside small\">\n\n\t\t<% if (!relation.isLocked()) { %>\n\t\t\t<div class=\"headline\"><%= l10n.level + ' ' + relation.getLevel() %><\/div>\n\t\t\t<% if (relation.isUpgradeRunning()) { %>\n\t\t\t\t<div class=\"upgrade_level\"><%= relation.getLevel() + 1 %><\/div>\n\t\t\t<% } %>\n\t\t\t<div class=\"divider\"><\/div>\n\t\t\t<div class=\"laurels\"><div class=\"level<%= relation.getLevel() %>\"><div class=\"flag\"><\/div><\/div><\/div>\n\t\t<% } %>\n\n\t\t<div class=\"headline\"><%= l10n.trade %><\/div>\n\t\t<div class=\"divider\"><\/div>\n\t\t<div class=\"resource_line\">\n\t\t\t<div class=\"resources resource_box\">\n\t\t\t\t<div class=\"resources_small <%= resources.demand %>\"><\/div>\n\t\t\t\t<div class=\"you_pay_arrow\"><\/div>\n\t\t\t<\/div>\n\t\t\t<div class=\"ratio\"><%= resources.ratio %><\/div>\n\t\t\t<div class=\"resources resource_box\">\n\t\t\t\t<div class=\"resources_small <%= resources.offer %>\"><\/div>\n\t\t\t\t<div class=\"you_get_arrow\"><\/div>\n\t\t\t<\/div>\n\t\t<\/div>\n\t\t<% if (relation.isUpgradeRunning()) { %>\n\t\t\t<div class=\"headline\"><%= l10n.upgrade_time %><\/div>\n\t\t\t<div class=\"divider\"><\/div>\n\t\t\t<% if (spinner) { %>\n\t\t\t\t<div class=\"spinner\"><\/div>\n\t\t\t<% } else { %>\n\t\t\t\t<div class=\"timer upgrade\"><%= upgrade_time %><\/div>\n\t\t\t<% } %>\n\t\t<% } %>\n\t\t<% if (!relation.isLootable()) { %>\n\t\t\t<div class=\"headline\"><%= l10n.cool_down_time %><\/div>\n\t\t\t<div class=\"divider\"><\/div>\n\t\t\t<% if (spinner) { %>\n\t\t\t\t<div class=\"spinner\"><\/div>\n\t\t\t<% } else { %>\n\t\t\t\t<div class=\"timer next_claim\"><%= next_claim_time %><\/div>\n\t\t\t<% } %>\n\t\t<% } %>\n\t<\/div>\n<\/div>\n",
                        'normal_town_tooltip': "<div class=\"town_tooltip\">\n\t<h4>\n\t\t<%= town.name %>\n\t\t<% if (city_groups) {\n\t\t\tprint(city_groups)\n\t\t} %>\n\t<\/h4>\n\t<div class=\"town_infos\">\n\t\t<table class=\"popup_table_inside town_tooltip_table\">\n\t\t\t<tr>\n\t\t\t\t<td><img src=\"<%= image_path %>\/game\/icons\/player.png\" \/><\/td>\n\t\t\t\t<td><%= town.player_name %><\/td>\n\t\t\t<\/tr>\n\t\t\t<tr>\n\t\t\t\t<td><img src=\"<%= image_path %>\/game\/icons\/points.png\" \/><\/td>\n\t\t\t\t<td><%= l10n.points(town.points) %><\/td>\n\t\t\t<\/tr>\n\t\t\t<% if (typeof town.alliance_name !== 'undefined' && town.alliance_name !== null) { %>\n\t\t\t\t<tr>\n\t\t\t\t\t<td><img src=\"<%= image_path %>\/game\/icons\/ally.png\" \/><\/td>\n\t\t\t\t\t<td><%= town.alliance_name %><\/td>\n\t\t\t\t<\/tr>\n\t\t\t<% } %>\n\t\t\t<% if (protection_end) { %>\n\t\t\t<tr>\n\t\t\t\t<td><div class=\"casted_power power_icon16x16 starter_protection\"><\/td>\n\t\t\t\t<td><span class=\"protection_end\"><%= protection_end  %><\/span><\/td>\n\t\t\t<\/tr>\n\t\t\t<% } %>\n\t\t\t<% if (typeof town.reservation !== 'undefined' && town.reservation !== null) { %>\n\t\t\t\t<tr>\n\t\t\t\t\t<td><span class=\"reservation_tool icon small <%= town.reservation.state %> <%= town.reservation.type %>\"><\/span><\/td>\n\t\t\t\t\t<td><%= reservation_status %><\/td>\n\t\t\t\t<\/tr>\n\t\t\t<% } %>\n\t\t<\/table>\n\t<\/div>\n<\/div>\n",
                        'troop_movement_element': "<tr>\n\t<td>\n\t\t<div class=\"icon map_town_tooltip16x16 <%= icon_type %>\">\n\t<\/td>\n\t<td>\n\t\t<div> <%= text %> <\/div>\n\t<\/td>\n<\/tr>",
                        'units_in_town_element': "<td>\n\t<div class=\"icon unit_icon25x25 <%= unit_type %>\"><\/div>\n\t<div class=\"tooltip_units_amount\"> <%= amount %> <\/div>\n<\/td>\n",
                        'map_movement': "<div id=\"<%= map_movement_id %>\" class=\"movement_main\" data-town=\"<%= town_id %>\" data-movement=\"<%= model_id %>\" data-direction=\"<%= movement_direction %>\">\n    <div class=\"movement_path_wrapper\">\n        <div class=\"movement_path\">\n            <div class=\"movement_moving_path\"><\/div>\n        <\/div>\n        <div class=\"movement_icon_wrapper\">\n            <div class=\"movement_icon\">\n                <div class=\"movement_icon_indicator <%= movement_direction %> <%= movement_type %>\"><\/div>\n            <\/div>\n        <\/div>\n    <\/div>\n<\/div>"                    },
                    'error_messages' : {
                        'cors_error_message' : "<div class=\"cors_error_message\">\n\t<span><%= error_message %><\/span>\n<\/div>"                    },
                    'ranking' : {
                        'main_ranking': "<div class=\"main_ranking <%= main_css_class %>\">\n    <div class=\"game_border\">\n    <% if (should_have_game_border) { %>\n        <%= _game_border %>\n    <% } %>\n        <table>\n            <thead>\n            <\/thead>\n            <tbody>\n            <\/tbody>\n        <\/table>\n    <\/div>\n    <div class=\"footer\">\n        <div class=\"main_ranking_pgr pager_grepo\"><\/div>\n        <div class=\"jump_to_my_rank button_new\"><\/div>\n        <div class=\"search_wrapper\">\n            <div class=\"main_ranking_search_btn button_new\"><\/div>\n            <div class=\"main_ranking_search_textbox textbox\"><\/div>\n        <\/div>\n    <\/div>\n<\/div>",
                        'main_ranking_column': "<tr data-row-id=\"<%= column_data.row_id %>\" class=\"<%= column_css_class %>\">\n    <% for (var i = 0; i < column_data.data.length; i++) { %>\n        <td class=\"data_column\"><%= column_data.data[i] %><\/th>\n    <% } %>\n<\/tr>",
                        'main_ranking_header_row': "<tr>\n    <% for (var i = 0; i < data_headers.length; i++) { %>\n        <th class=\"header_data\"><%= data_headers[i] %><\/th>\n    <% } %>\n<\/tr>",
                        'main_ranking_no_result': "<tr><td colspan=\"<%= header_columns_amount %>\"><%= no_result_l10n %><\/td><\/tr>"                    },
                    'artifacts' : {
                        'artifact_card': "<div class=\"artifact\" data-artifact_id=\"<%= artifact_id %>\">\n    <div class=\"grepo_box\">\n            <div class=\"title\"><%= l10n.name %><\/div>\n            <%= _grepo_box %>\n            <div class=\"content\">\n                <div class=\"artifact_image\"><\/div>\n            <\/div>\n            <div class=\"lock_overlay <%= unlocked ? 'hidden' : '' %>\">\n                <div class=\"grepo_text\"><%= unlocked ? '' : locked_text %><\/div>\n            <\/div>\n    <\/div>\n    <div class=\"deco_statue_facewithwings\"><\/div>\n    <div class=\"artifact_info background_marble_brown border_orange show_chains\">\n        <%= _game_border %>\n        <div class=\"description border_orange\"><%= l10n.description %><\/div>\n        <div class=\"effect background_light\"><%= l10n.effect %><\/div>\n        <div class=\"requirement background_light\"><%= l10n.condition %><\/div>\n    <\/div>\n<\/div>"                    },
                    'notifications' : {
                        'base' : "<div class=\"notification <%= notification_class %>\">\n    <div class=\"description\" style=\"display: none;\">\n        <%= notification_description_html %>\n    <\/div>\n    <a class=\"close\"><\/a>\n    <div class=\"icon\"><\/div>\n<\/div>"                    },
                    'casual_worlds_blessed_town' : {
                        'index': "<div class=\"blessed_tab_content <%= blessed_town %>\">\n    <div class=\"header\">\n        <div class=\"power_wrapper\">\n            <div class=\"power_icon86x86 tyches_blessing_effect <%= disabled %>\"><\/div>\n        <\/div>\n        <div class=\"description\"><%= header_description %><\/div>\n    <\/div>\n    <div class=\"content_wrapper\">\n        <div class=\"content\">\n            <div class=\"game_border\">\n                <%= _game_border %>\n                <div class=\"change_blessed_town_text\"><%= l10n.change_blessed_town %><\/div>\n                <div class=\"new_city_selection\">\n                    <div class=\"text\"><%= l10n.select_new_town %><\/div>\n                    <div id=\"dd_towns\" class=\"dropdown default\"><\/div>\n                    <div class=\"clear\"><\/div>\n                <\/div>\n                <div class=\"changing_question\"><%= l10n.change_blessing_question(town_link) %><\/div>\n                <div class=\"change_blessed_town button button_new\"><\/div>\n                <div class=\"waiting_info\"><%= waiting_text %><\/div>\n            <\/div>\n        <\/div>\n    <\/div>\n    <div class=\"footer\">\n        <div class=\"bowl\"><\/div>\n    <\/div>\n<\/div>"                    },
                    'effects_icon' : {
                        'index' : "<div id=\"effects_icon_tooltip\">\n    <div class=\"title\"><%= l10n.title %><\/div>\n    <%= effects %>\n<\/div>",
                        'effect' : "<div class=\"divider\"><\/div>\n<div class=\"effect_wrapper\">\n    <div class=\"title\">\n        <div class=\"icon\" data-type=\"<%= type %>\"><\/div>\n        <%= l10n.title %>\n    <\/div>\n    <div class=\"description\"><%= l10n.description %><\/div><br \/>\n    <div class=\"bonus_wrapper\">\n        <% if (l10n.bonus.title) { %>\n            <div><%= l10n.bonus.title %><\/div>\n        <% } %>\n        <% for (var bonus in bonus_effects) { %>\n            <% if (bonus_effects.hasOwnProperty(bonus)) { %>\n                <div><%= bonus_effects[bonus] %><\/div>\n            <% } %>\n        <% } %>\n    <\/div><br \/>\n    <div class=\"end_date\"><b><%= active_until + \" \" %><\/b><%= end_date %><\/div>\n<\/div>\n",
                        'effect_party' : "<div class=\"divider\"><\/div>\n<div class=\"effect_wrapper\">\n    <div class=\"title\">\n        <div class=\"icon\" data-type=\"<%= type %>\"><\/div>\n        <%= l10n.title %>\n    <\/div>\n    <div class=\"description\"><%= l10n.description %><\/div><br \/>\n    <div class=\"bonus_wrapper\">\n        <div><%= l10n.bonus.title %><\/div>\n        <div><%= l10n.bonus.duration(duration) %><\/div>\n        <div><%= GameData.resources.wood + \" - \" + wood %><\/div>\n        <div><%= GameData.resources.stone + \" - \" + stone %><\/div>\n        <div><%= GameData.resources.iron + \" - \" + iron %><\/div>\n        <div><%= l10n.bonus.requirements %><\/div>\n        <div><%= l10n.bonus.min_academy_level(min_academy_level) %><\/div>\n    <\/div><br \/>\n    <div class=\"end_date\"><b><%= active_until + \" \" %><\/b><%= end_date %><\/div>\n<\/div>\n"                    },
                    'attack_table_box' : {
                        'header' : "<div class=\"title\"><%= title %><\/div>\n<div class=\"info_icon\"><\/div>",
                        'body' : "<div id=\"<%= id %>\" class=\"<%= attack_css_classes %>\" data-attack=\"<%= attack %>\"><\/div>"                    },
                    'dropdowns' : {
                        'dropdown_select_spell' : "<div class=\"dropdown-list default js-sb-select_spell <%= id ? id : '' %>\">\n    <div class=\"ornament_button\"><\/div>\n    <div class=\"left-border\">\n        <div class=\"border-left-t\"><\/div>\n        <div class=\"border-left-b\"><\/div>\n    <\/div>\n    <div class=\"border-top\">\n    <\/div>\n    <div class=\"item-list-viewport js-list-viewport\">\n        <div class=\"item-list js-item-list\">\n            <% var i, l = options.length, option;\n\n                for (i = 0; i < l; i++) {\n                    option = options[i];\n            %>\n                    <div class=\"option option_<%= i %>\" name=\"<%= option.value %>\">\n                        <div class=\"icon power_icon45x45 <%= option.css_classes %>\"><\/div>\n                    <\/div>\n            <% } %>\n        <\/div>\n    <\/div>\n    <div class=\"border-bottom\">\n    <\/div>\n    <div class=\"right-border\">\n        <div class=\"border-right-t\"><\/div>\n        <div class=\"border-right-b\"><\/div>\n    <\/div>\n<\/div>"                    }

                }// templates
            }); // DM.loadData
        }, //on_data_manager_load_data

        on_document_ready: function () {

            ITowns.initialize({"towns":[]});

            // in iOS, iPad - rotate the game, if somebody uses it not in landscape mode
            if (Game.isiOs()) {
                            }

            // the window factory is selfinitialized
            $.Observer(GameEvents.bot_check.update_started_at_change).publish({});
        },
        game_loader_finishd_hook: function () {
            GameData.add({
                building: {
                    build_cost_reduction_factor: 0.75,
                    build_cost_reduction: 50                },
                island_quests: {
                    exchange_quest_cost: 50                }
            });

            GameData.add({
                heroes_meta: {
                    premium_slot_cost: 250,
                    premium_rotate_offer_cost_gold: 50,
                    premium_halve_cure_cost: 25,
                    max_level: 20,
                    max_heroes: 5,
                    max_heroes_per_town: 1,
                    max_heroes_per_command: 1,
                    time_to_cure: 12960,
                    time_limit_for_halving_cure: 2160,
                    town_travel_time: 4320,
                    coins_exchange_offer_denominator: 2,
                    coins_exchange_offer_numerator: 1                }
            });

            GameData.add({
                crafting_meta: {
                    default_cost_factor: 1,
                    easter: {
                        recipe_cost: 50                    }
                }
            });

            GameData.add({
                inventory: {
                    cost_of_extension: {"11":50,"16":100},
                    start_amount_of_slots: 10,
                    total_amount_of_slots: 20                }
            });

            GameData.add({
                research_bonus: {
                    berth: 6,
                    meteorology_speed: 0.1,
                    cartography_speed: 0.1,
                    colony_ship_speed: 0.1,
                    pottery_storage: 2500,
                    catapult_speed: 4,
                    favor_loot_per_unit: 5,
                    conscription_bonus: 0.1,
                    mathematics_bonus: 0.1,
                    instructor_bonus: 0.1,
                    fertility_improvement_bonus: 0.5,
                    shipwright_bonus: 0.1,
                    call_of_the_ocean_bonus: 0.5,
                    building_crane_bonus: 0.1,
                    architecture_bonus: 0.1,
                    pottery_storage_bonus: 2500,
                    diplomacy_resources_bonus: 0.15                }
            });

            GameData.add({min_main_level_for_tear_down: 10});

            GameData.add({
                colonization_requirements : {
                    docks : 10,
                    academy : 13                }
            });

            GameData.add({map_size: 1000});
            GameData.add({resources: {"wood":"Madeira","stone":"Pedra","iron":"Moedas de prata"}});
            GameData.add({resource_names: {"wood":"Madeira","stone":"Pedra","iron":"Moedas de prata","all":"Todos"}});
            GameData.add({researches: {"slinger":{"name":"Fundibul\u00e1rio","description":"Permite o treino de fundibul\u00e1rios.","research_dependencies":[],"building_dependencies":{"academy":1},"resources":{"wood":300,"stone":500,"iron":200},"required_time":120,"research_points":4,"id":"slinger"},"archer":{"name":"Arqueiros","description":"Permite o treino de arqueiros.","research_dependencies":[],"building_dependencies":{"academy":1},"resources":{"wood":550,"stone":100,"iron":400},"required_time":120,"research_points":8,"id":"archer"},"town_guard":{"name":"Guarda da cidade","description":"A guarda da cidade refor\u00e7a a sua mil\u00edcia com cinco guerreiros por cada n\u00edvel da quinta.","research_dependencies":[],"building_dependencies":{"academy":1},"resources":{"wood":400,"stone":300,"iron":300},"required_time":120,"research_points":3,"id":"town_guard"},"hoplite":{"name":"Hoplitas","description":"Permite o treino de hoplitas.","research_dependencies":[],"building_dependencies":{"academy":4},"resources":{"wood":600,"stone":200,"iron":850},"required_time":480,"research_points":8,"id":"hoplite"},"meteorology":{"name":"Meteorologia","description":"Todas as tropas do seu quartel movem-se 10% mais rapidamente.","research_dependencies":[],"building_dependencies":{"academy":4},"resources":{"wood":2500,"stone":1700,"iron":6500},"required_time":480,"research_points":4,"id":"meteorology"},"espionage":{"name":"Espionagem","description":"Um espi\u00e3o enviado recebe um b\u00f3nus de 20% sobre as moedas de prata investidas.","research_dependencies":[],"building_dependencies":{"academy":7},"resources":{"wood":900,"stone":900,"iron":1100},"required_time":1080,"research_points":3,"id":"espionage"},"booty":{"name":"Lealdade dos alde\u00f5es","description":"Ao recolher recursos das aldeias b\u00e1rbaras, ganha 115% de recursos extra. Por outro lado, os tempos de arrefecimento duplicam.","research_dependencies":[],"building_dependencies":{"academy":7},"resources":{"wood":1300,"stone":1300,"iron":1300},"required_time":1080,"research_points":6,"id":"booty"},"pottery":{"name":"Cer\u00e2mica","description":"O seu armaz\u00e9m consegue guardar 2.500 recursos adicionais.","research_dependencies":[],"building_dependencies":{"academy":7},"resources":{"wood":700,"stone":1500,"iron":900},"required_time":1080,"research_points":4,"id":"pottery"},"rider":{"name":"Cavaleiros","description":"Permite o treino de cavaleiros.","research_dependencies":[],"building_dependencies":{"academy":10},"resources":{"wood":1400,"stone":700,"iron":1800},"required_time":1800,"research_points":8,"id":"rider"},"architecture":{"name":"Arquitetura","description":"Os custos em recursos de todos os edif\u00edcios nesta cidade diminuir\u00e3o 15%.","research_dependencies":[],"building_dependencies":{"academy":10},"resources":{"wood":1900,"stone":2100,"iron":1300},"required_time":1800,"research_points":6,"id":"architecture"},"instructor":{"name":"Instrutor","description":"Os instrutores acompanham o treino dos seus soldados. O seu quartel funciona 10% mais rapidamente.","research_dependencies":[],"building_dependencies":{"academy":10},"resources":{"wood":800,"stone":1300,"iron":1600},"required_time":1800,"research_points":4,"id":"instructor"},"bireme":{"name":"Birremes","description":"Permite a constru\u00e7\u00e3o de birremes.","research_dependencies":[],"building_dependencies":{"academy":13},"resources":{"wood":2800,"stone":1300,"iron":2200},"required_time":3000,"research_points":8,"id":"bireme"},"building_crane":{"name":"Grua","description":"O tempo de constru\u00e7\u00e3o de todos os edif\u00edcios nesta cidade diminuir\u00e1 15%.","research_dependencies":[],"building_dependencies":{"academy":13},"resources":{"wood":3000,"stone":1800,"iron":1400},"required_time":3000,"research_points":4,"id":"building_crane"},"shipwright":{"name":"Construtor naval","description":"Os construtores navais apoiam os seus trabalhadores do estaleiro. O porto trabalha 10% mais rapidamente.","research_dependencies":[],"building_dependencies":{"academy":13},"resources":{"wood":5000,"stone":2000,"iron":3900},"required_time":3000,"research_points":6,"id":"shipwright"},"colonize_ship":{"name":"Navios colonizador","description":"Permite a constru\u00e7\u00e3o de navios colonizador.","research_dependencies":[],"building_dependencies":{"academy":13},"resources":{"wood":7500,"stone":7500,"iron":9500},"required_time":10800,"research_points":0,"id":"colonize_ship"},"chariot":{"name":"Bigas","description":"Permite a constru\u00e7\u00e3o de bigas.","research_dependencies":[],"building_dependencies":{"academy":16},"resources":{"wood":3700,"stone":1900,"iron":2800},"required_time":4800,"research_points":8,"id":"chariot"},"attack_ship":{"name":"Navios-farol","description":"Permite a constru\u00e7\u00e3o de navios-farol.","research_dependencies":[],"building_dependencies":{"academy":16},"resources":{"wood":4400,"stone":2000,"iron":2400},"required_time":4800,"research_points":8,"id":"attack_ship"},"conscription":{"name":"Recrutamento obrigat\u00f3rio","description":"A introdu\u00e7\u00e3o do recrutamento obrigat\u00f3rio permite baixar 10% os custos das unidades terrestres.","research_dependencies":[],"building_dependencies":{"academy":16},"resources":{"wood":3800,"stone":4200,"iron":6000},"required_time":4800,"research_points":4,"id":"conscription"},"demolition_ship":{"name":"Navios incendi\u00e1rios","description":"Permite a constru\u00e7\u00e3o de navios incendi\u00e1rios.","research_dependencies":[],"building_dependencies":{"academy":19},"resources":{"wood":5300,"stone":2600,"iron":2700},"required_time":7800,"research_points":8,"id":"demolition_ship"},"catapult":{"name":"Catapultas","description":"Permite a constru\u00e7\u00e3o de catapultas.","research_dependencies":[],"building_dependencies":{"academy":19},"resources":{"wood":5500,"stone":2900,"iron":3600},"required_time":7800,"research_points":8,"id":"catapult"},"cryptography":{"name":"Criptografia","description":"Sempre que a sua cidade perder moedas de prata devido a um espi\u00e3o inimigo, as suas perdas diminuir\u00e3o 10%.","research_dependencies":[],"building_dependencies":{"academy":19},"resources":{"wood":2500,"stone":3000,"iron":5100},"required_time":7800,"research_points":6,"id":"cryptography"},"democracy":{"name":"Democracia","description":"Os seus cidad\u00e3os apoiam o l\u00edder. Se algu\u00e9m tentar apoderar-se da cidade, ir\u00e1 demorar mais 10%.","research_dependencies":[],"building_dependencies":{"academy":19},"resources":{"wood":3100,"stone":3100,"iron":4100},"required_time":7800,"research_points":6,"id":"democracy"},"small_transporter":{"name":"Navio de transporte r\u00e1pido","description":"Permite a constru\u00e7\u00e3o de navios de transporte r\u00e1pidos.","research_dependencies":[],"building_dependencies":{"academy":22},"resources":{"wood":6500,"stone":2800,"iron":3200},"required_time":10800,"research_points":8,"id":"small_transporter"},"plow":{"name":"Arado","description":"A quinta consegue abastecer 200 habitantes adicionais.","research_dependencies":[],"building_dependencies":{"academy":22},"resources":{"wood":3000,"stone":3300,"iron":2100},"required_time":10800,"research_points":4,"id":"plow"},"berth":{"name":"Beliches","description":"Os seus navios de transporte conseguem transportar 6 unidades adicionais.","research_dependencies":[],"building_dependencies":{"academy":22},"resources":{"wood":8900,"stone":5200,"iron":7800},"required_time":10800,"research_points":6,"id":"berth"},"trireme":{"name":"Trirremes","description":"Permite a constru\u00e7\u00e3o de trirremes.","research_dependencies":[],"building_dependencies":{"academy":25},"resources":{"wood":6500,"stone":3800,"iron":4700},"required_time":14400,"research_points":8,"id":"trireme"},"phalanx":{"name":"Falange","description":"As suas tropas formam uma poderosa falange e por isso apresentam mais 10% de vigor em combate.","research_dependencies":[],"building_dependencies":{"academy":25},"resources":{"wood":4000,"stone":4000,"iron":15000},"required_time":14400,"research_points":9,"id":"phalanx"},"breach":{"name":"Investida","description":"Permite o ataque com recurso a uma investida. Os seus navios entram numa forma\u00e7\u00e3o que permite o transporte de navios at\u00e9 terra de modo mais seguro, mas os seus navios de combate ter\u00e3o 50% menos capacidade de combate contra navios inimigos.<br\/>Ataques com recurso a investidas n\u00e3o t\u00eam efeito em ataques terrestres.","research_dependencies":[],"building_dependencies":{"academy":25},"resources":{"wood":8000,"stone":8000,"iron":9000},"required_time":14400,"research_points":6,"id":"breach"},"mathematics":{"name":"Matem\u00e1tica","description":"Com o desenvolvimento da matem\u00e1tica, os custos dos navios em termos de recursos baixam 10%.","research_dependencies":[],"building_dependencies":{"academy":25},"resources":{"wood":7100,"stone":4400,"iron":8600},"required_time":14400,"research_points":6,"id":"mathematics"},"ram":{"name":"Ar\u00edete","description":"O poder de combate dos seus navios aumenta 10%.","research_dependencies":[],"building_dependencies":{"academy":28},"resources":{"wood":7900,"stone":9200,"iron":14000},"required_time":19800,"research_points":10,"id":"ram"},"cartography":{"name":"Cartografia","description":"A sua frota consegue navegar melhor e \u00e9 10% mais r\u00e1pida.","research_dependencies":[],"building_dependencies":{"academy":28},"resources":{"wood":10000,"stone":6700,"iron":12500},"required_time":19800,"research_points":8,"id":"cartography"},"take_over":{"name":"Conquista","description":"Torna poss\u00edvel conquistar cidades inimigas.","research_dependencies":[],"building_dependencies":{"academy":28},"resources":{"wood":12000,"stone":12000,"iron":16000},"required_time":19800,"research_points":0,"id":"take_over"},"stone_storm":{"name":"Saraivada","description":"Permite que a sua catapulta danifique um edif\u00edcio aleat\u00f3rio em conjunto com a muralha da cidade (exceto para edif\u00edcios especiais). A probabilidade de acerto aumenta 10% para cada catapulta.","research_dependencies":[],"building_dependencies":{"academy":31},"resources":{"wood":8500,"stone":5900,"iron":6600},"required_time":22800,"research_points":4,"id":"stone_storm"},"temple_looting":{"name":"Pilhagem de templos","description":"As suas unidades m\u00edticas conseguem pilhar favores dos templos inimigos (5 favores por unidade - exceto hidras).","research_dependencies":[],"building_dependencies":{"academy":31},"resources":{"wood":9200,"stone":5300,"iron":10000},"required_time":22800,"research_points":6,"id":"temple_looting"},"divine_selection":{"name":"Sele\u00e7\u00e3o divina","description":"As suas unidades m\u00edticas t\u00eam mais 10% de for\u00e7a no ataque e na defesa.","research_dependencies":[],"building_dependencies":{"academy":31},"resources":{"wood":10000,"stone":8000,"iron":12000},"required_time":22800,"research_points":10,"id":"divine_selection"},"combat_experience":{"name":"Experi\u00eancia de combate","description":"Recebe pontos de combate adicionais por 10% das suas unidades destru\u00eddas.","research_dependencies":[],"building_dependencies":{"academy":34},"resources":{"wood":9800,"stone":11400,"iron":14200},"required_time":26400,"research_points":6,"id":"combat_experience"},"strong_wine":{"name":"Vinho forte","description":"A dura\u00e7\u00e3o do festival urbano e dos Jogos Ol\u00edmpicos diminuiu em 15%.","research_dependencies":[],"building_dependencies":{"academy":34},"resources":{"wood":8000,"stone":6500,"iron":11000},"required_time":26400,"research_points":4,"id":"strong_wine"},"set_sail":{"name":"Navegar","description":"Os seus navios colonizadores t\u00eam velas maiores e chegam ao seu destino 10% mais rapidamente.","research_dependencies":[],"building_dependencies":{"academy":34},"resources":{"wood":13000,"stone":9700,"iron":15500},"required_time":26400,"research_points":8,"id":"set_sail"}}});
            GameData.add({farm_town_time_values: {"normal":[300,1200,5400,14400],"booty":[600,2400,10800,28800]}});
                        GameData.add({farm_town: {"building_requirements":{"resources":{"1":{"building":"storage","level":1},"2":{"building":"storage","level":5},"3":{"building":"storage","level":7},"4":{"building":"storage","level":10}},"units":{"1":{"building":"farm","level":5},"2":{"building":"farm","level":7},"3":{"building":"farm","level":10},"4":{"building":"farm","level":15}}},"expansion_times":{"2":300,"3":360,"4":720,"5":2880,"6":5760},"expansion_costs":{"2":1,"3":5,"4":25,"5":50,"6":100},"unlock_costs":{"1":2,"2":8,"3":10,"4":30,"5":50,"6":100},"claim_resource_cooldowns_normal":[300,1200,5400,14400],"claim_resource_cooldowns_booty":[600,2400,10800,28800],"claim_units":{"1":{"sword":12,"slinger":11,"archer":11,"hoplite":9},"2":{"sword":14,"slinger":13,"archer":13,"hoplite":11},"3":{"sword":16,"slinger":15,"archer":15,"hoplite":13},"4":{"sword":18,"slinger":16,"archer":16,"hoplite":14},"5":{"sword":20,"slinger":18,"archer":18,"hoplite":16},"6":{"sword":22,"slinger":20,"archer":20,"hoplite":17}},"claim_unit_cooldowns":{"sword":10800,"slinger":10800,"archer":10800,"hoplite":10800},"max_resources_per_day":{"1":2500,"2":3000,"3":3500,"4":4000,"5":4500,"6":5000}}});
            
            GameData.add({unit_order_refund_factor: 0.5});
            GameData.add({'FarmMouseOverTemplate': "<h4><%= name %><\/h4>\n<span class=\"small\"><%= player_relation_message %><\/span>\n<div class=\"popup_table_inside small\">\n    <div class=\"clearfix\">\n        <div class=\"fp_icon fp_mood\"><\/div>\n        <div class=\"fp_property\">\n            <div>Moral:<\/div>\n            <div class=\"farm_popup_progress_wrapper\">\n                <div class=\"fp_progress\" style=\"width:<%= mood %>%\"><\/div>\n                <div class=\"fp_text\"><%= mood %>%<\/div>\n            <\/div>\n        <\/div>\n    <\/div>\n    <div class=\"clearfix\">\n        <div class=\"fp_icon fp_exp\"><\/div>\n        <div class=\"fp_property\">\n            <div>N\u00edvel de expans\u00e3o: <%= expansion_stage %><\/div>\n            <div class=\"farm_popup_progress_wrapper expansion\">\n                <div class=\"fp_expansion\" style=\"width:<%= expansion_stage\/6*100 %>%\"><\/div>\n            <\/div>\n        <\/div>\n    <\/div>\n    <div class=\"clearfix\">\n        <div class=\"fp_icon fp_trade\"><\/div>\n        <div class=\"fp_property\">\n            <div>Com\u00e9rcio:<\/div>\n            <span class=\"you_pay resource_<%= demand %>_icon\"><\/span>\n            <span class=\"popup_ratio\">1:<%= Math.round(ratio * 100) \/ 100 %><\/span>\n            <span class=\"you_get resource_<%= offer %>_icon\"><\/span>\n        <\/div>\n    <\/div>\n\n    <% if(loot > Timestamp.now() && Game.gfx_level > 0 ){ %>\n    <div class=\"clearfix\">\n        <div class=\"fp_icon fp_loot\"><\/div>\n        <div class=\"fp_property\">\n            Pedido seguinte:<br\/>\n            <%= DateHelper.timestampToLocaleTime(loot) %>\n        <\/div>\n    <\/div>\n<\/div>\n<% } %>\n<\/div>\n"});
            GameData.add({'ConfirmDialogTemplate': "<div class=\"main_dialog_text_area\">\n\t<p class=\"confirm_dialog_text\">\n\t\t<%= content %>\n\t<\/p>\n\t<div class=\"dialog_buttons\">\n\t<%= confirm ? button(confirm, {href: '#confirm', onclick: onConfirm}, true) : '' %>\n\t<%= cancel ? button(cancel, {href: '#cancel'}, true) : '' %>\n\n\t<% if (check) { %>\n\t\t<hr \/>\n\t\t<% if (use_player_hint) { %>\n\t\t\t<a href=\"#player_hint_checkbox\" class=\"checkbox\"><\/a><span><%= check %><\/span>\n\t\t<% } else { %>\n\t\t\t<a href=\"#checkbox\" class=\"checkbox\"><\/a><span><%= check %><\/span>\n\t\t<% } %>\n\t<% } %>\n\t<\/div>\n<\/div>\n"});
            GameData.add({'dailyBonusStatic': {"name":"Recompensa di\u00e1ria","description":"Escolha a sua recompensa di\u00e1ria. Ser\u00e1 adicionada imediatamente \u00e0 sua cidade selecionada!","num_levels":7,"login_in_a_row_highest":33,"rewards_list":[{"resources":2000,"favor":60,"title":"1"},{"resources":2500,"favor":80,"title":"2"},{"resources":3000,"favor":100,"title":"3"},{"resources":3500,"favor":125,"title":"4"},{"resources":4000,"favor":150,"title":"5"},{"resources":4500,"favor":180,"title":"6"},{"resources":6000,"favor":280,"title":"7+"}],"mystic_rewards":[[{"id":null,"type":"power_reward_effect_inventory_item","power_id":"unit_training_boost","subtype":"slinger","configuration":{"type":"slinger","amount":30,"lifetime":18000,"level":5},"level":5,"stashable":true},{"id":null,"type":"power_reward_effect_inventory_item","power_id":"unit_training_boost","subtype":"hoplite","configuration":{"type":"hoplite","amount":25,"lifetime":14400,"level":4},"level":4,"stashable":true},{"id":null,"type":"power_reward_effect_inventory_item","power_id":"rare_building_order_boost","subtype":"default","configuration":{"percent":25,"lifetime":1200,"level":2},"level":2,"stashable":true}],[{"id":null,"type":"power_reward_effect_inventory_item","power_id":"unit_training_boost","subtype":"slinger","configuration":{"type":"slinger","amount":30,"lifetime":18000,"level":5},"level":5,"stashable":true},{"id":null,"type":"power_reward_effect_inventory_item","power_id":"unit_training_boost","subtype":"hoplite","configuration":{"type":"hoplite","amount":25,"lifetime":14400,"level":4},"level":4,"stashable":true},{"id":null,"type":"power_reward_effect_inventory_item","power_id":"epic_building_order_boost","subtype":"default","configuration":{"percent":50,"lifetime":1800,"level":3},"level":3,"stashable":true},{"id":null,"type":"power_reward_effect_inventory_item","power_id":"unit_order_boost","subtype":"default","configuration":{"percent":30,"lifetime":5400,"level":3},"level":3,"stashable":true}],[{"id":null,"type":"power_reward_effect_inventory_item","power_id":"unit_training_boost","subtype":"slinger","configuration":{"type":"slinger","amount":30,"lifetime":18000,"level":5},"level":5,"stashable":true},{"id":null,"type":"power_reward_effect_inventory_item","power_id":"unit_training_boost","subtype":"hoplite","configuration":{"type":"hoplite","amount":25,"lifetime":14400,"level":4},"level":4,"stashable":true},{"id":null,"type":"power_reward_effect_inventory_item","power_id":"unit_training_boost","subtype":"sword","configuration":{"type":"sword","amount":30,"lifetime":18000,"level":5},"level":5,"stashable":true},{"id":null,"type":"power_reward_effect_inventory_item","power_id":"epic_building_order_boost","subtype":"default","configuration":{"percent":50,"lifetime":1800,"level":3},"level":3,"stashable":true},{"id":null,"type":"power_reward_effect_inventory_item","power_id":"epic_unit_order_boost","subtype":"default","configuration":{"percent":50,"lifetime":1800,"level":3},"level":3,"stashable":true}],[{"id":null,"type":"power_reward_effect_inventory_item","power_id":"unit_training_boost","subtype":"slinger","configuration":{"type":"slinger","amount":30,"lifetime":21600,"level":6},"level":6,"stashable":true},{"id":null,"type":"power_reward_effect_inventory_item","power_id":"unit_training_boost","subtype":"hoplite","configuration":{"type":"hoplite","amount":25,"lifetime":18000,"level":5},"level":5,"stashable":true},{"id":null,"type":"power_reward_effect_inventory_item","power_id":"unit_training_boost","subtype":"sword","configuration":{"type":"sword","amount":30,"lifetime":21600,"level":6},"level":6,"stashable":true},{"id":null,"type":"power_reward_effect_inventory_item","power_id":"unit_training_boost","subtype":"archer","configuration":{"type":"archer","amount":30,"lifetime":21600,"level":6},"level":6,"stashable":true},{"id":null,"type":"power_reward_effect_inventory_item","power_id":"epic_building_order_boost","subtype":"default","configuration":{"percent":50,"lifetime":3600,"level":6},"level":6,"stashable":true},{"id":null,"type":"power_reward_effect_inventory_item","power_id":"epic_unit_order_boost","subtype":"default","configuration":{"percent":50,"lifetime":3600,"level":6},"level":6,"stashable":true}],[{"id":null,"type":"power_reward_effect_inventory_item","power_id":"unit_training_boost","subtype":"slinger","configuration":{"type":"slinger","amount":30,"lifetime":21600,"level":6},"level":6,"stashable":true},{"id":null,"type":"power_reward_effect_inventory_item","power_id":"unit_training_boost","subtype":"hoplite","configuration":{"type":"hoplite","amount":25,"lifetime":21600,"level":6},"level":6,"stashable":true},{"id":null,"type":"power_reward_effect_inventory_item","power_id":"unit_training_boost","subtype":"sword","configuration":{"type":"sword","amount":30,"lifetime":21600,"level":6},"level":6,"stashable":true},{"id":null,"type":"power_reward_effect_inventory_item","power_id":"unit_training_boost","subtype":"archer","configuration":{"type":"archer","amount":30,"lifetime":21600,"level":6},"level":6,"stashable":true},{"id":null,"type":"power_reward_effect_inventory_item","power_id":"epic_building_order_boost","subtype":"default","configuration":{"percent":50,"lifetime":3600,"level":6},"level":6,"stashable":true},{"id":null,"type":"power_reward_effect_inventory_item","power_id":"longterm_unit_order_boost","subtype":"default","configuration":{"percent":20,"lifetime":604800,"level":1},"level":1,"stashable":true}],[{"id":null,"type":"power_reward_effect_inventory_item","power_id":"unit_training_boost","subtype":"slinger","configuration":{"type":"slinger","amount":30,"lifetime":25200,"level":7},"level":7,"stashable":true},{"id":null,"type":"power_reward_effect_inventory_item","power_id":"unit_training_boost","subtype":"hoplite","configuration":{"type":"hoplite","amount":25,"lifetime":21600,"level":6},"level":6,"stashable":true},{"id":null,"type":"power_reward_effect_inventory_item","power_id":"unit_training_boost","subtype":"sword","configuration":{"type":"sword","amount":30,"lifetime":25200,"level":7},"level":7,"stashable":true},{"id":null,"type":"power_reward_effect_inventory_item","power_id":"unit_training_boost","subtype":"archer","configuration":{"type":"archer","amount":30,"lifetime":25200,"level":7},"level":7,"stashable":true},{"id":null,"type":"power_reward_effect_inventory_item","power_id":"epic_building_order_boost","subtype":"default","configuration":{"percent":50,"lifetime":3600,"level":6},"level":6,"stashable":true},{"id":null,"type":"power_reward_effect_inventory_item","power_id":"longterm_unit_order_boost","subtype":"default","configuration":{"percent":20,"lifetime":604800,"level":1},"level":1,"stashable":true},{"id":null,"type":"power_reward_effect_inventory_item","power_id":"trojan_defense","subtype":0,"configuration":{"lifetime":43200,"wall_bonus":1,"militia_bonus":5,"farm_level_cap":25},"level":0,"stashable":true},{"id":null,"type":"power_reward_effect_inventory_item","power_id":"longterm_defense_boost","subtype":"default","configuration":{"percent":5,"lifetime":604800,"level":1},"level":1,"stashable":true}],[{"id":null,"type":"power_reward_effect_inventory_item","power_id":"unit_training_boost","subtype":"slinger","configuration":{"type":"slinger","amount":30,"lifetime":28800,"level":8},"level":8,"stashable":true},{"id":null,"type":"power_reward_effect_inventory_item","power_id":"unit_training_boost","subtype":"hoplite","configuration":{"type":"hoplite","amount":25,"lifetime":25200,"level":7},"level":7,"stashable":true},{"id":null,"type":"power_reward_effect_inventory_item","power_id":"unit_training_boost","subtype":"sword","configuration":{"type":"sword","amount":30,"lifetime":28800,"level":8},"level":8,"stashable":true},{"id":null,"type":"power_reward_effect_inventory_item","power_id":"unit_training_boost","subtype":"archer","configuration":{"type":"archer","amount":30,"lifetime":28800,"level":8},"level":8,"stashable":true},{"id":null,"type":"power_reward_effect_inventory_item","power_id":"epic_building_order_boost","subtype":"default","configuration":{"percent":50,"lifetime":5400,"level":9},"level":9,"stashable":true},{"id":null,"type":"power_reward_effect_inventory_item","power_id":"longterm_unit_order_boost","subtype":"default","configuration":{"percent":20,"lifetime":604800,"level":1},"level":1,"stashable":true},{"id":null,"type":"power_reward_effect_inventory_item","power_id":"trojan_defense","subtype":0,"configuration":{"lifetime":43200,"wall_bonus":1,"militia_bonus":5,"farm_level_cap":25},"level":0,"stashable":true},{"id":null,"type":"power_reward_effect_inventory_item","power_id":"longterm_attack_boost","subtype":"default","configuration":{"percent":10,"lifetime":604800,"level":1},"level":1,"stashable":true},{"id":null,"type":"power_reward_effect_inventory_item","power_id":"longterm_defense_boost","subtype":"default","configuration":{"percent":5,"lifetime":604800,"level":1},"level":1,"stashable":true},{"id":null,"type":"power_reward_effect_inventory_item","power_id":"instant_gold","subtype":"gold","configuration":{"amount":5,"level":0},"level":0,"stashable":true},{"id":null,"type":"power_reward_effect_inventory_item","power_id":"instant_currency","subtype":"coins_of_both","configuration":{"type":"coins_of_both","amount":2,"level":0},"level":0,"stashable":false}]]}});
            GameData.add({celebration_cost: 300});
            GameData.add({additional_runtime_modifier: {"default_unit_movement_boost":30,"lighthouse_speed_bonus":0.15}});

            GameData.add({
                cancel_times: {
                    trades: 300,
                    unit_movements: 600,
                    espionage: 300                }
            });

            GameData.add({
                events: {
                    assassins: {
                        tiers: {"1":{"amount":2,"points":20},"2":{"amount":4,"points":14},"3":{"amount":4,"points":5},"4":{"amount":5,"points":2}},
                        premium: {
                            spots_reset_costs: 5,
                            buy_arrows_costs: 60,
                            buy_arrows_amount: 5                        }
                    }
                }
            });

            GameData.add({default_flag_colors: {"lost_town":"666666","current_player":"FFBB00","own_alliance":"0099FF","default_player":"BB5511","invite_friend":"FAFAFA","enemy":"FF0000","pact":"399B1E"}});
            GameData.add({gods: {"zeus":{"name":"Zeus","id":"zeus","units":[{"def_hack":40,"def_pierce":40,"def_distance":40,"booty":5,"infantry":null,"flying":null,"name":"Enviado divino","name_plural":"Enviados divinos","speed":80,"attack":45,"resources":{"wood":0,"stone":0,"iron":0},"favor":12,"population":3,"build_time":420,"god_id":"all","research_dependencies":[],"building_dependencies":{"temple":1},"is_naval":false,"max_per_attack":null,"max_per_support":null,"category":"mythological_ground","special_abilities":[],"unit_function":"function_both","is_npc_unit_only":false,"id":"godsent","attack_type":"hack","description":"Ocasionalmente, acontece que um guerreiro solit\u00e1rio seja escolhido pelos deuses e aben\u00e7oado. A partir desse momento, a sua arma representa a vontade dos deuses."},{"def_hack":170,"def_pierce":225,"def_distance":505,"booty":360,"infantry":null,"flying":true,"name":"Manticora","name_plural":"Manticoras","speed":110,"attack":1010,"resources":{"wood":5500,"stone":3750,"iron":4250},"favor":270,"population":45,"build_time":6480,"god_id":"zeus","research_dependencies":[],"building_dependencies":{"temple":15},"is_naval":false,"max_per_attack":null,"max_per_support":null,"category":"mythological_ground","special_abilities":["flying"],"unit_function":"function_off","is_npc_unit_only":false,"id":"manticore","attack_type":"pierce","description":"As manticoras t\u00eam a cabe\u00e7a de um le\u00e3o, as asas de um drag\u00e3o e a cauda de um escorpi\u00e3o. Mergulham do c\u00e9u e agarram a sua presa com as garras, ou ferem-na de morte com o seu gigantesco ferr\u00e3o venenoso. As manticoras conseguem voar para outras ilhas sem a ajuda de navios de transporte."},{"def_hack":750,"def_pierce":330,"def_distance":640,"booty":480,"infantry":null,"flying":null,"name":"Minotauro","name_plural":"Minotauros","speed":50,"attack":650,"resources":{"wood":2500,"stone":1050,"iron":5450},"favor":180,"population":30,"build_time":3240,"god_id":"zeus","research_dependencies":[],"building_dependencies":{"temple":10},"is_naval":false,"max_per_attack":null,"max_per_support":null,"category":"mythological_ground","special_abilities":[],"unit_function":"function_both","is_npc_unit_only":false,"id":"minotaur","attack_type":"hack","description":"Os minotauros s\u00e3o criaturas enormes, metade homem, metade touro. Os seus golpes poderosos com o machado despeda\u00e7am qualquer escudo, enquanto a sua enorme resist\u00eancia os converte em advers\u00e1rios dif\u00edceis de derrotar."}],"powers":["divine_sign","bolt","fair_wind","transformation"],"description":"At\u00e9 o in\u00edcio do seu reinado foi sangrento: ele apoderou-se do trono do Olimpo derrotando o seu pr\u00f3prio pai, Cronos. Hoje em dia, a sua ira ainda explode ocasionalmente; os seus raios cintilantes reduzem a cinzas as estruturas humanas.","topic":"Como senhor absoluto do c\u00e9u e da terra, Zeus \u00e9 o deus mais poderoso de todos."},"poseidon":{"name":"Pos\u00eddon","id":"poseidon","units":[{"def_hack":40,"def_pierce":40,"def_distance":40,"booty":5,"infantry":null,"flying":null,"name":"Enviado divino","name_plural":"Enviados divinos","speed":80,"attack":45,"resources":{"wood":0,"stone":0,"iron":0},"favor":12,"population":3,"build_time":420,"god_id":"all","research_dependencies":[],"building_dependencies":{"temple":1},"is_naval":false,"max_per_attack":null,"max_per_support":null,"category":"mythological_ground","special_abilities":[],"unit_function":"function_both","is_npc_unit_only":false,"id":"godsent","attack_type":"hack","description":"Ocasionalmente, acontece que um guerreiro solit\u00e1rio seja escolhido pelos deuses e aben\u00e7oado. A partir desse momento, a sua arma representa a vontade dos deuses."},{"def_hack":1050,"def_pierce":10,"def_distance":1450,"booty":320,"infantry":null,"flying":null,"name":"Ciclope","name_plural":"Ciclopes","speed":40,"attack":1035,"resources":{"wood":3000,"stone":5000,"iron":4000},"favor":240,"population":40,"build_time":5736,"god_id":"poseidon","research_dependencies":[],"building_dependencies":{"temple":12},"is_naval":false,"max_per_attack":null,"max_per_support":null,"category":"mythological_ground","special_abilities":[],"unit_function":"function_both","is_npc_unit_only":false,"id":"zyklop","attack_type":"distance","description":"Os ciclopes s\u00e3o gigantes de um s\u00f3 olho que atiram pedregulhos aos seus inimigos. Quando defendem, os hoplitas, as bigas ou outras unidades com armas de corte s\u00e3o a melhor op\u00e7\u00e3o para derrub\u00e1-los."},{"defense":1400,"transport":null,"is_naval":true,"capacity":0,"name":"Hidra","name_plural":"Hidras","speed":40,"attack":1310,"resources":{"wood":6750,"stone":3500,"iron":4750},"favor":300,"population":50,"build_time":8400,"god_id":"poseidon","research_dependencies":[],"building_dependencies":{"temple":22},"max_per_attack":null,"max_per_support":null,"category":"mythological_naval","special_abilities":[],"unit_function":"function_both","is_npc_unit_only":false,"id":"sea_monster","description":"N\u00e3o h\u00e1 nenhuma onda, tempestade ou inimigo que um marinheiro tema mais do que o ataque de uma hidra. O monstro de nove cabe\u00e7as ergue-se da \u00e1gua, esmaga navios inteiros nas suas bocas e devora a tripula\u00e7\u00e3o ou arrasta-a para as profundezas do reino de Pos\u00eddon."}],"powers":["kingly_gift","call_of_the_ocean","earthquake","sea_storm"],"description":"Vive num pal\u00e1cio de cristal nas profundezas do oceano. Quando est\u00e1 de bom humor, Pos\u00eddon cria novas ilhas e deixa o oceano calmo e naveg\u00e1vel. Quando se enfurece, enterra o seu tridente no ch\u00e3o, provocando tremores de terra, inunda\u00e7\u00f5es e naufr\u00e1gios.","topic":"Pos\u00eddon \u00e9 o deus do oceano."},"hera":{"name":"Hera","id":"hera","units":[{"def_hack":40,"def_pierce":40,"def_distance":40,"booty":5,"infantry":null,"flying":null,"name":"Enviado divino","name_plural":"Enviados divinos","speed":80,"attack":45,"resources":{"wood":0,"stone":0,"iron":0},"favor":12,"population":3,"build_time":420,"god_id":"all","research_dependencies":[],"building_dependencies":{"temple":1},"is_naval":false,"max_per_attack":null,"max_per_support":null,"category":"mythological_ground","special_abilities":[],"unit_function":"function_both","is_npc_unit_only":false,"id":"godsent","attack_type":"hack","description":"Ocasionalmente, acontece que um guerreiro solit\u00e1rio seja escolhido pelos deuses e aben\u00e7oado. A partir desse momento, a sua arma representa a vontade dos deuses."},{"def_hack":105,"def_pierce":70,"def_distance":1,"booty":340,"infantry":null,"flying":true,"name":"Harpia","name_plural":"Harpias","speed":140,"attack":295,"resources":{"wood":2000,"stone":500,"iron":1700},"favor":85,"population":14,"build_time":2016,"god_id":"hera","research_dependencies":[],"building_dependencies":{"temple":5},"is_naval":false,"max_per_attack":null,"max_per_support":null,"category":"mythological_ground","special_abilities":["flying"],"unit_function":"function_off","is_npc_unit_only":false,"id":"harpy","attack_type":"hack","description":"Muitos plebeus falam de criaturas metade ave, metade mulher que mergulham do c\u00e9u em alguns dias de tempestade. Agarram a sua presa num abrir e fechar de olhos antes de desaparecerem novamente \u00e0 mesma velocidade. As harpias conseguem voar para outras ilhas sem a ajuda de navios de transporte."},{"def_hack":480,"def_pierce":345,"def_distance":290,"booty":400,"infantry":null,"flying":null,"name":"Medusa","name_plural":"Medusas","speed":30,"attack":425,"resources":{"wood":1100,"stone":2700,"iron":1600},"favor":110,"population":18,"build_time":4500,"god_id":"hera","research_dependencies":[],"building_dependencies":{"temple":10},"is_naval":false,"max_per_attack":null,"max_per_support":null,"category":"mythological_ground","special_abilities":[],"unit_function":"function_both","is_npc_unit_only":false,"id":"medusa","attack_type":"pierce","description":"Por mais corajoso que seja, qualquer guerreiro que arrisque olhar para os olhos da Medusa sente os seus bra\u00e7os e pernas a ficarem rijos antes de a criatura serpenteante esmagar a est\u00e1tua do guerreiro petrificado."}],"powers":["wedding","happiness","fertility_improvement","desire"],"description":"Ela \u00e9 a esposa de Zeus. Hera \u00e9 bondosa, d\u00e1 aos habitantes for\u00e7a e coragem, fortalece os casamentos e aquece os plebeus enregelados nos frios dias de Inverno.","topic":"Hera \u00e9 a deusa da fam\u00edlia."},"athena":{"name":"Atena","id":"athena","units":[{"def_hack":40,"def_pierce":40,"def_distance":40,"booty":5,"infantry":null,"flying":null,"name":"Enviado divino","name_plural":"Enviados divinos","speed":80,"attack":45,"resources":{"wood":0,"stone":0,"iron":0},"favor":12,"population":3,"build_time":420,"god_id":"all","research_dependencies":[],"building_dependencies":{"temple":1},"is_naval":false,"max_per_attack":null,"max_per_support":null,"category":"mythological_ground","special_abilities":[],"unit_function":"function_both","is_npc_unit_only":false,"id":"godsent","attack_type":"hack","description":"Ocasionalmente, acontece que um guerreiro solit\u00e1rio seja escolhido pelos deuses e aben\u00e7oado. A partir desse momento, a sua arma representa a vontade dos deuses."},{"def_hack":195,"def_pierce":585,"def_distance":80,"booty":200,"infantry":null,"flying":null,"name":"Centauro","name_plural":"Centauros","speed":90,"attack":134,"resources":{"wood":2300,"stone":400,"iron":900},"favor":70,"population":12,"build_time":1638,"god_id":"athena","research_dependencies":[],"building_dependencies":{"temple":4},"is_naval":false,"max_per_attack":null,"max_per_support":null,"category":"mythological_ground","special_abilities":[],"unit_function":"function_def","is_npc_unit_only":false,"id":"centaur","attack_type":"distance","description":"Um centauro \u00e9 um guerreiro com a metade inferior do corpo de um cavalo. O centauro passa rapidamente a galope pelos seus inimigos, dispara setas certeiras e desaparece novamente \u00e0 mesma velocidade. Os centauros s\u00e3o excelentes na defesa contra armas de corte."},{"def_hack":750,"def_pierce":275,"def_distance":275,"booty":160,"infantry":null,"flying":true,"name":"P\u00e9gaso","name_plural":"P\u00e9gasos","speed":175,"attack":100,"resources":{"wood":4000,"stone":1300,"iron":700},"favor":120,"population":20,"build_time":2880,"god_id":"athena","research_dependencies":[],"building_dependencies":{"temple":12},"is_naval":false,"max_per_attack":null,"max_per_support":null,"category":"mythological_ground","special_abilities":["flying"],"unit_function":"function_def","is_npc_unit_only":false,"id":"pegasus","attack_type":"pierce","description":"Um p\u00e9gaso \u00e9 um cavalo alado que mergulha do c\u00e9u para ajudar a cidade quando a batalha parece perdida. \u00c9 excelente na defesa contra armas de impacto. Os p\u00e9gasos conseguem voar para outras ilhas sem a ajuda de navios de transporte."}],"powers":["patroness","wisdom","town_protection","strength_of_heroes"],"description":"Ela \u00e9 filha de Zeus, a invenc\u00edvel. Mesmo se houver um ex\u00e9rcito \u00e0s portas da cidade, t\u00e3o poderoso que a terra estremece sob os seus p\u00e9s, Atena mant\u00e9m-se corajosamente do lado dos guerreiros e transforma-os numa unidade firme e impenetr\u00e1vel.","topic":"Atena \u00e9 a deusa da sabedoria e a deusa patrona."},"hades":{"name":"Hades","id":"hades","units":[{"def_hack":40,"def_pierce":40,"def_distance":40,"booty":5,"infantry":null,"flying":null,"name":"Enviado divino","name_plural":"Enviados divinos","speed":80,"attack":45,"resources":{"wood":0,"stone":0,"iron":0},"favor":12,"population":3,"build_time":420,"god_id":"all","research_dependencies":[],"building_dependencies":{"temple":1},"is_naval":false,"max_per_attack":null,"max_per_support":null,"category":"mythological_ground","special_abilities":[],"unit_function":"function_both","is_npc_unit_only":false,"id":"godsent","attack_type":"hack","description":"Ocasionalmente, acontece que um guerreiro solit\u00e1rio seja escolhido pelos deuses e aben\u00e7oado. A partir desse momento, a sua arma representa a vontade dos deuses."},{"def_hack":825,"def_pierce":300,"def_distance":1575,"booty":240,"infantry":null,"flying":null,"name":"C\u00e9rbero","name_plural":"C\u00e9rberos","speed":20,"attack":210,"resources":{"wood":1950,"stone":2350,"iron":4700},"favor":180,"population":30,"build_time":1680,"god_id":"hades","research_dependencies":[],"building_dependencies":{"temple":10},"is_naval":false,"max_per_attack":null,"max_per_support":null,"category":"mythological_ground","special_abilities":[],"unit_function":"function_def","is_npc_unit_only":false,"id":"cerberus","attack_type":"hack","description":"Com presas afiadas, esta besta de tr\u00eas cabe\u00e7as guarda os port\u00f5es de Hades. Se algu\u00e9m ousar esgueirar-se por ela, cravar\u00e1 as suas presas profunda e dolorosamente na carne dessa pessoa e arrast\u00e1-la-\u00e1 numa imensa agonia para fora. Ningu\u00e9m consegue passar por ela sem pagar com a sua vida. \u00c9 o guarda monstruoso do mundo dos mortos."},{"def_hack":460,"def_pierce":460,"def_distance":595,"booty":440,"infantry":null,"flying":null,"name":"Er\u00ednia","name_plural":"Er\u00ednias","speed":50,"attack":1700,"resources":{"wood":3300,"stone":6600,"iron":6600},"favor":330,"population":55,"build_time":4320,"god_id":"hades","research_dependencies":[],"building_dependencies":{"temple":16},"is_naval":false,"max_per_attack":null,"max_per_support":null,"category":"mythological_ground","special_abilities":[],"unit_function":"function_off","is_npc_unit_only":false,"id":"fury","attack_type":"distance","description":"As Er\u00ednias s\u00e3o as terr\u00edveis filhas de Hades e Pers\u00e9fone. Deusas da vingan\u00e7a, lutam impiedosamente para vingar os mortos. Dos olhos delas caem gotas de sangue venenoso e os seus gritos horr\u00edveis levam os inimigos \u00e0 loucura. S\u00e3o os advers\u00e1rios mais temidos pelos vivos."}],"powers":["pest","resurrection","underworld_treasures","cap_of_invisibility"],"description":"Ele reina sobre o mundo dos mortos e guarda os tesouros do submundo. Odiado por deuses e homens, aprisiona impiedosamente os mortos \u00e0 medida que espalha a doen\u00e7a e o sofrimento. A entrada para o seu reino \u00e9 guardada por C\u00e9rbero, o mastim infernal de tr\u00eas cabe\u00e7as.","topic":"Hades \u00e9 o senhor do mundo dos mortos."},"artemis":{"name":"Artemis","id":"artemis","units":[{"def_hack":40,"def_pierce":40,"def_distance":40,"booty":5,"infantry":null,"flying":null,"name":"Enviado divino","name_plural":"Enviados divinos","speed":80,"attack":45,"resources":{"wood":0,"stone":0,"iron":0},"favor":12,"population":3,"build_time":420,"god_id":"all","research_dependencies":[],"building_dependencies":{"temple":1},"is_naval":false,"max_per_attack":null,"max_per_support":null,"category":"mythological_ground","special_abilities":[],"unit_function":"function_both","is_npc_unit_only":false,"id":"godsent","attack_type":"hack","description":"Ocasionalmente, acontece que um guerreiro solit\u00e1rio seja escolhido pelos deuses e aben\u00e7oado. A partir desse momento, a sua arma representa a vontade dos deuses."},{"def_hack":320,"def_pierce":330,"def_distance":100,"booty":350,"infantry":null,"flying":true,"name":"Grifo","name_plural":"Grifos","speed":90,"attack":900,"resources":{"wood":4100,"stone":2100,"iron":5200},"favor":230,"population":35,"build_time":3420,"god_id":"artemis","research_dependencies":[],"building_dependencies":{"temple":15},"is_naval":false,"max_per_attack":null,"max_per_support":null,"category":"mythological_ground","special_abilities":["flying"],"unit_function":"function_off","is_npc_unit_only":false,"id":"griffin","attack_type":"hack","description":"O grifo \u00e9 o s\u00edmbolo da sabedoria profunda. Consegue voar e \u00e9 o guardi\u00e3o dos deuses. \u00c9 o rei dos ares e senhor das feras. A sua velocidade e mobilidade apenas s\u00e3o superadas pela capacidade que tem para atacar de surpresa."},{"def_hack":700,"def_pierce":700,"def_distance":100,"booty":240,"infantry":null,"flying":null,"name":"Javali de C\u00e1lidon","name_plural":"Javalis de C\u00e1lidon","speed":80,"attack":180,"resources":{"wood":2900,"stone":1500,"iron":1600},"favor":120,"population":20,"build_time":1560,"god_id":"artemis","research_dependencies":[],"building_dependencies":{"temple":10},"is_naval":false,"max_per_attack":null,"max_per_support":null,"category":"mythological_ground","special_abilities":[],"unit_function":"function_def","is_npc_unit_only":false,"id":"calydonian_boar","attack_type":"pierce","description":"O javali de C\u00e1lidon \u00e9 uma unidade terrestre extremamente perigosa, capaz de derrotar sem esfor\u00e7o legi\u00f5es inteiras. Quando est\u00e1 enfurecido, combate at\u00e9 ao \u00faltimo sopro."}],"powers":["natures_gift","effort_of_the_huntress","illusion","cleanse"],"description":"Deusa severa e terr\u00edvel, ela \u00e9 hostil para com todos os homens. Enquanto governante do mundo animal, ela controla um javali de C\u00e1lidon em terra e os grifos nos c\u00e9us. Os seus poderes divinos podem causar alucina\u00e7\u00f5es nos seus inimigos. No entanto, ela tamb\u00e9m consegue melhorar a pontaria dos guerreiros de longo alcance e remover os encantamentos dos inimigos.","topic":"Artemis \u00e9 a deusa da ca\u00e7a."}}});

            GameData.add({
                artifacts: {
                    storage_modification_for_domination_artifact: 0.1                }
            });

            PopupFactory.addTexts({
                'curator_info': 'O administrador ajuda-o a desenvolver e gerir um vasto impÃ©rio. Permite-lhe dar mais ordens de construÃ§Ã£o e prepara-lhe um grande nÃºmero de visÃµes gerais.',
                'trader_info': 'O mercador otimiza os seus ciclos econÃ³micos e permite aumentar 30% a sua produÃ§Ã£o de recursos.',
                'priest_info': 'A alta sacerdotisa tem uma relaÃ§Ã£o particularmente boa com os deuses. Ela aumenta a sua produÃ§Ã£o de favores 50% e apoia as suas unidades mÃ­ticas, que sÃ£o 20% mais fortes em combate.',
                'commander_info': 'O comandante goza da mÃ¡xima consideraÃ§Ã£o no seio das suas tropas. Ele consegue aumentar ainda mais a motivaÃ§Ã£o das suas tropas. As unidades terrestres normais, sÃ£o 20% mais fortes em combate.',
                'captain_info': 'O capitÃ£o Ã© um marinheiro experiente que jÃ¡ derrotou muitas frotas inimigas. A sua experiÃªncia torna as suas unidades navais 20% mais fortes em combate, ao passo que as suas mercadorias chegam Ã s outras ilhas com o dobro da rapidez. O capitÃ£o tambÃ©m lhe permite utilizar o planeador de ataques (apenas disponÃ­vel na versÃ£o de navegador). AlÃ©m disso, ele simplifica a recolha de recursos com a visÃ£o geral das aldeias bÃ¡rbaras.',

                'curator_hint': 'Pode invocar o administrador por 100 moedas de ouro!',
                'trader_hint': 'Pode invocar o mercador por 100 moedas de ouro!',
                'priest_hint': 'Pode invocar a alta sacerdotisa por 100 moedas de ouro!',
                'commander_hint': 'Pode invocar o comandante por 100 moedas de ouro!',
                'captain_hint': 'Pode invocar o capitÃ£o por 100 moedas de ouro!'
            });

            PopupFactory.init();

            $('#delete_all_notifications').tooltip('Eliminar tudo');

            $('#hidden_notification_count').tooltip('HÃ¡ mais notificaÃ§Ãµes.');

            GameData.add({
                'texts': {
                    'curator_confirm': {
                        'title': "Ativar o administrador",
                        'content': "Tem a certeza de que pretende ativar o administrador por 100 moedas de ouro?",
                        'check': "NÃ£o voltar a mostrar esta janela"
                    },
                    'priest_confirm': {
                        'title': "Ativar a alta sacerdotisa",
                        'content': "Tem a certeza de que pretende ativar a alta sacerdotisa por 100 moedas de ouro?",
                        'check': "NÃ£o voltar a mostrar esta janela"
                    },
                    'trader_confirm': {
                        'title': "Ativar o mercador",
                        'content': "Tem a certeza de que pretende ativar o mercador por 100 moedas de ouro?",
                        'check': "NÃ£o voltar a mostrar esta janela"
                    },
                    'captain_confirm': {
                        'title': "Ativar o capitÃ£o",
                        'content': "Tem a certeza de que pretende ativar o capitÃ£o por 100 moedas de ouro?",
                        'check': "NÃ£o voltar a mostrar esta janela"
                    },
                    'commander_confirm': {
                        'title': "Ativar o comandante",
                        'content': "Tem a certeza de que pretende ativar o comandante por 100 moedas de ouro?",
                        'check': "NÃ£o voltar a mostrar esta janela"
                    }
                }
            });

            HelperLayout.updateItowns(TempBarData);
            try {
                delete window.TempBarData;
            } catch (e) {
                window['TempBarData'] = undefined;
            }
            var showOnLogin = [];


            
            
            
            var windows = require('game/windows/ids');
            var priorities = require('game/windows/priorities');

            if (!Game.quest_tutorial_show_welcome_window && showOnLogin.length) {
                //World wonders
                if (HelperLayout.containsGift(showOnLogin, 'hint.age_of_wonder')) {
                    WQM.addQueuedWindow({
                        type: windows.WORLD_WONDERS_WELCOME,
                        priority: priorities.getPriority(windows.WORLD_WONDERS_WELCOME),
                        open_function: function () {
                            return WorldWondersWelcomeWindowFactory.openWindow(0);
                        }
                    });
                }

                if (HelperLayout.containsGift(showOnLogin, 'hint.world_ends')) {
                    WQM.addQueuedWindow({
                        type: windows.WORLD_END_WELCOME,
                        priority: priorities.getPriority(windows.WORLD_END_WELCOME),
                        open_function: function () {
                            return WorldEndWelcomeWindowFactory.openWindow(HelperLayout.getGiftData(showOnLogin, 'hint.world_ends'));
                        }
                    });
                }

                if (HelperLayout.containsGift(showOnLogin, 'hint.ipad')) {
                    WQM.addQueuedWindow({
                        type: windows.IPAD_WELCOME,
                        priority: priorities.getPriority(windows.IPAD_WELCOME),
                        open_function: function () {
                            return IpadWelcomeWindowFactory.openWindow();
                        }
                    });
                }
            }

            //Move Quest window on top
            var wnd_quests_welcome = WM.getWindowByType(windows.QUEST_WELCOME);

            if (wnd_quests_welcome.length) {
                wnd_quests_welcome[0].bringToFront();
            }

            if (Game.gfx_level > 0) {
                FarmTownBars.initialize();
            }

                        //do not open window here - IE7 will throw a stack overflow error
            //window is opened in map.js now
            Game.autoOpenTownIndex = true;
            
            window.parent.postMessage('game_loaded', '*');
        } //game_loader_finishd_hook
    }); // Bootstrap.run
    //]]>
</script>
<div id="ui_box" class="city-overview-enabled">

    <div id="devtools"></div>

    <!-- Toolbar on the top -->
    <div class="nui_toolbar">
        <div class="left"></div>
        <div class="right"></div>
        <div class="middle"></div>
    </div>

    <!-- Box on the left -->
    <div class="nui_left_box">
        <div class="server_time_area ui-game-selectable">12:18:53 23/03/2020</div>

        <div class="ui_advisors">
            <div class="advisor_frame curator">
                <div class="advisor advisors22x22 curator_active"></div>
            </div>
            <div class="advisor_frame trader">
                <div class="advisor advisors22x22 trader_active"></div>
            </div>
            <div class="advisor_frame priest">
                <div class="advisor advisors22x22 priest_sepia"></div>
            </div>
            <div class="advisor_frame commander">
                <div class="advisor advisors22x22 commander_sepia"></div>
            </div>
            <div class="advisor_frame captain">
                <div class="advisor advisors22x22 captain_active"></div>
            </div>
        </div>
    </div>

    <!-- Main menu -->
    <div class="nui_main_menu">
        <div class="top"></div>
        <div class="bottom">
            <div class="slide_button_wrapper">
                <div class="slide_button"></div>
            </div>
        </div>
        <div class="middle">
            <div class="content">
                <ul class="" style="height: 261px;">

                <li class="messages main_menu_item first  " data-option-id="messages">
	<span class="content_wrapper">
		<span class="button_wrapper">
			<span class="button">
				<span class="icon"></span>
				<div class="ui_highlight" data-type="main_menu" data-subtype="messages"></div>
				<span class="indicator" data-indicator-id="messages" style="display: inline;">3</span>
			</span>
		</span>
		<span class="name_wrapper">
			<span class="name">
				Mensagens
				
			</span>
		</span>
	</span>
</li><li class="reports main_menu_item   " data-option-id="reports">
	<span class="content_wrapper">
		<span class="button_wrapper">
			<span class="button">
				<span class="icon"></span>
				<div class="ui_highlight" data-type="main_menu" data-subtype="reports"></div>
				<span class="indicator" data-indicator-id="reports" style="display: inline;">7</span>
			</span>
		</span>
		<span class="name_wrapper">
			<span class="name">
				RelatÃ³rios
				
			</span>
		</span>
	</span>
</li><li class="alliance main_menu_item   " data-option-id="alliance">
	<span class="content_wrapper">
		<span class="button_wrapper">
			<span class="button">
				<span class="icon"></span>
				<div class="ui_highlight" data-type="main_menu" data-subtype="alliance"></div>
				<span class="indicator" data-indicator-id="alliance"></span>
			</span>
		</span>
		<span class="name_wrapper">
			<span class="name">
				AlianÃ§a
				
			</span>
		</span>
	</span>
</li><li class="allianceforum main_menu_item" data-option-id="allianceforum">
	<span class="content_wrapper">
		<span class="button_wrapper">
			<span class="button">
				<span class="icon"></span>
				<div class="ui_highlight" data-type="main_menu" data-subtype="allianceforum"></div>
				<span class="indicator" data-indicator-id="allianceforum" style="display: inline;">56</span>
			</span>
		</span>
		<span class="name_wrapper">
			<span class="name">
				FÃ³rum da alianÃ§a
				
			</span>
		</span>
	</span>
</li><li class="ranking main_menu_item   " data-option-id="ranking">
	<span class="content_wrapper">
		<span class="button_wrapper">
			<span class="button">
				<span class="icon"></span>
				<div class="ui_highlight" data-type="main_menu" data-subtype="ranking"></div>
				<span class="indicator" data-indicator-id="ranking"></span>
			</span>
		</span>
		<span class="name_wrapper">
			<span class="name">
				ClassificaÃ§Ã£o
				
				<span class="rank"> (4)</span>
				
			</span>
		</span>
	</span>
</li><li class="profile main_menu_item   " data-option-id="profile">
	<span class="content_wrapper">
		<span class="button_wrapper">
			<span class="button">
				<span class="icon"></span>
				<div class="ui_highlight" data-type="main_menu" data-subtype="profile"></div>
				<span class="indicator" data-indicator-id="profile"></span>
			</span>
		</span>
		<span class="name_wrapper">
			<span class="name">
				Perfil
				
			</span>
		</span>
	</span>
</li><li class="invite_friends main_menu_item   " data-option-id="invite_friends">
	<span class="content_wrapper">
		<span class="button_wrapper">
			<span class="button">
				<span class="icon"></span>
				<div class="ui_highlight" data-type="main_menu" data-subtype="invite_friends"></div>
				<span class="indicator" data-indicator-id="invite_friends"></span>
			</span>
		</span>
		<span class="name_wrapper">
			<span class="name">
				Convidar amigos
				
			</span>
		</span>
	</span>
</li><li class="forum main_menu_item  last " data-option-id="forum">
	<span class="content_wrapper">
		<span class="button_wrapper">
			<span class="button">
				<span class="icon"></span>
				<div class="ui_highlight" data-type="main_menu" data-subtype="forum"></div>
				<span class="indicator" data-indicator-id="forum"></span>
			</span>
		</span>
		<span class="name_wrapper">
			<span class="name">
				FÃ³rum
				
			</span>
		</span>
	</span>
</li></ul>
            </div>
            <div class="border"></div>
        </div>
        <div class="leaves type3"></div>
    </div>

    <!-- Box on the right (units, spells god favor) -->
    <div class="nui_right_box">
        <div class="ui_heroes_overview_container">
            <div id="ui_heroes_overview" class="ui_heroes_overview"><div class="heroes_info">

    <div class="hero_in_town">
        <div class="hero_icon_border golden_border">
            <div class="hero_icon_background">
                    <div class="hero_icon hero25x25 aristotle"></div>
                
            </div>
        </div>
        
                <div class="pb_experience single-progressbar experience">
		<div class="border_l"></div>
		<div class="border_r"></div>
		<div class="body"></div>
		<div class="progress">
			<div class="indicator" style="width: 45%;"></div>
		</div>
		<div class="caption">
			<span class="text"></span> <span class="value_container"><span class="curr">66</span>
			
				/ <span class="max">144</span>
			
			
			</span>
		</div>
</div>
                
                    <div class="btn_experience button_new biggersquare level_up">
		<div class="left"></div>
		<div class="right"></div>
		<div class="caption js-caption"><div class="effect js-effect"></div></div>
</div>
                
    </div>
</div>
</div>
        </div>
        <div class="nui_coins_container">
            <div class="wisdom_coins_box">0</div>
            <div class="war_coins_box">37</div>
        </div>
        <div class="nui_units_time_box_container">
            <div class="nui_units_time_box">Selecionar unidade</div>
        </div>
        <div class="nui_battlepoints_container">
            <div class="bp_icon"></div>
            <div class="points">58</div>
        </div>
    </div>

    <!-- Box where resources are displayed -->
    <div class="ui_resources_bar">
	<div class="indicator wood" data-type="wood">
		<div class="wrapper">
			<canvas width="30" height="30"></canvas>
			<div class="icon"></div>
			<div class="amount   ui-game-selectable">13305</div>
			
		</div>
		<div class="ui_highlight" data-type="resource_bar" data-subtype="wood"></div>
	</div>

	<div class="indicator stone" data-type="stone">
		<div class="wrapper">
			<canvas width="30" height="30"></canvas>
			<div class="icon"></div>
			<div class="amount   ui-game-selectable">9651</div>
			
				<div class="res_rare"></div>
			
		</div>
		<div class="ui_highlight" data-type="resource_bar" data-subtype="stone"></div>
	</div>

	<div class="indicator iron" data-type="iron">
		<div class="wrapper">
			<canvas width="30" height="30"></canvas>
			<div class="icon"></div>
			<div class="amount   ui-game-selectable">16234</div>
			
				<div class="res_plenty"></div>
			
		</div>
		<div class="ui_highlight" data-type="resource_bar" data-subtype="iron"></div>
	</div>

	<div class="indicator population" data-type="population">
		<div class="wrapper">
			<canvas width="30" height="30"></canvas>
			<div class="icon"></div>
			<div class="amount   ui-game-selectable">3095</div>
			
		</div>
		<div class="ui_highlight" data-type="resource_bar" data-subtype="population"></div>
	</div>

</div>

    <!-- Units/Spells box -->
    <div class="nui_units_box">
        <div class="units_land">
            <div class="top"></div>
            <div class="middle">
                <div class="left"></div>
                <div class="right"></div>
                <div class="content"><div class="units_wrapper clearfix"></div>
                    
                    <div class="nav">
                        <div class="border_top"></div>
                        <div class="bottom_link link_active">
                            <div class="js-caption">Quartel</div>
                        </div>
                        <div class="btn_slide slide_button disabled"><div class="js-caption"></div></div>
                    </div>
                    <div class="ui_highlight" data-type="land_units_bar" data-subtype="none">
                        <div class="ui_highlight_top"></div>
                        <div class="ui_highlight_middle"></div>
                        <div class="ui_highlight_bottom"></div>
                    </div>
                <a id="dio_Caserne" style="position: absolute; width: 70px; height: 70px; left: 0px;"></a><div id="strength" class="cont def"><hr><span class="bold text_shadow cont_left strength_font"><table style="margin:0px;"><tbody><tr><td><div class="ico units_info_sprite img_hack"></div></td><td id="blunt">0</td></tr><tr><td><div class="ico units_info_sprite img_pierce"></div></td><td id="sharp">0</td></tr><tr><td><div class="ico units_info_sprite img_dist"></div></td><td id="dist">0</td></tr></tbody></table></span><div class="cont_right"><img id="def_button" class="active img" src="%C2%BA-_files/support.png"><img id="off_button" class="img" src="%C2%BA-_files/attack.png"></div></div></div>
            </div>
            <div class="bottom"></div>
        </div>
        <div class="units_naval">
            <div class="top"></div>
            <div class="middle">
                <div class="left"></div>
                <div class="right"></div>
                <div class="content"><div class="units_wrapper clearfix"></div>
                    
                    <div class="nav">
                        <div class="border_top"></div>
                        <div class="bottom_link link_active">
                            <div class="js-caption">Porto</div>
                        </div>
                        <div class="btn_slide slide_button disabled"><div class="js-caption"></div></div>
                    </div>
                    <div class="ui_highlight" data-type="naval_units_bar" data-subtype="none">
                        <div class="ui_highlight_top"></div>
                        <div class="ui_highlight_middle"></div>
                        <div class="ui_highlight_bottom"></div>
                    </div>
                <a id="dio_Port" style="position: absolute; width: 60px; height: 26px;"></a><div id="transporter" class="cont" style="height: 25px; background: rgba(0, 0, 0, 0) url(&quot;https://gpall.innogamescdn.com/images/game/layout/layout_units_nav_border.png&quot;) repeat scroll 0% 0%;"><table style=" margin:0px;"><tbody><tr align="center"><td><img id="ship_img" class="ico" src="%C2%BA-_files/mini-bateau.png"></td><td><span id="ship" class="bold text_shadow" style="color:#FFCC66;font-size: 10px;line-height: 2.1;">0/0</span></td></tr></tbody></table></div></div>
            </div>
            <div class="bottom"></div>
        </div>
        <div class="bottom_ornament"></div>
    </div>

    <div class="topleft_navigation_area"><div id="available_units_bullseye_addition" class="picomap_area"><div class="picomap_container"><div id="available_units_bullseye" class="unit_icon90x90 bireme"><div class="amount"><span style="font-size:1.4em">2</span><span style="font-size:1.2em">2</span><span style="font-size:1.15em">9</span><span style="font-size:1.1em">7</span></div></div></div><div class="picomap_overlayer"></div></div>
        <div class="bull_eye_buttons">
            <div class="rb_map">
	
		<div class="option island_view circle_button js-option" name="island_view"><div class="pointer"></div></div>
	
		<div class="option strategic_map circle_button js-option" name="strategic_map"><div class="pointer"></div></div>
	
		<div class="option city_overview circle_button js-option checked" name="city_overview"><div class="pointer"></div></div>
	
</div>
            <div class="btn_jump_to_town circle_button jump_to_town"><div class="icon js-caption"></div></div>
            <div class="btn_change_colors circle_button_small change_colors"><div class="icon js-caption"></div></div>
            <div class="layer_over_change_colors_button_part1"></div>
            <div class="layer_over_change_colors_button_part2"></div>
        <div id="btn_available_units" class="circle_button"><div class="ico_available_units js-caption"></div></div></div>
        <div class="ocean_number_box">
            <div class="icon"></div>
            <div class="ocean_number ui-game-selectable">54</div>
        </div>
        <div class="coords_box">
            <div class="wgt_coordinates map_coordinates_widget">
	<div class="dd_coordinates" id="dd_coordinates"><!--
	<div id="dd_res_offer" class="dropdown default">-->
		
	<!--</div>
--></div>
	<div class="coord coord_x js-coord-x">
	<div class="left"></div>
	<div class="right"></div>
	<div class="middle">
		<div class="initial-message-box js-empty" style="display: none;"></div>
		<div class="ie7fix"><input type="text" tabindex="1" placeholder="" pattern="[0-9]*" value="565"></div>
		<div class="clear-button js-clear"></div>
	</div>
	<div class="error-msg js-txt-error-msg"></div>
</div>
	<div class="coord coord_y js-coord-y">
	<div class="left"></div>
	<div class="right"></div>
	<div class="middle">
		<div class="initial-message-box js-empty" style="display: none;"></div>
		<div class="ie7fix"><input type="text" tabindex="2" placeholder="" pattern="[0-9]*" value="493"></div>
		<div class="clear-button js-clear"></div>
	</div>
	<div class="error-msg js-txt-error-msg"></div>
</div>
	<div class="button js-coord-button"></div>
</div>
            <div class="btn_save_location circle_button save_location"><div class="icon js-caption"></div></div>
            <div class="btn_jump_to_coordination circle_button jump_to_coordination"><div class="icon js-caption"></div></div>
        </div>
    </div>

    <div class="nui_grepo_score">
        <div class="btn_grepo_score_container">
             <div class="btn_grepo_score"></div>
             <span class="indicator" data-indicator-id="grepo_score" style="display: none;">!</span>
        </div>
        <div class="grepo_score_container">
            <span class="grepo_score">22550</span>
        </div>
    </div>

    <!-- a place for 3rd party plugins / greasemonkey scripts to add their UI. $('body').addClass('plugin_area') to activate -->
    <div class="plugin_area_container">
    </div>

    <div class="premium_area premium_wrapper">
        <div class="gold_icon"></div>
        <div class="btn_open_premium_buy_gold open_premium_button">
            <div class="js-caption">Comprar ouro</div>
        </div>
        <div class="gold_amount ui-game-selectable">56</div>
        <div class="glare_wrapper">
            <div class="glare"></div>
        </div>
    </div>

    <div class="gods_area">
        <div class="gods_container god poseidon"></div>
        <div class="gods_overlayer"></div>
        <div class="gods_progress god">
            <canvas width="90" height="90" id="favor_circular_progress"></canvas>
            <div class="gods_favor_button_area">
                <div class="gods_favor_amount ui-game-selectable max">500</div>
                <div class="btn_gods_spells circle_button spells">
                    <div class="icon js-caption"></div>
                </div>
                <div class="ui_highlight" data-type="gods_area" data-subtype="favor"></div>
            </div>
        </div>

        <!-- Buttons above the gods area -->
        <div class="gods_area_buttons_background"></div>
        <div class="gods_area_buttons">
            <div class="btn_settings circle_button settings"><div class="icon js-caption"></div></div>
            <div class="btn_audio_toggle btn_wrapper muted">
                <div class="circle_button_small audio_toggle"><div class="icon js-caption"></div></div>
            </div>
            <div class="btn_wiki btn_wrapper">
                <div class="circle_button_small wiki"><div class="icon js-caption"></div></div>
            </div>
            <div class="btn_logout circle_button logout"><div class="icon js-caption"></div></div>
        </div>
    <div class="btn_settings circle_button dio_settings"><div class="dio_icon js-caption"></div></div></div>

    <div class="gods_spells_menu">
        <div class="top"></div>
        <div class="middle">
            <div class="btn_close"></div>
            <div class="left"></div>
            <div class="right"></div>
            <div class="content"><div class="header">
    <div class="btn_close"></div>
    <div>
		Encantamentos
    	<span class="info_icon"></span>
	</div>
</div>

<div class="god_containers" style="display: none;">

		<div class="god_container" data-god_id="zeus">
			<div class="title"> Zeus (<span class="current_value">500</span>)</div>
			<div class="powers_container clearfix">

					<div class="power_icon30x30 divine_sign new_ui_power_icon animated_power_icon animated_power_icon_30x30 js-power-icon" data-power_id="divine_sign">
						<div class="extend_spell">
							<div class="gold"></div>
							<div class="amount"><span class="value">10</span>x</div>
						</div>
						<div class="js-caption"></div>
					</div>
				</div>
		</div>
	
		<div class="god_container" data-god_id="poseidon">
			<div class="title"> PosÃ­don (<span class="current_value">500</span>)</div>
			<div class="powers_container clearfix">

					<div class="power_icon30x30 kingly_gift new_ui_power_icon animated_power_icon animated_power_icon_30x30 js-power-icon" data-power_id="kingly_gift">
						<div class="extend_spell">
							<div class="gold"></div>
							<div class="amount"><span class="value">20</span>x</div>
						</div>
						<div class="js-caption"></div>
					</div>
				

					<div class="power_icon30x30 call_of_the_ocean new_ui_power_icon animated_power_icon animated_power_icon_30x30 js-power-icon" data-power_id="call_of_the_ocean">
						<div class="extend_spell">
							<div class="gold"></div>
							<div class="amount"><span class="value">8</span>x</div>
						</div>
						<div class="js-caption"></div>
					</div>
				</div>
		</div>
	
		<div class="god_container" data-god_id="hera">
			<div class="title"> Hera (<span class="current_value">456</span>)</div>
			<div class="powers_container clearfix">

					<div class="power_icon30x30 wedding new_ui_power_icon animated_power_icon animated_power_icon_30x30 js-power-icon" data-power_id="wedding">
						<div class="extend_spell">
							<div class="gold"></div>
							<div class="amount"><span class="value">15</span>x</div>
						</div>
						<div class="js-caption"></div>
					</div>
				

					<div class="power_icon30x30 happiness new_ui_power_icon animated_power_icon animated_power_icon_30x30 js-power-icon" data-power_id="happiness">
						<div class="extend_spell">
							<div class="gold"></div>
							<div class="amount"><span class="value">3</span>x</div>
						</div>
						<div class="js-caption"></div>
					</div>
				

					<div class="power_icon30x30 fertility_improvement new_ui_power_icon animated_power_icon animated_power_icon_30x30 js-power-icon" data-power_id="fertility_improvement">
						<div class="extend_spell">
							<div class="gold"></div>
							<div class="amount"><span class="value">5</span>x</div>
						</div>
						<div class="js-caption"></div>
					</div>
				</div>
		</div>
	
		<div class="god_container" data-god_id="athena">
			<div class="title"> Atena (<span class="current_value">500</span>)</div>
			<div class="powers_container clearfix">

					<div class="power_icon30x30 patroness new_ui_power_icon animated_power_icon animated_power_icon_30x30 js-power-icon" data-power_id="patroness">
						<div class="extend_spell">
							<div class="gold"></div>
							<div class="amount"><span class="value">8</span>x</div>
						</div>
						<div class="js-caption"></div>
					</div>
				

					<div class="power_icon30x30 town_protection new_ui_power_icon animated_power_icon animated_power_icon_30x30 js-power-icon" data-power_id="town_protection">
						<div class="extend_spell">
							<div class="gold"></div>
							<div class="amount"><span class="value">3</span>x</div>
						</div>
						<div class="js-caption"></div>
					</div>
				</div>
		</div>
	
		<div class="god_container" data-god_id="hades">
			<div class="title"> Hades (<span class="current_value">500</span>)</div>
			<div class="powers_container clearfix">

					<div class="power_icon30x30 underworld_treasures new_ui_power_icon animated_power_icon animated_power_icon_30x30 js-power-icon" data-power_id="underworld_treasures">
						<div class="extend_spell">
							<div class="gold"></div>
							<div class="amount"><span class="value">16</span>x</div>
						</div>
						<div class="js-caption"></div>
					</div>
				</div>
		</div>
	
		<div class="god_container" data-god_id="artemis">
			<div class="title"> Artemis (<span class="current_value">436</span>)</div>
			<div class="powers_container clearfix">

					<div class="power_icon30x30 natures_gift new_ui_power_icon animated_power_icon animated_power_icon_30x30 js-power-icon" data-power_id="natures_gift">
						<div class="extend_spell">
							<div class="gold"></div>
							<div class="amount"><span class="value">14</span>x</div>
						</div>
						<div class="js-caption"></div>
					</div>
				

					<div class="power_icon30x30 cleanse new_ui_power_icon animated_power_icon animated_power_icon_30x30 js-power-icon" data-power_id="cleanse">
						<div class="extend_spell">
							<div class="gold"></div>
							<div class="amount"><span class="value">2</span>x</div>
						</div>
						<div class="js-caption"></div>
					</div>
				</div>
		</div>
	
</div></div>
        </div>
        <div class="bottom"></div>
    </div>

    <!-- Toolbar Buttons -->
    <div class="toolbar_buttons">
                    <div class="toolbar_button notepad">
                <div class="icon">
                    <div class="js-caption caption"></div>
                </div>
            </div>
                <div class="toolbar_button inventory">
            <div class="icon">
                <div class="js-caption caption">13</div>
            </div>
            <div class="ui_highlight" data-type="toolbar" data-subtype="inventory"></div>
        </div>
        <div class="toolbar_button premium">
            <div class="icon">
                <div class="js-caption caption"></div>
            </div>
        </div>
    </div>

    <!-- Toolbar activities -->
    <div class="tb_activities toolbar_activities"><div class="left"></div>
<div class="middle">
		<div class="activity_wrap">
			<div class="activity attack_indicator">
				<div class="hover_state">
					<div class="icon">
						<div class="count js-caption"></div>
					</div>
				</div>
				<div class="dropdown_box js-dropdown" id="toolbar_activity_attack_indicator"></div>
			</div>
			<div class="ui_highlight" data-type="bubble_menu" data-subtype="attack_indicator"></div>
		</div>
	
			<div class="divider"></div>
		
		<div class="activity_wrap">
			<div class="activity recruits">
				<div class="hover_state">
					<div class="icon">
						<div class="count js-caption">0</div>
					</div>
				</div>
				<div class="dropdown_box js-dropdown" id="toolbar_activity_recruits">
</div>
			</div>
			<div class="ui_highlight" data-type="bubble_menu" data-subtype="recruits"></div>
		</div>
	
			<div class="divider"></div>
		
		<div class="activity_wrap">
			<div class="activity commands">
	<div class="hover_state">
	<div class="icon">
	<div class="count js-caption">0</div>
	</div>
	</div>
	<div class="dropdown_box js-dropdown" id="toolbar_activity_commands">
	</div>
</div>
			<div class="ui_highlight" data-type="bubble_menu" data-subtype="commands"></div>
		</div>
	
			<div class="divider"></div>
		
		<div class="activity_wrap">
			<div class="activity trades active">
				<div class="hover_state">
					<div class="icon">
						<div class="count js-caption">0</div>
					</div>
				</div>
				<div class="dropdown_box js-dropdown" id="toolbar_activity_trades">
</div>
			</div>
			<div class="ui_highlight" data-type="bubble_menu" data-subtype="trades"></div>
		</div>
	</div>
<div class="right"></div></div>

    <!-- Quickbar -->
    <div class="ui_quickbar"><div class="left">
	<div class="btn_quickbar_settings quickbar_settings_button"></div>
	<div class="container">

	<div class="option quickbar_button" data-option_id="0" id="quickbar_dropdown0">
		<div class="caption js-caption ui-game-selectable" data-option_id="0">Senado
			
		</div>

		

	</div>


	<div class="option quickbar_button" data-option_id="1" id="quickbar_dropdown1">
		<div class="caption js-caption ui-game-selectable" data-option_id="1">Templo
			
		</div>

		

	</div>


	<div class="option quickbar_button" data-option_id="2" id="quickbar_dropdown2">
		<div class="caption js-caption ui-game-selectable" data-option_id="2">Academia
			
		</div>

		

	</div>
</div>
</div>

<div class="right">
	<div class="container">

	<div class="option quickbar_button" data-option_id="3" id="quickbar_dropdown3">
		<div class="caption js-caption ui-game-selectable" data-option_id="3">Mercado
			
		</div>

		

	</div>


	<div class="option quickbar_button" data-option_id="4" id="quickbar_dropdown4">
		<div class="caption js-caption ui-game-selectable" data-option_id="4">Ãgora
			
		</div>

		

	</div>


	<div class="option quickbar_button" data-option_id="5" id="quickbar_dropdown5">
		<div class="caption js-caption ui-game-selectable" data-option_id="5">Gruta
			
		</div>

		

	</div>
</div>
</div></div>

    <!-- Town Groups -->
    <div class="town_name_area">
        <div class="btn_prev_town button_arrow left"></div>
        <div class="btn_next_town button_arrow right"></div>

        <div class="town_groups_dropdown btn_toggle_town_groups_menu">
            <div class="caption js-viewport">
                <div class="town_name js-townname-caption js-rename-caption ui-game-selectable">54 042</div>
            </div>
            <div class="button js-button-caption"></div>
        </div>

        <div class="casted_powers_area">
            <div class="button left js-button-left" style="display: none;"></div>
            <div class="button right js-button-right" style="display: none;"></div>
            <div class="list-viewport js-casted-powers-viewport">
                <div class="list js-list" style="left: 64px;"></div>
            </div>
        </div>
        <div class="culture_overview_wrapper container_hidden"><div class="culture_overview">
	<div class="caption">
		<div class="icon town"></div><span>37</span>
		<div class="icon culture"></div><span>38</span>
	</div>
</div>
<div class="btn_extend slide_button"></div></div>
        <div class="ui_highlight" data-type="casted_powers_bar" data-subtype="none"></div>
    </div>

    <div class="leaves type5 top_left"></div>
    <div class="leaves type6 top_right"></div>
    <div class="leaves type2 top_right_below"></div>
    <div class="leaves type4 top_right_left"></div>

    <!-- Map area -->
    <div id="main_area">
        
    <div id="wmap" style="position: absolute; top: 0px; left: 0px; width: 100%; height: 100%;"><div id="map_wrapper">
	<div id="map" class="map">
		<div id="map_movements" style="position: absolute; top: -62899px; left: -71880px; z-index: 2;"></div>
		
	<div id="map_move_container" style="position: absolute; top: -62899px; left: -71880px; z-index: 1;">
			<div id="map_tiles" style="position:absolute; top:0px; left:0px; z-index:1;"><div style="left: 71040px; top: 63040px; width: 1152px; height: 832px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/map/island14.png&quot;);" class="tile islandtile" id="islandtile_555_492"></div><div style="left: 71040px; top: 64064px; width: 896px; height: 832px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/map/uninhabited16.png&quot;);" class="tile islandtile" id="islandtile_555_500"></div><div style="left: 71168px; top: 63616px; width: 896px; height: 704px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/map/uninhabited7.png&quot;);" class="tile islandtile" id="islandtile_556_497"></div><div style="left: 71808px; top: 62656px; width: 768px; height: 512px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/map/uninhabited1.png&quot;);" class="tile islandtile" id="islandtile_561_489"></div><div style="left: 72064px; top: 63424px; width: 896px; height: 832px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/map/uninhabited16.png&quot;);" class="tile islandtile" id="islandtile_563_495"></div><div style="left: 72192px; top: 62336px; width: 1280px; height: 896px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/map/island11.png&quot;);" class="tile islandtile" id="islandtile_564_487"></div><div style="left: 72192px; top: 62976px; width: 1024px; height: 768px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/map/island8.png&quot;);" class="tile islandtile" id="islandtile_564_492"></div><div style="left: 72576px; top: 63680px; width: 1152px; height: 832px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/map/island6.png&quot;);" class="tile islandtile" id="islandtile_567_497"></div><div style="left: 72832px; top: 64064px; width: 640px; height: 576px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/map/uninhabited4.png&quot;);" class="tile islandtile" id="islandtile_569_500"></div><div style="left: 73088px; top: 62144px; width: 768px; height: 640px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/map/uninhabited11.png&quot;);" class="tile islandtile" id="islandtile_571_485"></div><div style="left: 73344px; top: 63936px; width: 1152px; height: 832px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/map/island15.png&quot;);" class="tile islandtile" id="islandtile_573_499"></div><div class="tile" id="tile_559_485" style="left: 71552px; top: 62144px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/map/watertiles.png&quot;); background-position: -768px -256px;"></div><div class="tile" id="tile_561_485" style="left: 71808px; top: 62144px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/map/watertiles.png&quot;); background-position: -256px -256px;"></div><div class="tile" id="tile_562_485" style="left: 71936px; top: 62080px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/map/watertiles.png&quot;); background-position: -256px -256px;"></div><div class="tile" id="tile_563_485" style="left: 72064px; top: 62144px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/map/watertiles.png&quot;); background-position: -512px -128px;"></div><div class="tile" id="tile_564_485" style="left: 72192px; top: 62080px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/map/watertiles.png&quot;); background-position: -512px -128px;"></div><div class="tile" id="tile_568_485" style="left: 72704px; top: 62080px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/map/watertiles.png&quot;); background-position: -768px -384px;"></div><div class="tile" id="tile_569_485" style="left: 72832px; top: 62144px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/map/watertiles.png&quot;); background-position: -256px -256px;"></div><div class="tile" id="tile_570_485" style="left: 72960px; top: 62080px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/map/watertiles.png&quot;); background-position: -256px -256px;"></div><div class="tile" id="tile_571_485" style="left: 73088px; top: 62144px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/map/watertiles.png&quot;); background-position: -512px -128px;"></div><div class="tile" id="tile_572_485" style="left: 73216px; top: 62080px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/map/watertiles.png&quot;); background-position: -768px -128px;"></div><div class="tile" id="tile_573_485" style="left: 73344px; top: 62144px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/map/watertiles.png&quot;); background-position: -768px -384px;"></div><div class="tile" id="tile_560_486" style="left: 71680px; top: 62208px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/map/watertiles.png&quot;); background-position: -256px -128px;"></div><div class="tile" id="tile_561_486" style="left: 71808px; top: 62272px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/map/watertiles.png&quot;); background-position: -512px -384px;"></div><div class="tile" id="tile_562_486" style="left: 71936px; top: 62208px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/map/watertiles.png&quot;); background-position: -512px -128px;"></div><div class="tile" id="tile_567_486" style="left: 72576px; top: 62272px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/map/rock3.png&quot;); background-position: 0px 0px;"></div><div class="tile" id="tile_568_486" style="left: 72704px; top: 62208px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/map/watertiles.png&quot;); background-position: -256px -384px;"></div><div class="tile" id="tile_569_486" style="left: 72832px; top: 62272px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/map/watertiles.png&quot;); background-position: -512px -384px;"></div><div class="tile" id="tile_570_486" style="left: 72960px; top: 62208px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/map/watertiles.png&quot;); background-position: -512px -128px;"></div><div class="tile" id="tile_560_487" style="left: 71680px; top: 62336px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/map/rock17.png&quot;); background-position: 0px 0px;"></div><div class="tile" id="tile_561_487" style="left: 71808px; top: 62400px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/map/rock8.png&quot;); background-position: 0px 0px;"></div><div class="tile" id="tile_565_487" style="left: 72320px; top: 62400px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/map/watertiles.png&quot;); background-position: -768px -384px;"></div><div class="tile" id="tile_566_487" style="left: 72448px; top: 62336px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/map/watertiles.png&quot;); background-position: -768px -384px;"></div><div class="tile" id="tile_568_487" style="left: 72704px; top: 62336px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/map/watertiles.png&quot;); background-position: -768px -384px;"></div><div class="tile" id="tile_569_487" style="left: 72832px; top: 62400px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/map/rock16.png&quot;); background-position: 0px 0px;"></div><div class="tile" id="tile_570_487" style="left: 72960px; top: 62336px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/map/watertiles.png&quot;); background-position: -768px -384px;"></div><div class="tile" id="tile_571_487" style="left: 73088px; top: 62400px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/map/watertiles.png&quot;); background-position: -768px -384px;"></div><div class="tile" id="tile_560_488" style="left: 71680px; top: 62464px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/map/watertiles.png&quot;); background-position: -768px -384px;"></div><div class="tile" id="tile_561_488" style="left: 71808px; top: 62528px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/map/watertiles.png&quot;); background-position: -768px -256px;"></div><div class="tile" id="tile_562_488" style="left: 71936px; top: 62464px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/map/watertiles.png&quot;); background-position: -768px -384px;"></div><div class="tile" id="tile_563_488" style="left: 72064px; top: 62528px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/map/rock14.png&quot;); background-position: 0px 0px;"></div><div class="tile" id="tile_564_488" style="left: 72192px; top: 62464px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/map/watertiles.png&quot;); background-position: -768px -384px;"></div><div class="tile" id="tile_570_488" style="left: 72960px; top: 62464px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/map/rock2.png&quot;); background-position: 0px 0px;"></div><div class="tile" id="tile_571_488" style="left: 73088px; top: 62528px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/map/watertiles.png&quot;); background-position: -256px -384px;"></div><div class="tile" id="tile_572_488" style="left: 73216px; top: 62464px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/map/watertiles.png&quot;); background-position: -768px -256px;"></div><div class="tile" id="tile_573_488" style="left: 73344px; top: 62528px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/map/watertiles.png&quot;); background-position: -256px 0px;"></div><div class="tile" id="tile_560_489" style="left: 71680px; top: 62592px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/map/watertiles.png&quot;); background-position: -256px -384px;"></div><div class="tile" id="tile_561_489" style="left: 71808px; top: 62656px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/map/watertiles.png&quot;); background-position: -512px -384px;"></div><div class="tile" id="tile_562_489" style="left: 71936px; top: 62592px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/map/watertiles.png&quot;); background-position: -768px -128px;"></div><div class="tile" id="tile_563_489" style="left: 72064px; top: 62656px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/map/watertiles.png&quot;); background-position: -768px -384px;"></div><div class="tile" id="tile_572_489" style="left: 73216px; top: 62592px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/map/watertiles.png&quot;); background-position: 0px -384px;"></div><div class="tile" id="tile_573_489" style="left: 73344px; top: 62656px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/map/watertiles.png&quot;); background-position: -512px -384px;"></div><div class="tile" id="tile_560_490" style="left: 71680px; top: 62720px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/map/watertiles.png&quot;); background-position: -768px -384px;"></div><div class="tile" id="tile_564_490" style="left: 72192px; top: 62720px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/map/watertiles.png&quot;); background-position: -768px -384px;"></div><div class="tile" id="tile_565_490" style="left: 72320px; top: 62784px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/map/watertiles.png&quot;); background-position: -768px -384px;"></div><div class="tile" id="tile_571_490" style="left: 73088px; top: 62784px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/map/watertiles.png&quot;); background-position: -768px -256px;"></div><div class="tile" id="tile_572_490" style="left: 73216px; top: 62720px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/map/rock6.png&quot;); background-position: 0px 0px;"></div><div class="tile" id="tile_573_490" style="left: 73344px; top: 62784px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/map/watertiles.png&quot;); background-position: -256px -256px;"></div><div class="tile" id="tile_560_491" style="left: 71680px; top: 62848px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/map/watertiles.png&quot;); background-position: -768px 0px;"></div><div class="tile" id="tile_561_491" style="left: 71808px; top: 62912px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/map/watertiles.png&quot;); background-position: -256px -128px;"></div><div class="tile" id="tile_562_491" style="left: 71936px; top: 62848px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/map/watertiles.png&quot;); background-position: -768px -256px;"></div><div class="tile" id="tile_563_491" style="left: 72064px; top: 62912px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/map/watertiles.png&quot;); background-position: -768px 0px;"></div><div class="tile" id="tile_565_491" style="left: 72320px; top: 62912px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/map/watertiles.png&quot;); background-position: -768px -384px;"></div><div class="tile" id="tile_566_491" style="left: 72448px; top: 62848px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/map/rock13.png&quot;); background-position: 0px 0px;"></div><div class="tile" id="tile_567_491" style="left: 72576px; top: 62912px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/map/rock16.png&quot;); background-position: 0px 0px;"></div><div class="tile" id="tile_569_491" style="left: 72832px; top: 62912px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/map/rock19.png&quot;); background-position: 0px 0px;"></div><div class="tile" id="tile_570_491" style="left: 72960px; top: 62848px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/map/watertiles.png&quot;); background-position: -256px -384px;"></div><div class="tile" id="tile_571_491" style="left: 73088px; top: 62912px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/map/watertiles.png&quot;); background-position: 0px -256px;"></div><div class="tile" id="tile_572_491" style="left: 73216px; top: 62848px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/map/watertiles.png&quot;); background-position: -256px 0px;"></div><div class="tile" id="tile_573_491" style="left: 73344px; top: 62912px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/map/watertiles.png&quot;); background-position: 0px 0px;"></div><div class="tile" id="tile_560_492" style="left: 71680px; top: 62976px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/map/watertiles.png&quot;); background-position: -512px -384px;"></div><div class="tile" id="tile_561_492" style="left: 71808px; top: 63040px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/map/rock5.png&quot;); background-position: 0px 0px;"></div><div class="tile" id="tile_562_492" style="left: 71936px; top: 62976px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/map/watertiles.png&quot;); background-position: 0px -384px;"></div><div class="tile" id="tile_563_492" style="left: 72064px; top: 63040px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/map/watertiles.png&quot;); background-position: -512px -384px;"></div><div class="tile" id="tile_564_492" style="left: 72192px; top: 62976px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/map/watertiles.png&quot;); background-position: -768px -128px;"></div><div class="tile" id="tile_566_492" style="left: 72448px; top: 62976px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/map/watertiles.png&quot;); background-position: -768px -384px;"></div><div class="tile" id="tile_567_492" style="left: 72576px; top: 63040px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/map/watertiles.png&quot;); background-position: -256px -384px;"></div><div class="tile" id="tile_568_492" style="left: 72704px; top: 62976px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/map/watertiles.png&quot;); background-position: -768px -256px;"></div><div class="tile" id="tile_569_492" style="left: 72832px; top: 63040px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/map/watertiles.png&quot;); background-position: -256px 0px;"></div><div class="tile" id="tile_570_492" style="left: 72960px; top: 62976px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/map/watertiles.png&quot;); background-position: -256px -256px;"></div><div class="tile" id="tile_571_492" style="left: 73088px; top: 63040px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/map/watertiles.png&quot;); background-position: -512px -128px;"></div><div class="tile" id="tile_572_492" style="left: 73216px; top: 62976px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/map/watertiles.png&quot;); background-position: 0px -128px;"></div><div class="tile" id="tile_573_492" style="left: 73344px; top: 63040px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/map/watertiles.png&quot;); background-position: -512px -384px;"></div><div class="tile" id="tile_560_493" style="left: 71680px; top: 63104px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/map/watertiles.png&quot;); background-position: -768px -384px;"></div><div class="tile" id="tile_561_493" style="left: 71808px; top: 63168px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/map/watertiles.png&quot;); background-position: -256px -384px;"></div><div class="tile" id="tile_562_493" style="left: 71936px; top: 63104px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/map/watertiles.png&quot;); background-position: -768px -256px;"></div><div class="tile" id="tile_563_493" style="left: 72064px; top: 63168px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/map/watertiles.png&quot;); background-position: -768px -128px;"></div><div class="tile" id="tile_568_493" style="left: 72704px; top: 63104px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/map/watertiles.png&quot;); background-position: 0px -384px;"></div><div class="tile" id="tile_569_493" style="left: 72832px; top: 63168px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/map/watertiles.png&quot;); background-position: -512px -384px;"></div><div class="tile" id="tile_570_493" style="left: 72960px; top: 63104px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/map/watertiles.png&quot;); background-position: -512px -128px;"></div><div class="tile" id="tile_571_493" style="left: 73088px; top: 63168px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/map/watertiles.png&quot;); background-position: -768px -384px;"></div><div class="tile" id="tile_572_493" style="left: 73216px; top: 63104px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/map/rock17.png&quot;); background-position: 0px 0px;"></div><div class="tile" id="tile_573_493" style="left: 73344px; top: 63168px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/map/watertiles.png&quot;); background-position: -768px -384px;"></div><div class="tile" id="tile_562_494" style="left: 71936px; top: 63232px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/map/watertiles.png&quot;); background-position: -512px -384px;"></div><div class="tile" id="tile_563_494" style="left: 72064px; top: 63296px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/map/watertiles.png&quot;); background-position: -768px -256px;"></div><div class="tile" id="tile_570_494" style="left: 72960px; top: 63232px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/map/rock10.png&quot;); background-position: 0px 0px;"></div><div class="tile" id="tile_571_494" style="left: 73088px; top: 63296px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/map/watertiles.png&quot;); background-position: -768px -256px;"></div><div class="tile" id="tile_572_494" style="left: 73216px; top: 63232px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/map/watertiles.png&quot;); background-position: -768px -384px;"></div><div class="tile" id="tile_573_494" style="left: 73344px; top: 63296px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/map/rock19.png&quot;); background-position: 0px 0px;"></div><div class="tile" id="tile_561_495" style="left: 71808px; top: 63424px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/map/watertiles.png&quot;); background-position: -768px -384px;"></div><div class="tile" id="tile_562_495" style="left: 71936px; top: 63360px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/map/watertiles.png&quot;); background-position: -256px -384px;"></div><div class="tile" id="tile_563_495" style="left: 72064px; top: 63424px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/map/watertiles.png&quot;); background-position: 0px -384px;"></div><div class="tile" id="tile_564_495" style="left: 72192px; top: 63360px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/map/watertiles.png&quot;); background-position: -768px 0px;"></div><div class="tile" id="tile_565_495" style="left: 72320px; top: 63424px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/map/watertiles.png&quot;); background-position: -768px -128px;"></div><div class="tile" id="tile_569_495" style="left: 72832px; top: 63424px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/map/watertiles.png&quot;); background-position: -256px -384px;"></div><div class="tile" id="tile_570_495" style="left: 72960px; top: 63360px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/map/watertiles.png&quot;); background-position: -256px -256px;"></div><div class="tile" id="tile_571_495" style="left: 73088px; top: 63424px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/map/watertiles.png&quot;); background-position: 0px 0px;"></div><div class="tile" id="tile_572_495" style="left: 73216px; top: 63360px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/map/watertiles.png&quot;); background-position: -768px 0px;"></div><div class="tile" id="tile_573_495" style="left: 73344px; top: 63424px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/map/watertiles.png&quot;); background-position: -768px 0px;"></div><div class="tile" id="tile_560_496" style="left: 71680px; top: 63488px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/map/watertiles.png&quot;); background-position: -768px -256px;"></div><div class="tile" id="tile_561_496" style="left: 71808px; top: 63552px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/map/watertiles.png&quot;); background-position: -768px 0px;"></div><div class="tile" id="tile_562_496" style="left: 71936px; top: 63488px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/map/rock15.png&quot;); background-position: 0px 0px;"></div><div class="tile" id="tile_563_496" style="left: 72064px; top: 63552px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/map/watertiles.png&quot;); background-position: -768px -384px;"></div><div class="tile" id="tile_564_496" style="left: 72192px; top: 63488px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/map/watertiles.png&quot;); background-position: -512px -384px;"></div><div class="tile" id="tile_568_496" style="left: 72704px; top: 63488px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/map/rock19.png&quot;); background-position: 0px 0px;"></div><div class="tile" id="tile_569_496" style="left: 72832px; top: 63552px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/map/watertiles.png&quot;); background-position: -256px -256px;"></div><div class="tile" id="tile_570_496" style="left: 72960px; top: 63488px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/map/watertiles.png&quot;); background-position: 0px -256px;"></div><div class="tile" id="tile_571_496" style="left: 73088px; top: 63552px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/map/watertiles.png&quot;); background-position: 0px 0px;"></div><div class="tile" id="tile_572_496" style="left: 73216px; top: 63488px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/map/watertiles.png&quot;); background-position: 0px 0px;"></div><div class="tile" id="tile_573_496" style="left: 73344px; top: 63552px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/map/watertiles.png&quot;); background-position: 0px 0px;"></div><div class="tile" id="tile_560_497" style="left: 71680px; top: 63616px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/map/watertiles.png&quot;); background-position: 0px -384px;"></div><div class="tile" id="tile_561_497" style="left: 71808px; top: 63680px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/map/watertiles.png&quot;); background-position: -512px -256px;"></div><div class="tile" id="tile_562_497" style="left: 71936px; top: 63616px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/map/watertiles.png&quot;); background-position: -768px -128px;"></div><div class="tile" id="tile_568_497" style="left: 72704px; top: 63616px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/map/watertiles.png&quot;); background-position: -256px -384px;"></div><div class="tile" id="tile_569_497" style="left: 72832px; top: 63680px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/map/watertiles.png&quot;); background-position: -512px -384px;"></div><div class="tile" id="tile_570_497" style="left: 72960px; top: 63616px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/map/watertiles.png&quot;); background-position: 0px -128px;"></div><div class="tile" id="tile_571_497" style="left: 73088px; top: 63680px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/map/watertiles.png&quot;); background-position: -512px -384px;"></div><div class="tile" id="tile_572_497" style="left: 73216px; top: 63616px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/map/watertiles.png&quot;); background-position: 0px -128px;"></div><div class="tile" id="tile_573_497" style="left: 73344px; top: 63680px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/map/watertiles.png&quot;); background-position: 0px -384px;"></div><div class="tile" id="tile_560_498" style="left: 71680px; top: 63744px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/map/watertiles.png&quot;); background-position: -256px -384px;"></div><div class="tile" id="tile_561_498" style="left: 71808px; top: 63808px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/map/watertiles.png&quot;); background-position: 0px -384px;"></div><div class="tile" id="tile_562_498" style="left: 71936px; top: 63744px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/map/watertiles.png&quot;); background-position: -768px 0px;"></div><div class="tile" id="tile_563_498" style="left: 72064px; top: 63808px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/map/watertiles.png&quot;); background-position: -768px 0px;"></div><div class="tile" id="tile_567_498" style="left: 72576px; top: 63808px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/map/watertiles.png&quot;); background-position: -768px -384px;"></div><div class="tile" id="tile_568_498" style="left: 72704px; top: 63744px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/map/watertiles.png&quot;); background-position: -768px -384px;"></div><div class="tile" id="tile_572_498" style="left: 73216px; top: 63744px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/map/rock4.png&quot;); background-position: 0px 0px;"></div><div class="tile" id="tile_573_498" style="left: 73344px; top: 63808px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/map/watertiles.png&quot;); background-position: -256px -384px;"></div><div class="tile" id="tile_561_499" style="left: 71808px; top: 63936px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/map/watertiles.png&quot;); background-position: -256px -256px;"></div><div class="tile" id="tile_562_499" style="left: 71936px; top: 63872px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/map/watertiles.png&quot;); background-position: 0px -256px;"></div><div class="tile" id="tile_563_499" style="left: 72064px; top: 63936px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/map/watertiles.png&quot;); background-position: 0px 0px;"></div><div class="tile" id="tile_564_499" style="left: 72192px; top: 63872px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/map/watertiles.png&quot;); background-position: -768px 0px;"></div><div class="tile" id="tile_565_499" style="left: 72320px; top: 63936px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/map/watertiles.png&quot;); background-position: -768px 0px;"></div><div class="tile" id="tile_566_499" style="left: 72448px; top: 63872px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/map/watertiles.png&quot;); background-position: -768px -384px;"></div><div class="tile" id="tile_573_499" style="left: 73344px; top: 63936px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/map/watertiles.png&quot;); background-position: -768px -384px;"></div><div class="tile" id="tile_560_500" style="left: 71680px; top: 64000px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/map/watertiles.png&quot;); background-position: -256px -384px;"></div><div class="tile" id="tile_561_500" style="left: 71808px; top: 64064px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/map/watertiles.png&quot;); background-position: 0px -256px;"></div><div class="tile" id="tile_562_500" style="left: 71936px; top: 64000px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/map/watertiles.png&quot;); background-position: 0px 0px;"></div><div class="tile" id="tile_563_500" style="left: 72064px; top: 64064px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/map/watertiles.png&quot;); background-position: 0px 0px;"></div><div class="tile" id="tile_564_500" style="left: 72192px; top: 64000px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/map/watertiles.png&quot;); background-position: 0px 0px;"></div><div class="tile" id="tile_565_500" style="left: 72320px; top: 64064px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/map/watertiles.png&quot;); background-position: -512px -128px;"></div><div class="tile" id="tile_566_500" style="left: 72448px; top: 64000px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/map/watertiles.png&quot;); background-position: -768px -128px;"></div><div class="tile" id="tile_560_501" style="left: 71680px; top: 64128px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/map/watertiles.png&quot;); background-position: -256px -384px;"></div><div class="tile" id="tile_561_501" style="left: 71808px; top: 64192px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/map/watertiles.png&quot;); background-position: 0px -256px;"></div><div class="tile" id="tile_562_501" style="left: 71936px; top: 64128px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/map/watertiles.png&quot;); background-position: 0px 0px;"></div><div class="tile" id="tile_563_501" style="left: 72064px; top: 64192px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/map/watertiles.png&quot;); background-position: 0px 0px;"></div><div class="tile" id="tile_564_501" style="left: 72192px; top: 64128px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/map/watertiles.png&quot;); background-position: -512px 0px;"></div><div class="tile" id="tile_565_501" style="left: 72320px; top: 64192px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/map/watertiles.png&quot;); background-position: -768px 0px;"></div><div class="tile" id="tile_566_501" style="left: 72448px; top: 64128px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/map/rock9.png&quot;); background-position: 0px 0px;"></div><div class="tile" id="tile_567_501" style="left: 72576px; top: 64192px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/map/watertiles.png&quot;); background-position: -768px -256px;"></div></div>
			<div id="map_islands" style="position:absolute; top:0px; left:0px; z-index:4;"><div id="island_555_492" class="islandinfo islandinfo-40 islandinfo-Sw" style="left: 71488px; top: 63328px;"><a class="gp_island_link" href="#eyJ0cCI6ImlzbGFuZCIsImlkIjoxNzYxNjUsIml4Ijo1NTUsIml5Ijo0OTIsInJlcyI6IlN3In0="></a><div class="islandinfo_malus"></div></div><div id="island_555_500" class="islandinfo islandinfo-56 islandinfo-Sw" style="left: 71360px; top: 64352px;"><a class="gp_island_link" href="#eyJ0cCI6ImlzbGFuZCIsImlkIjoxNzg0ODUsIml4Ijo1NTUsIml5Ijo1MDAsInJlcyI6IlN3In0="></a><div class="islandinfo_malus"></div></div><div id="island_556_497" class="islandinfo islandinfo-47 islandinfo-Wi" style="left: 71488px; top: 63840px;"><a class="gp_island_link" href="#eyJ0cCI6ImlzbGFuZCIsImlkIjoxNzYxMzgsIml4Ijo1NTYsIml5Ijo0OTcsInJlcyI6IldpIn0="></a><div class="islandinfo_malus"></div></div><div id="island_561_489" class="islandinfo islandinfo-11 islandinfo-Is" style="left: 72064px; top: 62784px;"><a class="gp_island_link" href="#eyJ0cCI6ImlzbGFuZCIsImlkIjoxNzYxODYsIml4Ijo1NjEsIml5Ijo0ODksInJlcyI6IklzIn0="></a><div class="islandinfo_malus"></div></div><div id="island_563_495" class="islandinfo islandinfo-56 islandinfo-Sw" style="left: 72384px; top: 63712px;"><a class="gp_island_link" href="#eyJ0cCI6ImlzbGFuZCIsImlkIjoxNzYxODUsIml4Ijo1NjMsIml5Ijo0OTUsInJlcyI6IlN3In0="></a><div class="islandinfo_malus"></div></div><div id="island_564_487" class="islandinfo islandinfo-37 islandinfo-Is" style="left: 72704px; top: 62656px;"><a class="gp_island_link" href="#eyJ0cCI6ImlzbGFuZCIsImlkIjoxNzYxOTIsIml4Ijo1NjQsIml5Ijo0ODcsInJlcyI6IklzIn0="></a><div class="islandinfo_malus"></div></div><div id="island_564_492" class="islandinfo islandinfo-8 islandinfo-Is" style="left: 72576px; top: 63232px;"><a class="gp_island_link" href="#eyJ0cCI6ImlzbGFuZCIsImlkIjoxNzYxOTMsIml4Ijo1NjQsIml5Ijo0OTIsInJlcyI6IklzIn0="></a><div class="islandinfo_malus"></div></div><div id="island_567_497" class="islandinfo islandinfo-6 islandinfo-Ws" style="left: 73024px; top: 63968px;"><a class="gp_island_link" href="#eyJ0cCI6ImlzbGFuZCIsImlkIjoxNzYxODQsIml4Ijo1NjcsIml5Ijo0OTcsInJlcyI6IldzIn0="></a><div class="islandinfo_malus"></div></div><div id="island_569_500" class="islandinfo islandinfo-14 islandinfo-Ws" style="left: 73024px; top: 64224px;"><a class="gp_island_link" href="#eyJ0cCI6ImlzbGFuZCIsImlkIjoxNzg1NDIsIml4Ijo1NjksIml5Ijo1MDAsInJlcyI6IldzIn0="></a><div class="islandinfo_malus"></div></div><div id="island_571_485" class="islandinfo islandinfo-51 islandinfo-Iw" style="left: 73344px; top: 62336px;"><a class="gp_island_link" href="#eyJ0cCI6ImlzbGFuZCIsImlkIjoxNzYxNzgsIml4Ijo1NzEsIml5Ijo0ODUsInJlcyI6Ikl3In0="></a><div class="islandinfo_malus"></div></div><div id="island_573_499" class="islandinfo islandinfo-41 islandinfo-Wi" style="left: 73792px; top: 64224px;"><a class="gp_island_link" href="#eyJ0cCI6ImlzbGFuZCIsImlkIjoxNzYyMDUsIml4Ijo1NzMsIml5Ijo0OTksInJlcyI6IldpIn0="></a><div class="islandinfo_malus"></div></div></div>
			<div id="map_towns" class="map_towns" style="position:absolute; top:0px; left:0px; z-index:5;"><div id="activetown" style="left: 72483px; top: 63414px;"></div><a class="tile found" href="#eyJpZCI6bnVsbCwiaXgiOjU1NiwiaXkiOjQ5NywidHAiOiJmcmVlIiwibnIiOjQsIm51bWJlcl9vbl9pc2xhbmQiOjR9" style="left: 71702px; top: 63914px;" id="free_AiwB8QQ="></a><a class="tile found" href="#eyJpZCI6bnVsbCwiaXgiOjU1NiwiaXkiOjQ5NywidHAiOiJmcmVlIiwibnIiOjUsIm51bWJlcl9vbl9pc2xhbmQiOjV9" style="left: 71674px; top: 63943px;" id="free_AiwB8QU="></a><a class="tile found" href="#eyJpZCI6bnVsbCwiaXgiOjU1NiwiaXkiOjQ5NywidHAiOiJmcmVlIiwibnIiOjgsIm51bWJlcl9vbl9pc2xhbmQiOjh9" style="left: 71666px; top: 63861px;" id="free_AiwB8Qg="></a><a class="tile found" href="#eyJpZCI6bnVsbCwiaXgiOjU2OSwiaXkiOjUwMCwidHAiOiJmcmVlIiwibnIiOjAsIm51bWJlcl9vbl9pc2xhbmQiOjB9" style="left: 73060px; top: 64151px;" id="free_AjkB9AA="></a><a class="tile found" href="#eyJpZCI6bnVsbCwiaXgiOjU2OSwiaXkiOjUwMCwidHAiOiJmcmVlIiwibnIiOjEsIm51bWJlcl9vbl9pc2xhbmQiOjF9" style="left: 73151px; top: 64163px;" id="free_AjkB9AE="></a><div id="town_flag_5495" class="flag town" style="background-color: rgb(57, 155, 30); left: 73182px; top: 63882px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/flags/map/flag58.png&quot;);"><div class="flagpole town "></div></div><a class="tile ne lvl5 town_567_497_9" href="#eyJpZCI6NTQ5NSwiaXgiOjU2NywiaXkiOjQ5NywidHAiOiJ0b3duIiwibnVtYmVyX29uX2lzbGFuZCI6OX0=" style="left: 73182px; top: 63872px;" id="town_5495"></a><div id="town_flag_7889" class="flag town" style="background-color: rgb(0, 153, 255); left: 72818px; top: 64060px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/flags/map/flag58.png&quot;);"><div class="flagpole town "></div></div><a class="tile nw lvl4 town_567_497_17" href="#eyJpZCI6Nzg4OSwiaXgiOjU2NywiaXkiOjQ5NywidHAiOiJ0b3duIiwibnVtYmVyX29uX2lzbGFuZCI6MTd9" style="left: 72773px; top: 64059px;" id="town_7889"></a><div id="town_flag_3290" class="flag town" style="background-color: rgb(102, 102, 102); left: 72373px; top: 63157px;"><div class="flagpole town ghost_town"></div></div><a class="tile nw lvl2 town_564_492_15 foreign_town_on_same_island" href="#eyJpZCI6MzI5MCwiaXgiOjU2NCwiaXkiOjQ5MiwidHAiOiJ0b3duIiwibnVtYmVyX29uX2lzbGFuZCI6MTV9" style="left: 72328px; top: 63156px;" id="town_3290"></a><div id="town_flag_3805" class="flag town" style="background-color: rgb(0, 153, 255); left: 72929px; top: 63345px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/flags/map/flag58.png&quot;);"><div class="flagpole town "></div></div><a class="tile se lvl4 town_564_492_4 foreign_town_on_same_island" href="#eyJpZCI6MzgwNSwiaXgiOjU2NCwiaXkiOjQ5MiwidHAiOiJ0b3duIiwibnVtYmVyX29uX2lzbGFuZCI6NH0=" style="left: 72900px; top: 63352px;" id="town_3805"></a><div id="town_flag_8630" class="flag town" style="background-color: rgb(0, 153, 255); left: 73108px; top: 64068px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/flags/map/flag58.png&quot;);"><div class="flagpole town "></div></div><a class="tile sw lvl5 town_567_497_0" href="#eyJpZCI6ODYzMCwiaXgiOjU2NywiaXkiOjQ5NywidHAiOiJ0b3duIiwibnVtYmVyX29uX2lzbGFuZCI6MH0=" style="left: 73053px; top: 64066px;" id="town_8630"></a><div id="town_flag_4612" class="flag town" style="background-color: rgb(57, 155, 30); left: 72481px; top: 63380px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/flags/map/flag58.png&quot;);"><div class="flagpole town "></div></div><a class="tile sw lvl3 town_564_492_10 foreign_town_on_same_island" href="#eyJpZCI6NDYxMiwiaXgiOjU2NCwiaXkiOjQ5MiwidHAiOiJ0b3duIiwibnVtYmVyX29uX2lzbGFuZCI6MTB9" style="left: 72426px; top: 63378px;" id="town_4612"></a><div id="town_flag_3381" class="flag town" style="background-color: rgb(187, 85, 17); left: 72422px; top: 63134px;"><div class="flagpole town "></div></div><a class="tile nw lvl2 town_564_492_16 foreign_town_on_same_island" href="#eyJpZCI6MzM4MSwiaXgiOjU2NCwiaXkiOjQ5MiwidHAiOiJ0b3duIiwibnVtYmVyX29uX2lzbGFuZCI6MTZ9" style="left: 72377px; top: 63133px;" id="town_3381"></a><div id="town_flag_2974" class="flag town" style="background-color: rgb(0, 153, 255); left: 71876px; top: 63396px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/flags/map/flag58.png&quot;);"><div class="flagpole town "></div></div><a class="tile se lvl5 town_555_492_12" href="#eyJpZCI6Mjk3NCwiaXgiOjU1NSwiaXkiOjQ5MiwidHAiOiJ0b3duIiwibnVtYmVyX29uX2lzbGFuZCI6MTJ9" style="left: 71847px; top: 63403px;" id="town_2974"></a><div id="town_flag_3380" class="flag town" style="background-color: rgb(57, 155, 30); left: 72705px; top: 63422px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/flags/map/flag44.png&quot;);"><div class="flagpole town "></div></div><a class="tile se lvl3 town_564_492_7 foreign_town_on_same_island" href="#eyJpZCI6MzM4MCwiaXgiOjU2NCwiaXkiOjQ5MiwidHAiOiJ0b3duIiwibnVtYmVyX29uX2lzbGFuZCI6N30=" style="left: 72676px; top: 63429px;" id="town_3380"></a><div id="town_flag_4228" class="flag town" style="background-color: rgb(57, 155, 30); left: 72432px; top: 62704px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/flags/map/flag58.png&quot;);"><div class="flagpole town "></div></div><a class="tile sw lvl5 town_564_487_9" href="#eyJpZCI6NDIyOCwiaXgiOjU2NCwiaXkiOjQ4NywidHAiOiJ0b3duIiwibnVtYmVyX29uX2lzbGFuZCI6OX0=" style="left: 72377px; top: 62702px;" id="town_4228"></a><div id="town_flag_2902" class="flag town" style="background-color: rgb(0, 153, 255); left: 72787px; top: 63242px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/flags/map/flag58.png&quot;);"><div class="flagpole town "></div></div><a class="tile ne lvl5 town_564_492_0 foreign_town_on_same_island" href="#eyJpZCI6MjkwMiwiaXgiOjU2NCwiaXkiOjQ5MiwidHAiOiJ0b3duIiwibnVtYmVyX29uX2lzbGFuZCI6MH0=" style="left: 72787px; top: 63232px;" id="town_2902"></a><div id="town_flag_5470" class="flag town" style="background-color: rgb(187, 85, 17); left: 71798px; top: 63305px;"><div class="flagpole town "></div></div><a class="tile ne lvl4 town_555_492_15" href="#eyJpZCI6NTQ3MCwiaXgiOjU1NSwiaXkiOjQ5MiwidHAiOiJ0b3duIiwibnVtYmVyX29uX2lzbGFuZCI6MTV9" style="left: 71798px; top: 63295px;" id="town_5470"></a><div id="town_flag_7787" class="flag town" style="background-color: rgb(0, 153, 255); left: 72887px; top: 64128px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/flags/map/flag58.png&quot;);"><div class="flagpole town "></div></div><a class="tile se lvl5 town_567_497_19" href="#eyJpZCI6Nzc4NywiaXgiOjU2NywiaXkiOjQ5NywidHAiOiJ0b3duIiwibnVtYmVyX29uX2lzbGFuZCI6MTl9" style="left: 72858px; top: 64135px;" id="town_7787"></a><div id="town_flag_5352" class="flag town" style="background-color: rgb(57, 155, 30); left: 71947px; top: 63349px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/flags/map/flag44.png&quot;);"><div class="flagpole town "></div></div><a class="tile se lvl4 town_555_492_13" href="#eyJpZCI6NTM1MiwiaXgiOjU1NSwiaXkiOjQ5MiwidHAiOiJ0b3duIiwibnVtYmVyX29uX2lzbGFuZCI6MTN9" style="left: 71918px; top: 63356px;" id="town_5352"></a><div id="town_flag_5331" class="flag town" style="background-color: rgb(0, 153, 255); left: 72790px; top: 64022px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/flags/map/flag58.png&quot;);"><div class="flagpole town "></div></div><a class="tile sw lvl5 town_567_497_16" href="#eyJpZCI6NTMzMSwiaXgiOjU2NywiaXkiOjQ5NywidHAiOiJ0b3duIiwibnVtYmVyX29uX2lzbGFuZCI6MTZ9" style="left: 72735px; top: 64020px;" id="town_5331"></a><div id="town_flag_7837" class="flag town" style="background-color: rgb(187, 85, 17); left: 73301px; top: 64000px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/flags/map/flag43.png&quot;);"><div class="flagpole town "></div></div><a class="tile ne lvl5 town_567_497_7" href="#eyJpZCI6NzgzNywiaXgiOjU2NywiaXkiOjQ5NywidHAiOiJ0b3duIiwibnVtYmVyX29uX2lzbGFuZCI6N30=" style="left: 73301px; top: 63990px;" id="town_7837"></a><div id="town_flag_2955" class="flag town" style="background-color: rgb(102, 102, 102); left: 72512px; top: 63120px;"><div class="flagpole town ghost_town"></div></div><a class="tile ne lvl2 town_564_492_18 foreign_town_on_same_island" href="#eyJpZCI6Mjk1NSwiaXgiOjU2NCwiaXkiOjQ5MiwidHAiOiJ0b3duIiwibnVtYmVyX29uX2lzbGFuZCI6MTh9" style="left: 72512px; top: 63110px;" id="town_2955"></a><div id="town_flag_3807" class="flag town" style="background-color: rgb(187, 85, 17); left: 73011px; top: 62792px;"><div class="flagpole town "></div></div><a class="tile se lvl2 town_564_487_15" href="#eyJpZCI6MzgwNywiaXgiOjU2NCwiaXkiOjQ4NywidHAiOiJ0b3duIiwibnVtYmVyX29uX2lzbGFuZCI6MTV9" style="left: 72982px; top: 62799px;" id="town_3807"></a><div id="town_flag_4613" class="flag town" style="background-color: rgb(102, 102, 102); left: 72391px; top: 63252px;"><div class="flagpole town ghost_town"></div></div><a class="tile sw lvl2 town_564_492_13 foreign_town_on_same_island" href="#eyJpZCI6NDYxMywiaXgiOjU2NCwiaXkiOjQ5MiwidHAiOiJ0b3duIiwibnVtYmVyX29uX2lzbGFuZCI6MTN9" style="left: 72336px; top: 63250px;" id="town_4613"></a><div id="town_flag_3593" class="flag town" style="background-color: rgb(102, 102, 102); left: 72820px; top: 63394px;"><div class="flagpole town ghost_town"></div></div><a class="tile se lvl2 town_564_492_6 foreign_town_on_same_island" href="#eyJpZCI6MzU5MywiaXgiOjU2NCwiaXkiOjQ5MiwidHAiOiJ0b3duIiwibnVtYmVyX29uX2lzbGFuZCI6Nn0=" style="left: 72791px; top: 63401px;" id="town_3593"></a><div id="town_flag_5471" class="flag town" style="background-color: rgb(187, 85, 17); left: 72632px; top: 62796px;"><div class="flagpole town "></div></div><a class="tile sw lvl3 town_564_487_11" href="#eyJpZCI6NTQ3MSwiaXgiOjU2NCwiaXkiOjQ4NywidHAiOiJ0b3duIiwibnVtYmVyX29uX2lzbGFuZCI6MTF9" style="left: 72577px; top: 62794px;" id="town_5471"></a><div id="town_flag_3289" class="flag town" style="background-color: rgb(57, 155, 30); left: 72357px; top: 63204px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/flags/map/flag44.png&quot;);"><div class="flagpole town "></div></div><a class="tile sw lvl3 town_564_492_14 foreign_town_on_same_island" href="#eyJpZCI6MzI4OSwiaXgiOjU2NCwiaXkiOjQ5MiwidHAiOiJ0b3duIiwibnVtYmVyX29uX2lzbGFuZCI6MTR9" style="left: 72302px; top: 63202px;" id="town_3289"></a><div id="town_flag_3379" class="flag town" style="background-color: rgb(57, 155, 30); left: 71923px; top: 63324px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/flags/map/flag58.png&quot;);"><div class="flagpole town "></div></div><a class="tile ne lvl5 town_555_492_14" href="#eyJpZCI6MzM3OSwiaXgiOjU1NSwiaXkiOjQ5MiwidHAiOiJ0b3duIiwibnVtYmVyX29uX2lzbGFuZCI6MTR9" style="left: 71923px; top: 63314px;" id="town_3379"></a><div id="town_flag_3065" class="flag town" style="background-color: rgb(0, 153, 255); left: 72659px; top: 63431px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/flags/map/flag58.png&quot;);"><div class="flagpole town "></div></div><a class="tile sw lvl5 town_564_492_8 foreign_town_on_same_island" href="#eyJpZCI6MzA2NSwiaXgiOjU2NCwiaXkiOjQ5MiwidHAiOiJ0b3duIiwibnVtYmVyX29uX2lzbGFuZCI6OH0=" style="left: 72604px; top: 63429px;" id="town_3065"></a><div id="town_flag_8061" class="flag own_town" style="background-color: rgb(255, 187, 0); left: 72901px; top: 63870px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/flags/map/flag58.png&quot;);"><div class="flagpole town "></div></div><a class="tile nw lvl5 town_567_497_13" href="#eyJpZCI6ODA2MSwiaXgiOjU2NywiaXkiOjQ5NywidHAiOiJ0b3duIiwibnVtYmVyX29uX2lzbGFuZCI6MTN9" style="left: 72856px; top: 63869px;" id="town_8061"></a><div id="town_flag_2975" class="flag town" style="background-color: rgb(0, 153, 255); left: 72433px; top: 63323px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/flags/map/flag58.png&quot;);"><div class="flagpole town "></div></div><a class="tile sw lvl5 town_564_492_11 foreign_town_on_same_island" href="#eyJpZCI6Mjk3NSwiaXgiOjU2NCwiaXkiOjQ5MiwidHAiOiJ0b3duIiwibnVtYmVyX29uX2lzbGFuZCI6MTF9" style="left: 72378px; top: 63321px;" id="town_2975"></a><div id="town_flag_3776" class="flag town" style="background-color: rgb(0, 153, 255); left: 73046px; top: 63840px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/flags/map/flag58.png&quot;);"><div class="flagpole town "></div></div><a class="tile nw lvl5 town_567_497_11" href="#eyJpZCI6Mzc3NiwiaXgiOjU2NywiaXkiOjQ5NywidHAiOiJ0b3duIiwibnVtYmVyX29uX2lzbGFuZCI6MTF9" style="left: 73001px; top: 63839px;" id="town_3776"></a><div id="town_flag_3623" class="flag town" style="background-color: rgb(0, 153, 255); left: 71713px; top: 63203px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/flags/map/flag58.png&quot;);"><div class="flagpole town "></div></div><a class="tile ne lvl4 town_555_492_17" href="#eyJpZCI6MzYyMywiaXgiOjU1NSwiaXkiOjQ5MiwidHAiOiJ0b3duIiwibnVtYmVyX29uX2lzbGFuZCI6MTd9" style="left: 71713px; top: 63193px;" id="town_3623"></a><div id="town_flag_2903" class="flag town" style="background-color: rgb(102, 102, 102); left: 72847px; top: 63267px;"><div class="flagpole town ghost_town"></div></div><a class="tile ne lvl2 town_564_492_1 foreign_town_on_same_island" href="#eyJpZCI6MjkwMywiaXgiOjU2NCwiaXkiOjQ5MiwidHAiOiJ0b3duIiwibnVtYmVyX29uX2lzbGFuZCI6MX0=" style="left: 72847px; top: 63257px;" id="town_2903"></a><div id="town_flag_4963" class="flag own_town" style="background-color: rgb(255, 187, 0); left: 71738px; top: 63283px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/flags/map/flag58.png&quot;);"><div class="flagpole town "></div></div><a class="tile ne lvl5 town_555_492_16" href="#eyJpZCI6NDk2MywiaXgiOjU1NSwiaXkiOjQ5MiwidHAiOiJ0b3duIiwibnVtYmVyX29uX2lzbGFuZCI6MTZ9" style="left: 71738px; top: 63273px;" id="town_4963"></a><div id="town_flag_2954" class="flag own_town" style="background-color: rgb(255, 187, 0); left: 72480px; top: 63115px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/flags/map/flag58.png&quot;);"><div class="flagpole town "></div></div><a class="tile nw lvl5 town_564_492_17" href="#eyJpZCI6Mjk1NCwiaXgiOjU2NCwiaXkiOjQ5MiwidHAiOiJ0b3duIiwibnVtYmVyX29uX2lzbGFuZCI6MTd9" style="left: 72435px; top: 63114px;" id="town_2954"></a><div id="town_flag_3806" class="flag town" style="background-color: rgb(57, 155, 30); left: 72926px; top: 62812px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/flags/map/flag58.png&quot;);"><div class="flagpole town "></div></div><a class="tile se lvl5 town_564_487_14" href="#eyJpZCI6MzgwNiwiaXgiOjU2NCwiaXkiOjQ4NywidHAiOiJ0b3duIiwibnVtYmVyX29uX2lzbGFuZCI6MTR9" style="left: 72897px; top: 62819px;" id="town_3806"></a><div id="town_flag_3745" class="flag town" style="background-color: rgb(0, 153, 255); left: 72808px; top: 64112px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/flags/map/flag58.png&quot;);"><div class="flagpole town "></div></div><a class="tile sw lvl4 town_567_497_18" href="#eyJpZCI6Mzc0NSwiaXgiOjU2NywiaXkiOjQ5NywidHAiOiJ0b3duIiwibnVtYmVyX29uX2lzbGFuZCI6MTh9" style="left: 72753px; top: 64110px;" id="town_3745"></a><div id="town_flag_5755" class="flag town" style="background-color: rgb(0, 153, 255); left: 71732px; top: 63479px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/flags/map/flag58.png&quot;);"><div class="flagpole town "></div></div><a class="tile se lvl4 town_555_492_10" href="#eyJpZCI6NTc1NSwiaXgiOjU1NSwiaXkiOjQ5MiwidHAiOiJ0b3duIiwibnVtYmVyX29uX2lzbGFuZCI6MTB9" style="left: 71703px; top: 63486px;" id="town_5755"></a><div id="town_flag_4601" class="flag town" style="background-color: rgb(57, 155, 30); left: 71811px; top: 63440px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/flags/map/flag58.png&quot;);"><div class="flagpole town "></div></div><a class="tile se lvl5 town_555_492_11" href="#eyJpZCI6NDYwMSwiaXgiOjU1NSwiaXkiOjQ5MiwidHAiOiJ0b3duIiwibnVtYmVyX29uX2lzbGFuZCI6MTF9" style="left: 71782px; top: 63447px;" id="town_4601"></a><div id="town_flag_5312" class="flag town" style="background-color: rgb(57, 155, 30); left: 72876px; top: 62842px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/flags/map/flag44.png&quot;);"><div class="flagpole town "></div></div><a class="tile se lvl4 town_564_487_13" href="#eyJpZCI6NTMxMiwiaXgiOjU2NCwiaXkiOjQ4NywidHAiOiJ0b3duIiwibnVtYmVyX29uX2lzbGFuZCI6MTN9" style="left: 72847px; top: 62849px;" id="town_5312"></a><div id="town_flag_5354" class="flag town" style="background-color: rgb(102, 102, 102); left: 72500px; top: 62762px;"><div class="flagpole town ghost_town"></div></div><a class="tile sw lvl2 town_564_487_10" href="#eyJpZCI6NTM1NCwiaXgiOjU2NCwiaXkiOjQ4NywidHAiOiJ0b3duIiwibnVtYmVyX29uX2lzbGFuZCI6MTB9" style="left: 72445px; top: 62760px;" id="town_5354"></a><div id="town_flag_3591" class="flag own_town" style="background-color: rgb(255, 187, 0); left: 72804px; top: 63926px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/flags/map/flag58.png&quot;);"><div class="flagpole town "></div></div><a class="tile nw lvl5 town_567_497_14" href="#eyJpZCI6MzU5MSwiaXgiOjU2NywiaXkiOjQ5NywidHAiOiJ0b3duIiwibnVtYmVyX29uX2lzbGFuZCI6MTR9" style="left: 72759px; top: 63925px;" id="town_3591"></a><div id="town_flag_8981" class="flag town" style="background-color: rgb(187, 85, 17); left: 72736px; top: 63988px;"><div class="flagpole town "></div></div><a class="tile sw lvl2 town_567_497_15" href="#eyJpZCI6ODk4MSwiaXgiOjU2NywiaXkiOjQ5NywidHAiOiJ0b3duIiwibnVtYmVyX29uX2lzbGFuZCI6MTV9" style="left: 72681px; top: 63986px;" id="town_8981"></a><div id="town_flag_3616" class="flag town" style="background-color: rgb(0, 153, 255); left: 72547px; top: 63156px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/flags/map/flag58.png&quot;);"><div class="flagpole town "></div></div><a class="tile ne lvl5 town_564_492_19 foreign_town_on_same_island" href="#eyJpZCI6MzYxNiwiaXgiOjU2NCwiaXkiOjQ5MiwidHAiOiJ0b3duIiwibnVtYmVyX29uX2lzbGFuZCI6MTl9" style="left: 72547px; top: 63146px;" id="town_3616"></a><div id="town_flag_7627" class="flag town" style="background-color: rgb(57, 155, 30); left: 73233px; top: 63909px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/flags/map/flag58.png&quot;);"><div class="flagpole town "></div></div><a class="tile ne lvl5 town_567_497_8" href="#eyJpZCI6NzYyNywiaXgiOjU2NywiaXkiOjQ5NywidHAiOiJ0b3duIiwibnVtYmVyX29uX2lzbGFuZCI6OH0=" style="left: 73233px; top: 63899px;" id="town_7627"></a><div id="town_flag_5467" class="flag own_town" style="background-color: rgb(255, 187, 0); left: 73094px; top: 62709px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/flags/map/flag58.png&quot;);"><div class="flagpole town "></div></div><a class="tile se lvl5 town_564_487_16" href="#eyJpZCI6NTQ2NywiaXgiOjU2NCwiaXkiOjQ4NywidHAiOiJ0b3duIiwibnVtYmVyX29uX2lzbGFuZCI6MTZ9" style="left: 73065px; top: 62716px;" id="town_5467"></a><div id="town_flag_5498" class="flag town" style="background-color: rgb(0, 153, 255); left: 72973px; top: 63858px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/flags/map/flag58.png&quot;);"><div class="flagpole town "></div></div><a class="tile nw lvl4 town_567_497_12" href="#eyJpZCI6NTQ5OCwiaXgiOjU2NywiaXkiOjQ5NywidHAiOiJ0b3duIiwibnVtYmVyX29uX2lzbGFuZCI6MTJ9" style="left: 72928px; top: 63857px;" id="town_5498"></a><div id="town_flag_2976" class="flag town" style="background-color: rgb(0, 153, 255); left: 72391px; top: 63297px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/flags/map/flag58.png&quot;);"><div class="flagpole town "></div></div><a class="tile sw lvl4 town_564_492_12 foreign_town_on_same_island" href="#eyJpZCI6Mjk3NiwiaXgiOjU2NCwiaXkiOjQ5MiwidHAiOiJ0b3duIiwibnVtYmVyX29uX2lzbGFuZCI6MTJ9" style="left: 72336px; top: 63295px;" id="town_2976"></a><div id="town_flag_4611" class="flag town" style="background-color: rgb(57, 155, 30); left: 72787px; top: 62841px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/flags/map/flag44.png&quot;);"><div class="flagpole town "></div></div><a class="tile sw lvl4 town_564_487_12" href="#eyJpZCI6NDYxMSwiaXgiOjU2NCwiaXkiOjQ4NywidHAiOiJ0b3duIiwibnVtYmVyX29uX2lzbGFuZCI6MTJ9" style="left: 72732px; top: 62839px;" id="town_4611"></a><div id="town_flag_3074" class="flag town" style="background-color: rgb(57, 155, 30); left: 72971px; top: 63317px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/flags/map/flag58.png&quot;);"><div class="flagpole town "></div></div><a class="tile se lvl5 town_564_492_3 foreign_town_on_same_island" href="#eyJpZCI6MzA3NCwiaXgiOjU2NCwiaXkiOjQ5MiwidHAiOiJ0b3duIiwibnVtYmVyX29uX2lzbGFuZCI6M30=" style="left: 72942px; top: 63324px;" id="town_3074"></a><div id="town_flag_6294" class="flag town" style="background-color: rgb(57, 155, 30); left: 73296px; top: 64143px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/flags/map/flag58.png&quot;);"><div class="flagpole town "></div></div><a class="tile se lvl4 town_567_497_2" href="#eyJpZCI6NjI5NCwiaXgiOjU2NywiaXkiOjQ5NywidHAiOiJ0b3duIiwibnVtYmVyX29uX2lzbGFuZCI6Mn0=" style="left: 73267px; top: 64150px;" id="town_6294"></a><div id="town_flag_3066" class="flag own_town" style="background-color: rgb(255, 187, 0); left: 72541px; top: 63408px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/flags/map/flag58.png&quot;);"><div class="flagpole town "></div></div><a class="tile sw lvl5 town_564_492_9" href="#eyJpZCI6MzA2NiwiaXgiOjU2NCwiaXkiOjQ5MiwidHAiOiJ0b3duIiwibnVtYmVyX29uX2lzbGFuZCI6OX0=" style="left: 72486px; top: 63406px;" id="town_3066"></a><div id="town_flag_3073" class="flag town" style="background-color: rgb(0, 153, 255); left: 72909px; top: 63287px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/flags/map/flag58.png&quot;);"><div class="flagpole town "></div></div><a class="tile ne lvl5 town_564_492_2 foreign_town_on_same_island" href="#eyJpZCI6MzA3MywiaXgiOjU2NCwiaXkiOjQ5MiwidHAiOiJ0b3duIiwibnVtYmVyX29uX2lzbGFuZCI6Mn0=" style="left: 72909px; top: 63277px;" id="town_3073"></a><div id="town_flag_3592" class="flag town" style="background-color: rgb(57, 155, 30); left: 72884px; top: 63372px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/flags/map/flag58.png&quot;);"><div class="flagpole town "></div></div><a class="tile se lvl4 town_564_492_5 foreign_town_on_same_island" href="#eyJpZCI6MzU5MiwiaXgiOjU2NCwiaXkiOjQ5MiwidHAiOiJ0b3duIiwibnVtYmVyX29uX2lzbGFuZCI6NX0=" style="left: 72855px; top: 63379px;" id="town_3592"></a><div id="town_flag_7630" class="flag town" style="background-color: rgb(57, 155, 30); left: 73192px; top: 64119px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/flags/map/flag58.png&quot;);"><div class="flagpole town "></div></div><a class="tile sw lvl5 town_567_497_1" href="#eyJpZCI6NzYzMCwiaXgiOjU2NywiaXkiOjQ5NywidHAiOiJ0b3duIiwibnVtYmVyX29uX2lzbGFuZCI6MX0=" style="left: 73137px; top: 64117px;" id="town_7630"></a><div id="town_flag_5353" class="flag town" style="background-color: rgb(57, 155, 30); left: 72796px; top: 62701px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/flags/map/flag58.png&quot;);"><div class="flagpole town "></div></div><a class="tile nw lvl4 town_564_487_4" href="#eyJpZCI6NTM1MywiaXgiOjU2NCwiaXkiOjQ4NywidHAiOiJ0b3duIiwibnVtYmVyX29uX2lzbGFuZCI6NH0=" style="left: 72751px; top: 62700px;" id="town_5353"></a><div id="town_flag_8980" class="flag town" style="background-color: rgb(57, 155, 30); left: 73097px; top: 63844px; background-image: url(&quot;https://gppt.innogamescdn.com/images/game/flags/map/flag58.png&quot;);"><div class="flagpole town "></div></div><a class="tile ne lvl3 town_567_497_10" href="#eyJpZCI6ODk4MCwiaXgiOjU2NywiaXkiOjQ5NywidHAiOiJ0b3duIiwibnVtYmVyX29uX2lzbGFuZCI6MTB9" style="left: 73097px; top: 63834px;" id="town_8980"></a><a style="transform: translate(72524px, 63357px);" data-id="852" data-type="farm_town" href="#" id="farm_town_852_claim" class="badge claim"></a><div id="farm_town_flag_852" class="flag farm_town" style="background-color: rgb(255, 187, 0); left: 72547px; top: 63350px;"><a href="#" class="flagpole town" data-id="852" data-type="farm_town"></a></div><a id="farm_town_852" style="transform: translate(72524px, 63357px);" class=" owned farm_town tile lvl6" href="#" data-id="852" data-type="farm_town" data-same_island="true"></a><a style="transform: translate(72671px, 63243px);" data-id="849" data-type="farm_town" href="#" id="farm_town_849_claim" class="badge claim"></a><div id="farm_town_flag_849" class="flag farm_town" style="background-color: rgb(255, 187, 0); left: 72694px; top: 63236px;"><a href="#" class="flagpole town" data-id="849" data-type="farm_town"></a></div><a id="farm_town_849" style="transform: translate(72671px, 63243px);" class=" owned farm_town tile lvl6" href="#" data-id="849" data-type="farm_town" data-same_island="true"></a><a style="transform: translate(72976px, 63903px);" data-id="1033" data-type="farm_town" href="#" id="farm_town_1033_claim" class="badge claim"></a><div id="farm_town_flag_1033" class="flag farm_town" style="background-color: rgb(255, 187, 0); left: 72999px; top: 63896px;"><a href="#" class="flagpole town" data-id="1033" data-type="farm_town"></a></div><a id="farm_town_1033" style="transform: translate(72976px, 63903px);" class=" owned farm_town tile lvl6" href="#" data-id="1033" data-type="farm_town" data-same_island="false"></a><a style="transform: translate(73064px, 63876px);" data-id="1038" data-type="farm_town" href="#" id="farm_town_1038_claim" class="badge claim"></a><div id="farm_town_flag_1038" class="flag farm_town" style="background-color: rgb(255, 187, 0); left: 73087px; top: 63869px;"><a href="#" class="flagpole town" data-id="1038" data-type="farm_town"></a></div><a id="farm_town_1038" style="transform: translate(73064px, 63876px);" class=" owned farm_town tile lvl6" href="#" data-id="1038" data-type="farm_town" data-same_island="false"></a><a style="transform: translate(73356px, 64086px);" data-id="1034" data-type="farm_town" href="#" id="farm_town_1034_claim" class="badge claim"></a><div id="farm_town_flag_1034" class="flag farm_town" style="background-color: rgb(255, 187, 0); left: 73379px; top: 64079px;"><a href="#" class="flagpole town" data-id="1034" data-type="farm_town"></a></div><a id="farm_town_1034" style="transform: translate(73356px, 64086px);" class=" owned farm_town tile lvl6" href="#" data-id="1034" data-type="farm_town" data-same_island="false"></a><a style="transform: translate(72850px, 63948px);" data-id="1037" data-type="farm_town" href="#" id="farm_town_1037_claim" class="badge claim"></a><div id="farm_town_flag_1037" class="flag farm_town" style="background-color: rgb(255, 187, 0); left: 72873px; top: 63941px;"><a href="#" class="flagpole town" data-id="1037" data-type="farm_town"></a></div><a id="farm_town_1037" style="transform: translate(72850px, 63948px);" class=" owned farm_town tile lvl6" href="#" data-id="1037" data-type="farm_town" data-same_island="false"></a><a style="transform: translate(73243px, 64007px);" data-id="1035" data-type="farm_town" href="#" id="farm_town_1035_claim" class="badge claim"></a><div id="farm_town_flag_1035" class="flag farm_town" style="background-color: rgb(255, 187, 0); left: 73266px; top: 64000px;"><a href="#" class="flagpole town" data-id="1035" data-type="farm_town"></a></div><a id="farm_town_1035" style="transform: translate(73243px, 64007px);" class=" owned farm_town tile lvl6" href="#" data-id="1035" data-type="farm_town" data-same_island="false"></a><a style="transform: translate(71667px, 63257px);" data-id="746" data-type="farm_town" href="#" id="farm_town_746_claim" class="badge claim"></a><div id="farm_town_flag_746" class="flag farm_town" style="background-color: rgb(255, 187, 0); left: 71690px; top: 63250px;"><a href="#" class="flagpole town" data-id="746" data-type="farm_town"></a></div><a id="farm_town_746" style="transform: translate(71667px, 63257px);" class=" owned farm_town tile lvl6" href="#" data-id="746" data-type="farm_town" data-same_island="false"></a><a style="transform: translate(73099px, 63983px);" data-id="1036" data-type="farm_town" href="#" id="farm_town_1036_claim" class="badge claim"></a><div id="farm_town_flag_1036" class="flag farm_town" style="background-color: rgb(255, 187, 0); left: 73122px; top: 63976px;"><a href="#" class="flagpole town" data-id="1036" data-type="farm_town"></a></div><a id="farm_town_1036" style="transform: translate(73099px, 63983px);" class=" owned farm_town tile lvl6" href="#" data-id="1036" data-type="farm_town" data-same_island="false"></a><a style="transform: translate(72839px, 63343px);" data-id="851" data-type="farm_town" href="#" id="farm_town_851_claim" class="badge claim"></a><div id="farm_town_flag_851" class="flag farm_town" style="background-color: rgb(255, 187, 0); left: 72862px; top: 63336px;"><a href="#" class="flagpole town" data-id="851" data-type="farm_town"></a></div><a id="farm_town_851" style="transform: translate(72839px, 63343px);" class=" owned farm_town tile lvl6" href="#" data-id="851" data-type="farm_town" data-same_island="true"></a><a style="transform: translate(72499px, 62711px);" data-id="1055" data-type="farm_town" href="#" id="farm_town_1055_claim" class="badge claim"></a><div id="farm_town_flag_1055" class="flag farm_town" style="background-color: rgb(255, 187, 0); left: 72522px; top: 62704px;"><a href="#" class="flagpole town" data-id="1055" data-type="farm_town"></a></div><a id="farm_town_1055" style="transform: translate(72499px, 62711px);" class=" owned farm_town tile lvl6" href="#" data-id="1055" data-type="farm_town" data-same_island="false"></a><a style="transform: translate(72431px, 63234px);" data-id="847" data-type="farm_town" href="#" id="farm_town_847_claim" class="badge claim"></a><div id="farm_town_flag_847" class="flag farm_town" style="background-color: rgb(255, 187, 0); left: 72454px; top: 63227px;"><a href="#" class="flagpole town" data-id="847" data-type="farm_town"></a></div><a id="farm_town_847" style="transform: translate(72431px, 63234px);" class=" owned farm_town tile lvl6" href="#" data-id="847" data-type="farm_town" data-same_island="true"></a><a style="transform: translate(72695px, 62778px);" data-id="1056" data-type="farm_town" href="#" id="farm_town_1056_claim" class="badge claim"></a><div id="farm_town_flag_1056" class="flag farm_town" style="background-color: rgb(255, 187, 0); left: 72718px; top: 62771px;"><a href="#" class="flagpole town" data-id="1056" data-type="farm_town"></a></div><a id="farm_town_1056" style="transform: translate(72695px, 62778px);" class=" owned farm_town tile lvl6" href="#" data-id="1056" data-type="farm_town" data-same_island="false"></a><a style="transform: translate(72524px, 63220px);" data-id="850" data-type="farm_town" href="#" id="farm_town_850_claim" class="badge claim"></a><div id="farm_town_flag_850" class="flag farm_town" style="background-color: rgb(255, 187, 0); left: 72547px; top: 63213px;"><a href="#" class="flagpole town" data-id="850" data-type="farm_town"></a></div><a id="farm_town_850" style="transform: translate(72524px, 63220px);" class=" owned farm_town tile lvl6" href="#" data-id="850" data-type="farm_town" data-same_island="true"></a><a style="transform: translate(72799px, 63301px);" data-id="848" data-type="farm_town" href="#" id="farm_town_848_claim" class="badge claim"></a><div id="farm_town_flag_848" class="flag farm_town" style="background-color: rgb(255, 187, 0); left: 72822px; top: 63294px;"><a href="#" class="flagpole town" data-id="848" data-type="farm_town"></a></div><a id="farm_town_848" style="transform: translate(72799px, 63301px);" class=" owned farm_town tile lvl6" href="#" data-id="848" data-type="farm_town" data-same_island="true"></a><a class="tile found" href="#eyJpZCI6bnVsbCwiaXgiOjU2MywiaXkiOjQ5NSwidHAiOiJmcmVlIiwibnIiOjAsIm51bWJlcl9vbl9pc2xhbmQiOjB9" style="left: 72558px; top: 63517px;" id="free_AjMB7wA="></a><a class="tile found" href="#eyJpZCI6bnVsbCwiaXgiOjU2MywiaXkiOjQ5NSwidHAiOiJmcmVlIiwibnIiOjEsIm51bWJlcl9vbl9pc2xhbmQiOjF9" style="left: 72504px; top: 63545px;" id="free_AjMB7wE="></a><a class="tile found" href="#eyJpZCI6bnVsbCwiaXgiOjU2MywiaXkiOjQ5NSwidHAiOiJmcmVlIiwibnIiOjIsIm51bWJlcl9vbl9pc2xhbmQiOjJ9" style="left: 72411px; top: 63591px;" id="free_AjMB7wI="></a><a class="tile found" href="#eyJpZCI6bnVsbCwiaXgiOjU2MywiaXkiOjQ5NSwidHAiOiJmcmVlIiwibnIiOjMsIm51bWJlcl9vbl9pc2xhbmQiOjN9" style="left: 72322px; top: 63615px;" id="free_AjMB7wM="></a><a class="tile found" href="#eyJpZCI6bnVsbCwiaXgiOjU2MywiaXkiOjQ5NSwidHAiOiJmcmVlIiwibnIiOjQsIm51bWJlcl9vbl9pc2xhbmQiOjR9" style="left: 72251px; top: 63637px;" id="free_AjMB7wQ="></a><a class="tile found" href="#eyJpZCI6bnVsbCwiaXgiOjU2MywiaXkiOjQ5NSwidHAiOiJmcmVlIiwibnIiOjUsIm51bWJlcl9vbl9pc2xhbmQiOjV9" style="left: 72206px; top: 63675px;" id="free_AjMB7wU="></a><a class="tile found" href="#eyJpZCI6bnVsbCwiaXgiOjU2MywiaXkiOjQ5NSwidHAiOiJmcmVlIiwibnIiOjYsIm51bWJlcl9vbl9pc2xhbmQiOjZ9" style="left: 72260px; top: 63721px;" id="free_AjMB7wY="></a><a class="tile found" href="#eyJpZCI6bnVsbCwiaXgiOjU2MywiaXkiOjQ5NSwidHAiOiJmcmVlIiwibnIiOjcsIm51bWJlcl9vbl9pc2xhbmQiOjd9" style="left: 72251px; top: 63772px;" id="free_AjMB7wc="></a><a class="tile found" href="#eyJpZCI6bnVsbCwiaXgiOjU2MywiaXkiOjQ5NSwidHAiOiJmcmVlIiwibnIiOjgsIm51bWJlcl9vbl9pc2xhbmQiOjh9" style="left: 72265px; top: 63812px;" id="free_AjMB7wg="></a><a class="tile found" href="#eyJpZCI6bnVsbCwiaXgiOjU2MywiaXkiOjQ5NSwidHAiOiJmcmVlIiwibnIiOjksIm51bWJlcl9vbl9pc2xhbmQiOjl9" style="left: 72657px; top: 63736px;" id="free_AjMB7wk="></a><a class="tile found" href="#eyJpZCI6bnVsbCwiaXgiOjU2MSwiaXkiOjQ4OSwidHAiOiJmcmVlIiwibnIiOjAsIm51bWJlcl9vbl9pc2xhbmQiOjB9" style="left: 71945px; top: 62793px;" id="free_AjEB6QA="></a><a class="tile found" href="#eyJpZCI6bnVsbCwiaXgiOjU2MSwiaXkiOjQ4OSwidHAiOiJmcmVlIiwibnIiOjEsIm51bWJlcl9vbl9pc2xhbmQiOjF9" style="left: 72016px; top: 62750px;" id="free_AjEB6QE="></a><a class="tile found" href="#eyJpZCI6bnVsbCwiaXgiOjU2MSwiaXkiOjQ4OSwidHAiOiJmcmVlIiwibnIiOjIsIm51bWJlcl9vbl9pc2xhbmQiOjJ9" style="left: 72099px; top: 62753px;" id="free_AjEB6QI="></a><a class="tile found" href="#eyJpZCI6bnVsbCwiaXgiOjU2MSwiaXkiOjQ4OSwidHAiOiJmcmVlIiwibnIiOjMsIm51bWJlcl9vbl9pc2xhbmQiOjN9" style="left: 72221px; top: 62819px;" id="free_AjEB6QM="></a><a class="tile found" href="#eyJpZCI6bnVsbCwiaXgiOjU2MSwiaXkiOjQ4OSwidHAiOiJmcmVlIiwibnIiOjQsIm51bWJlcl9vbl9pc2xhbmQiOjR9" style="left: 72251px; top: 62907px;" id="free_AjEB6QQ="></a><a class="tile found" href="#eyJpZCI6bnVsbCwiaXgiOjU2MSwiaXkiOjQ4OSwidHAiOiJmcmVlIiwibnIiOjUsIm51bWJlcl9vbl9pc2xhbmQiOjV9" style="left: 72138px; top: 62846px;" id="free_AjEB6QU="></a><a class="tile found" href="#eyJpZCI6bnVsbCwiaXgiOjU2MSwiaXkiOjQ4OSwidHAiOiJmcmVlIiwibnIiOjYsIm51bWJlcl9vbl9pc2xhbmQiOjZ9" style="left: 72085px; top: 62800px;" id="free_AjEB6QY="></a><a class="tile ne lvl0 inv_spo_564_487_19" href="#eyJpZCI6IjU2NF80ODctMTkiLCJpeCI6NTY0LCJpeSI6NDg3LCJ0cCI6Imludl9zcG8iLCJwbGF5ZXJfdG93bl9pZCI6MzA2NiwibnVtYmVyX29uX2lzbGFuZCI6MTl9" style="left: 72902px; top: 62506px;" id="inv_spo_564_487-19"></a><a class="tile ne lvl0 inv_spo_564_487_18" href="#eyJpZCI6IjU2NF80ODctMTgiLCJpeCI6NTY0LCJpeSI6NDg3LCJ0cCI6Imludl9zcG8iLCJwbGF5ZXJfdG93bl9pZCI6MzA2NiwibnVtYmVyX29uX2lzbGFuZCI6MTh9" style="left: 72985px; top: 62547px;" id="inv_spo_564_487-18"></a><a class="tile ne lvl0 inv_spo_564_487_17" href="#eyJpZCI6IjU2NF80ODctMTciLCJpeCI6NTY0LCJpeSI6NDg3LCJ0cCI6Imludl9zcG8iLCJwbGF5ZXJfdG93bl9pZCI6MzA2NiwibnVtYmVyX29uX2lzbGFuZCI6MTd9" style="left: 73056px; top: 62592px;" id="inv_spo_564_487-17"></a><a class="tile nw lvl0 inv_spo_564_487_8" href="#eyJpZCI6IjU2NF80ODctOCIsIml4Ijo1NjQsIml5Ijo0ODcsInRwIjoiaW52X3NwbyIsInBsYXllcl90b3duX2lkIjozMDY2LCJudW1iZXJfb25faXNsYW5kIjo4fQ==" style="left: 72342px; top: 62650px;" id="inv_spo_564_487-8"></a><a class="tile nw lvl0 inv_spo_564_487_7" href="#eyJpZCI6IjU2NF80ODctNyIsIml4Ijo1NjQsIml5Ijo0ODcsInRwIjoiaW52X3NwbyIsInBsYXllcl90b3duX2lkIjozMDY2LCJudW1iZXJfb25faXNsYW5kIjo3fQ==" style="left: 72393px; top: 62590px;" id="inv_spo_564_487-7"></a><a class="tile nw lvl0 inv_spo_564_487_6" href="#eyJpZCI6IjU2NF80ODctNiIsIml4Ijo1NjQsIml5Ijo0ODcsInRwIjoiaW52X3NwbyIsInBsYXllcl90b3duX2lkIjozMDY2LCJudW1iZXJfb25faXNsYW5kIjo2fQ==" style="left: 72489px; top: 62543px;" id="inv_spo_564_487-6"></a><a class="tile ne lvl0 inv_spo_564_487_5" href="#eyJpZCI6IjU2NF80ODctNSIsIml4Ijo1NjQsIml5Ijo0ODcsInRwIjoiaW52X3NwbyIsInBsYXllcl90b3duX2lkIjozMDY2LCJudW1iZXJfb25faXNsYW5kIjo1fQ==" style="left: 72579px; top: 62567px;" id="inv_spo_564_487-5"></a><a class="tile sw lvl0 inv_spo_564_487_3" href="#eyJpZCI6IjU2NF80ODctMyIsIml4Ijo1NjQsIml5Ijo0ODcsInRwIjoiaW52X3NwbyIsInBsYXllcl90b3duX2lkIjozMDY2LCJudW1iZXJfb25faXNsYW5kIjozfQ==" style="left: 72787px; top: 62641px;" id="inv_spo_564_487-3"></a><a class="tile sw lvl0 inv_spo_564_487_2" href="#eyJpZCI6IjU2NF80ODctMiIsIml4Ijo1NjQsIml5Ijo0ODcsInRwIjoiaW52X3NwbyIsInBsYXllcl90b3duX2lkIjozMDY2LCJudW1iZXJfb25faXNsYW5kIjoyfQ==" style="left: 72634px; top: 62539px;" id="inv_spo_564_487-2"></a><a class="tile nw lvl0 inv_spo_564_487_1" href="#eyJpZCI6IjU2NF80ODctMSIsIml4Ijo1NjQsIml5Ijo0ODcsInRwIjoiaW52X3NwbyIsInBsYXllcl90b3duX2lkIjozMDY2LCJudW1iZXJfb25faXNsYW5kIjoxfQ==" style="left: 72601px; top: 62480px;" id="inv_spo_564_487-1"></a><a class="tile ne lvl0 inv_spo_564_487_0" href="#eyJpZCI6IjU2NF80ODctMCIsIml4Ijo1NjQsIml5Ijo0ODcsInRwIjoiaW52X3NwbyIsInBsYXllcl90b3duX2lkIjozMDY2LCJudW1iZXJfb25faXNsYW5kIjowfQ==" style="left: 72694px; top: 62467px;" id="inv_spo_564_487-0"></a><a class="tile ne lvl0 inv_spo_555_492_19" href="#eyJpZCI6IjU1NV80OTItMTkiLCJpeCI6NTU1LCJpeSI6NDkyLCJ0cCI6Imludl9zcG8iLCJwbGF5ZXJfdG93bl9pZCI6MzA2NiwibnVtYmVyX29uX2lzbGFuZCI6MTl9" style="left: 71541px; top: 63135px;" id="inv_spo_555_492-19"></a><a class="tile ne lvl0 inv_spo_555_492_18" href="#eyJpZCI6IjU1NV80OTItMTgiLCJpeCI6NTU1LCJpeSI6NDkyLCJ0cCI6Imludl9zcG8iLCJwbGF5ZXJfdG93bl9pZCI6MzA2NiwibnVtYmVyX29uX2lzbGFuZCI6MTh9" style="left: 71601px; top: 63178px;" id="inv_spo_555_492-18"></a><a class="tile se lvl0 inv_spo_555_492_9" href="#eyJpZCI6IjU1NV80OTItOSIsIml4Ijo1NTUsIml5Ijo0OTIsInRwIjoiaW52X3NwbyIsInBsYXllcl90b3duX2lkIjozMDY2LCJudW1iZXJfb25faXNsYW5kIjo5fQ==" style="left: 71485px; top: 63459px;" id="inv_spo_555_492-9"></a><a class="tile sw lvl0 inv_spo_555_492_8" href="#eyJpZCI6IjU1NV80OTItOCIsIml4Ijo1NTUsIml5Ijo0OTIsInRwIjoiaW52X3NwbyIsInBsYXllcl90b3duX2lkIjozMDY2LCJudW1iZXJfb25faXNsYW5kIjo4fQ==" style="left: 71375px; top: 63481px;" id="inv_spo_555_492-8"></a><a class="tile sw lvl0 inv_spo_555_492_7" href="#eyJpZCI6IjU1NV80OTItNyIsIml4Ijo1NTUsIml5Ijo0OTIsInRwIjoiaW52X3NwbyIsInBsYXllcl90b3duX2lkIjozMDY2LCJudW1iZXJfb25faXNsYW5kIjo3fQ==" style="left: 71314px; top: 63448px;" id="inv_spo_555_492-7"></a><a class="tile sw lvl0 inv_spo_555_492_6" href="#eyJpZCI6IjU1NV80OTItNiIsIml4Ijo1NTUsIml5Ijo0OTIsInRwIjoiaW52X3NwbyIsInBsYXllcl90b3duX2lkIjozMDY2LCJudW1iZXJfb25faXNsYW5kIjo2fQ==" style="left: 71241px; top: 63417px;" id="inv_spo_555_492-6"></a><a class="tile sw lvl0 inv_spo_555_492_5" href="#eyJpZCI6IjU1NV80OTItNSIsIml4Ijo1NTUsIml5Ijo0OTIsInRwIjoiaW52X3NwbyIsInBsYXllcl90b3duX2lkIjozMDY2LCJudW1iZXJfb25faXNsYW5kIjo1fQ==" style="left: 71183px; top: 63392px;" id="inv_spo_555_492-5"></a><a class="tile sw lvl0 inv_spo_555_492_4" href="#eyJpZCI6IjU1NV80OTItNCIsIml4Ijo1NTUsIml5Ijo0OTIsInRwIjoiaW52X3NwbyIsInBsYXllcl90b3duX2lkIjozMDY2LCJudW1iZXJfb25faXNsYW5kIjo0fQ==" style="left: 71144px; top: 63337px;" id="inv_spo_555_492-4"></a><a class="tile ne lvl0 inv_spo_555_492_3" href="#eyJpZCI6IjU1NV80OTItMyIsIml4Ijo1NTUsIml5Ijo0OTIsInRwIjoiaW52X3NwbyIsInBsYXllcl90b3duX2lkIjozMDY2LCJudW1iZXJfb25faXNsYW5kIjozfQ==" style="left: 71220px; top: 63286px;" id="inv_spo_555_492-3"></a><a class="tile nw lvl0 inv_spo_555_492_2" href="#eyJpZCI6IjU1NV80OTItMiIsIml4Ijo1NTUsIml5Ijo0OTIsInRwIjoiaW52X3NwbyIsInBsYXllcl90b3duX2lkIjozMDY2LCJudW1iZXJfb25faXNsYW5kIjoyfQ==" style="left: 71388px; top: 63264px;" id="inv_spo_555_492-2"></a><a class="tile sw lvl0 inv_spo_555_492_1" href="#eyJpZCI6IjU1NV80OTItMSIsIml4Ijo1NTUsIml5Ijo0OTIsInRwIjoiaW52X3NwbyIsInBsYXllcl90b3duX2lkIjozMDY2LCJudW1iZXJfb25faXNsYW5kIjoxfQ==" style="left: 71394px; top: 63204px;" id="inv_spo_555_492-1"></a><a class="tile nw lvl0 inv_spo_555_492_0" href="#eyJpZCI6IjU1NV80OTItMCIsIml4Ijo1NTUsIml5Ijo0OTIsInRwIjoiaW52X3NwbyIsInBsYXllcl90b3duX2lkIjozMDY2LCJudW1iZXJfb25faXNsYW5kIjowfQ==" style="left: 71438px; top: 63148px;" id="inv_spo_555_492-0"></a><a class="tile ne lvl0 inv_spo_573_499_19" href="#eyJpZCI6IjU3M180OTktMTkiLCJpeCI6NTczLCJpeSI6NDk5LCJ0cCI6Imludl9zcG8iLCJwbGF5ZXJfdG93bl9pZCI6MzA2NiwibnVtYmVyX29uX2lzbGFuZCI6MTl9" style="left: 73886px; top: 64042px;" id="inv_spo_573_499-19"></a><a class="tile ne lvl0 inv_spo_573_499_18" href="#eyJpZCI6IjU3M180OTktMTgiLCJpeCI6NTczLCJpeSI6NDk5LCJ0cCI6Imludl9zcG8iLCJwbGF5ZXJfdG93bl9pZCI6MzA2NiwibnVtYmVyX29uX2lzbGFuZCI6MTh9" style="left: 73984px; top: 64075px;" id="inv_spo_573_499-18"></a><a class="tile nw lvl0 inv_spo_573_499_17" href="#eyJpZCI6IjU3M180OTktMTciLCJpeCI6NTczLCJpeSI6NDk5LCJ0cCI6Imludl9zcG8iLCJwbGF5ZXJfdG93bl9pZCI6MzA2NiwibnVtYmVyX29uX2lzbGFuZCI6MTd9" style="left: 74010px; top: 64259px;" id="inv_spo_573_499-17"></a><a class="tile nw lvl0 inv_spo_573_499_16" href="#eyJpZCI6IjU3M180OTktMTYiLCJpeCI6NTczLCJpeSI6NDk5LCJ0cCI6Imludl9zcG8iLCJwbGF5ZXJfdG93bl9pZCI6MzA2NiwibnVtYmVyX29uX2lzbGFuZCI6MTZ9" style="left: 74125px; top: 64194px;" id="inv_spo_573_499-16"></a><a class="tile ne lvl0 inv_spo_573_499_15" href="#eyJpZCI6IjU3M180OTktMTUiLCJpeCI6NTczLCJpeSI6NDk5LCJ0cCI6Imludl9zcG8iLCJwbGF5ZXJfdG93bl9pZCI6MzA2NiwibnVtYmVyX29uX2lzbGFuZCI6MTV9" style="left: 74242px; top: 64207px;" id="inv_spo_573_499-15"></a><a class="tile se lvl0 inv_spo_573_499_14" href="#eyJpZCI6IjU3M180OTktMTQiLCJpeCI6NTczLCJpeSI6NDk5LCJ0cCI6Imludl9zcG8iLCJwbGF5ZXJfdG93bl9pZCI6MzA2NiwibnVtYmVyX29uX2lzbGFuZCI6MTR9" style="left: 74226px; top: 64272px;" id="inv_spo_573_499-14"></a><a class="tile se lvl0 inv_spo_573_499_13" href="#eyJpZCI6IjU3M180OTktMTMiLCJpeCI6NTczLCJpeSI6NDk5LCJ0cCI6Imludl9zcG8iLCJwbGF5ZXJfdG93bl9pZCI6MzA2NiwibnVtYmVyX29uX2lzbGFuZCI6MTN9" style="left: 74157px; top: 64297px;" id="inv_spo_573_499-13"></a><a class="tile se lvl0 inv_spo_573_499_12" href="#eyJpZCI6IjU3M180OTktMTIiLCJpeCI6NTczLCJpeSI6NDk5LCJ0cCI6Imludl9zcG8iLCJwbGF5ZXJfdG93bl9pZCI6MzA2NiwibnVtYmVyX29uX2lzbGFuZCI6MTJ9" style="left: 74097px; top: 64329px;" id="inv_spo_573_499-12"></a><a class="tile se lvl0 inv_spo_573_499_11" href="#eyJpZCI6IjU3M180OTktMTEiLCJpeCI6NTczLCJpeSI6NDk5LCJ0cCI6Imludl9zcG8iLCJwbGF5ZXJfdG93bl9pZCI6MzA2NiwibnVtYmVyX29uX2lzbGFuZCI6MTF9" style="left: 73943px; top: 64402px;" id="inv_spo_573_499-11"></a><a class="tile sw lvl0 inv_spo_573_499_10" href="#eyJpZCI6IjU3M180OTktMTAiLCJpeCI6NTczLCJpeSI6NDk5LCJ0cCI6Imludl9zcG8iLCJwbGF5ZXJfdG93bl9pZCI6MzA2NiwibnVtYmVyX29uX2lzbGFuZCI6MTB9" style="left: 73802px; top: 64411px;" id="inv_spo_573_499-10"></a><a class="tile sw lvl0 inv_spo_573_499_9" href="#eyJpZCI6IjU3M180OTktOSIsIml4Ijo1NzMsIml5Ijo0OTksInRwIjoiaW52X3NwbyIsInBsYXllcl90b3duX2lkIjozMDY2LCJudW1iZXJfb25faXNsYW5kIjo5fQ==" style="left: 73669px; top: 64382px;" id="inv_spo_573_499-9"></a><a class="tile sw lvl0 inv_spo_573_499_8" href="#eyJpZCI6IjU3M180OTktOCIsIml4Ijo1NzMsIml5Ijo0OTksInRwIjoiaW52X3NwbyIsInBsYXllcl90b3duX2lkIjozMDY2LCJudW1iZXJfb25faXNsYW5kIjo4fQ==" style="left: 73618px; top: 64362px;" id="inv_spo_573_499-8"></a><a class="tile sw lvl0 inv_spo_573_499_7" href="#eyJpZCI6IjU3M180OTktNyIsIml4Ijo1NzMsIml5Ijo0OTksInRwIjoiaW52X3NwbyIsInBsYXllcl90b3duX2lkIjozMDY2LCJudW1iZXJfb25faXNsYW5kIjo3fQ==" style="left: 73548px; top: 64324px;" id="inv_spo_573_499-7"></a><a class="tile sw lvl0 inv_spo_573_499_6" href="#eyJpZCI6IjU3M180OTktNiIsIml4Ijo1NzMsIml5Ijo0OTksInRwIjoiaW52X3NwbyIsInBsYXllcl90b3duX2lkIjozMDY2LCJudW1iZXJfb25faXNsYW5kIjo2fQ==" style="left: 73512px; top: 64276px;" id="inv_spo_573_499-6"></a><a class="tile sw lvl0 inv_spo_573_499_5" href="#eyJpZCI6IjU3M180OTktNSIsIml4Ijo1NzMsIml5Ijo0OTksInRwIjoiaW52X3NwbyIsInBsYXllcl90b3duX2lkIjozMDY2LCJudW1iZXJfb25faXNsYW5kIjo1fQ==" style="left: 73497px; top: 64225px;" id="inv_spo_573_499-5"></a><a class="tile nw lvl0 inv_spo_573_499_4" href="#eyJpZCI6IjU3M180OTktNCIsIml4Ijo1NzMsIml5Ijo0OTksInRwIjoiaW52X3NwbyIsInBsYXllcl90b3duX2lkIjozMDY2LCJudW1iZXJfb25faXNsYW5kIjo0fQ==" style="left: 73501px; top: 64183px;" id="inv_spo_573_499-4"></a><a class="tile nw lvl0 inv_spo_573_499_3" href="#eyJpZCI6IjU3M180OTktMyIsIml4Ijo1NzMsIml5Ijo0OTksInRwIjoiaW52X3NwbyIsInBsYXllcl90b3duX2lkIjozMDY2LCJudW1iZXJfb25faXNsYW5kIjozfQ==" style="left: 73519px; top: 64149px;" id="inv_spo_573_499-3"></a><a class="tile nw lvl0 inv_spo_573_499_2" href="#eyJpZCI6IjU3M180OTktMiIsIml4Ijo1NzMsIml5Ijo0OTksInRwIjoiaW52X3NwbyIsInBsYXllcl90b3duX2lkIjozMDY2LCJudW1iZXJfb25faXNsYW5kIjoyfQ==" style="left: 73601px; top: 64100px;" id="inv_spo_573_499-2"></a><a class="tile nw lvl0 inv_spo_573_499_1" href="#eyJpZCI6IjU3M180OTktMSIsIml4Ijo1NzMsIml5Ijo0OTksInRwIjoiaW52X3NwbyIsInBsYXllcl90b3duX2lkIjozMDY2LCJudW1iZXJfb25faXNsYW5kIjoxfQ==" style="left: 73710px; top: 64060px;" id="inv_spo_573_499-1"></a><a class="tile nw lvl0 inv_spo_573_499_0" href="#eyJpZCI6IjU3M180OTktMCIsIml4Ijo1NzMsIml5Ijo0OTksInRwIjoiaW52X3NwbyIsInBsYXllcl90b3duX2lkIjozMDY2LCJudW1iZXJfb25faXNsYW5kIjowfQ==" style="left: 73797px; top: 64045px;" id="inv_spo_573_499-0"></a><a class="tile ne lvl0 inv_spo_567_497_6" href="#eyJpZCI6IjU2N180OTctNiIsIml4Ijo1NjcsIml5Ijo0OTcsInRwIjoiaW52X3NwbyIsInBsYXllcl90b3duX2lkIjozMDY2LCJudW1iZXJfb25faXNsYW5kIjo2fQ==" style="left: 73363px; top: 64011px;" id="inv_spo_567_497-6"></a><a class="tile ne lvl0 inv_spo_567_497_5" href="#eyJpZCI6IjU2N180OTctNSIsIml4Ijo1NjcsIml5Ijo0OTcsInRwIjoiaW52X3NwbyIsInBsYXllcl90b3duX2lkIjozMDY2LCJudW1iZXJfb25faXNsYW5kIjo1fQ==" style="left: 73419px; top: 64045px;" id="inv_spo_567_497-5"></a><a class="tile se lvl0 inv_spo_567_497_4" href="#eyJpZCI6IjU2N180OTctNCIsIml4Ijo1NjcsIml5Ijo0OTcsInRwIjoiaW52X3NwbyIsInBsYXllcl90b3duX2lkIjozMDY2LCJudW1iZXJfb25faXNsYW5kIjo0fQ==" style="left: 73417px; top: 64127px;" id="inv_spo_567_497-4"></a><a class="tile sw lvl0 inv_spo_567_497_3" href="#eyJpZCI6IjU2N180OTctMyIsIml4Ijo1NjcsIml5Ijo0OTcsInRwIjoiaW52X3NwbyIsInBsYXllcl90b3duX2lkIjozMDY2LCJudW1iZXJfb25faXNsYW5kIjozfQ==" style="left: 73356px; top: 64156px;" id="inv_spo_567_497-3"></a></div>
			<div id="map_wonders" style="position:absolute; top:0px; left:0px; z-index:4;"><a id="wonder_555_492" class="tile wbg empty" title="Local de construÃ§Ã£o para uma Maravilha do Mundo" href="#eyJpeCI6NTU1LCJpeSI6NDkyLCJ0cCI6IndvbmRlciJ9" style="left: 71798px; top: 63308px;"></a><a id="wonder_555_492" class="tile wbg empty" title="Local de construÃ§Ã£o para uma Maravilha do Mundo" href="#eyJpeCI6NTU1LCJpeSI6NDkyLCJ0cCI6IndvbmRlciJ9" style="left: 71798px; top: 63308px;"></a><a id="wonder_564_492" class="tile wbg empty" title="Local de construÃ§Ã£o para uma Maravilha do Mundo" href="#eyJpeCI6NTY0LCJpeSI6NDkyLCJ0cCI6IndvbmRlciJ9" style="left: 72722px; top: 63329px;"></a><a id="wonder_564_487" class="tile wbg empty" title="Local de construÃ§Ã£o para uma Maravilha do Mundo" href="#eyJpeCI6NTY0LCJpeSI6NDg3LCJ0cCI6IndvbmRlciJ9" style="left: 72892px; top: 62706px;"></a><a id="wonder_567_497" class="tile wbg empty" title="Local de construÃ§Ã£o para uma Maravilha do Mundo" href="#eyJpeCI6NTY3LCJpeSI6NDk3LCJ0cCI6IndvbmRlciJ9" style="left: 73227px; top: 64020px;"></a></div>
			<div id="map_attack_spots" style="position:absolute; top:0; left:0; z-index:5;"></div>
			<div id="map_night" style="display: none;"></div>
		</div></div>

	<div id="minimap_canvas">
		<div id="minimap">
			<div id="minimap_islands_layer"></div>
		</div>
	</div>
</div>

<div id="compass" class="compass_circle" style="display:none;">
	<div class="compass_point_wrapper">
		<div id="compass_point" class="compass_point"></div>
	</div>
</div></div></div>
    <!-- City Overview -->
    <div class="ui_city_overview" style="display: block;">
        <div class="viewport js-city-overview-viewport">
            <div class="town_background js-city-overview-dragdrop" style="transform: translate(-287px, -253px);">
                <div class="viewport js-city-overview-buildings-container">
	<div class="city_overview_building main_3 " data-id="main"></div>

	<div class="city_overview_building hide " data-id="hide"></div>

	<div class="city_overview_building place_1 " data-id="place"></div>

	<div class="city_overview_building lumber_3 " data-id="lumber"></div>

	<div class="city_overview_building stoner_3 " data-id="stoner"></div>

	<div class="city_overview_building ironer_3 " data-id="ironer"></div>

	<div class="city_overview_building market_3 " data-id="market"></div>

	<div class="city_overview_building docks_3 " data-id="docks"></div>

	<div class="city_overview_building barracks_1 " data-id="barracks"></div>

	<div class="city_overview_building storage_4 " data-id="storage"></div>

	<div class="city_overview_building farm_4 " data-id="farm"></div>

	<div class="city_overview_building academy_4 " data-id="academy"></div>

	<div class="city_overview_building temple_4 " data-id="temple"></div>

	<div class="city_overview_building thermal_1 " data-id="thermal"></div>

	<div class="city_overview_building statue_poseidon_1 " data-id="statue"></div>

	<div class="city_overview_building wall_0 half_transparent" data-id="wall"></div>

	<div class="city_overview_building field_2 " data-id="field"></div>

	<div class="city_overview_building field_3 " data-id="field"></div>

	<div class="city_overview_building boat1 " data-id="boat1"></div>

	<div class="city_overview_building boat2 " data-id="boat2"></div>

	<div class="city_overview_building boat3 " data-id="boat3"></div>

	<div class="city_overview_building boat5 " data-id="boat5"></div>

	<div class="city_overview_building boat6 " data-id="boat6"></div>


<div class="city_overview_building special_building_spot1" data-id="special1"></div>
<div class="city_overview_building special_building_spot2" data-id="special2"></div>


	<div class="city_overview_building_animation lumber"></div>

	<div class="city_overview_building_animation stoner_3"></div>

	<div class="city_overview_building_animation ironer_3"></div>

	<div class="city_overview_building_animation farm"></div>

	<div class="city_overview_building_animation mill"></div>


<img id="index_map_image" class="empty" src="%C2%BA-_files/transparent.png" usemap="#map_town">
<map name="map_town" id="map_town">
	
			<area shape="poly" id="building_main_area_main" coords="1124,457,1106,475,1060,499,1022,515,1024,553,1089,580,1171,554,1211,516,1199,480,1146,458" href="#" alt="Senado" data-building="main" data-level="25">
		
	
			<area shape="poly" id="building_main_area_hide" coords="1068,666,1068,693,1092,693,1092,666" href="#" alt="Gruta" data-building="hide" data-level="10">
		
	
			<area shape="poly" id="building_main_area_place" coords="1143,562,1121,600,1143,628,1201,627,1186,563" href="#" alt="Ãgora" data-building="place" data-level="1">
		
	
			<area shape="poly" id="building_main_area_lumber" coords="1105,714,1108,766,1156,778,1172,746,1168,714" href="#" alt="SerraÃ§Ã£o" data-building="lumber" data-level="40">
		
	
			<area shape="poly" id="building_main_area_stoner" coords="696,531,698,561,720,562,722,596,723,648,776,671,826,663,851,662,904,637,904,609,845,594,791,582,769,532" href="#" alt="Pedreira" data-building="stoner" data-level="40">
		
	
			<area shape="poly" id="building_main_area_ironer" coords="760,363,736,377,738,406,781,435,832,421,828,406,797,374" href="#" alt="Mina de prata" data-building="ironer" data-level="40">
		
	
			<area shape="poly" id="building_main_area_market" coords="1230,532,1200,559,1192,588,1227,619,1286,620,1307,606,1303,564,1270,532" href="#" alt="Mercado" data-building="market" data-level="30">
		
	
			<area shape="poly" id="building_main_area_docks" coords="942,661,887,679,881,713,861,726,863,749,929,775,981,773,1055,750,1067,695,1005,663" href="#" alt="Porto" data-building="docks" data-level="30">
		
	
			<area shape="poly" id="building_main_area_barracks" coords="875,468,863,488,810,524,816,546,879,570,913,569,971,533,968,506,908,480,904,466" href="#" alt="Quartel" data-building="barracks" data-level="1">
		
	
			<area shape="poly" id="building_main_area_storage" coords="996,567,969,588,972,618,1050,649,1090,632,1084,589,1046,573,1031,571" href="#" alt="ArmazÃ©m" data-building="storage" data-level="35">
		
	
			<area shape="poly" id="building_main_area_farm" coords="1192,433,1193,480,1285,532,1317,532,1396,508,1397,490,1330,464,1331,450,1277,433" href="#" alt="Quinta" data-building="farm" data-level="45">
		
	
			<area shape="poly" id="building_main_area_academy" coords="1042,367,1003,389,992,416,989,451,1051,476,1068,475,1123,445,1116,416,1102,389,1062,368" href="#" alt="Academia" data-building="academy" data-level="36">
		
	
			<area shape="poly" id="building_main_area_temple" coords="719,412,703,439,701,482,731,502,770,495,787,484,782,463,766,432,761,411" href="#" alt="Templo" data-building="temple" data-level="30">
		
	
			<area shape="poly" id="building_main_area_thermal" coords="928,343,860,381,861,415,909,436,954,435,1018,398,1018,365,954,340" href="#" alt="Termas" data-building="thermal" data-level="1">
		
	
			<area shape="poly" id="building_main_area_statue" coords="1174,625,1172,654,1156,683,1183,699,1221,695,1230,677,1202,664,1198,625" href="#" alt="EstÃ¡tua divina" data-building="statue" data-level="1">
		
	
	
	
	
	
	
	
	
	
</map>
</div>
                <div class="viewport js-city-construction-overlay-viewport"><div class="viewport"></div></div>
                <div class="viewport js-city-env-animations-viewport"></div>
                <div class="viewport layout_game_events_items js-city-game-events-items-viewport">
                    <!-- Environment animations go here  -->
                </div>
                <div class="blocking_layer"></div>
            </div>
        </div>
    </div>
    <div class="skip_tutorial">
        <div class="skip_tutorial_wrapper">
            <div class="skip_tutorial_wrapper_left"></div>
            <div class="skip_tutorial_wrapper_middle">
                <div class="skip_tutorial_button button_new double_border"></div>
            </div>
            <div class="skip_tutorial_wrapper_right"></div>
        </div>
    </div>
    <div class="ui_construction_queue">
        <div class="js-construction-queue">
            <div class="construction_queue_frame">
                <div class="construction_queue_sprite queue_BG_slice-left"></div>
                <div class="queue_BG_slice-middle"></div>
                <div class="construction_queue_sprite queue_BG_slice-right"></div>
            </div>

            <div class="construction_queue_build_button">
                <div class="construction_queue_sprite queue_button-idle queue_button btn_construction_mode js-tutorial-btn-construction-mode"></div>
            </div>

            <div class="construction_queue_order_container">
                <!-- Here goes the building queue -->
            </div>
        </div>
    </div>

    <!-- Minimized windows -->
    <div id="minimized_windows_area" class="instant_buy">
        <div class="minimized_windows_area" style="display: block;">
            <div class="button_scroll_left_box">
                <div class="button_scroll_left"></div>
            </div>
            <div class="button_scroll_right_box">
                <div class="button_scroll_right"></div>
            </div>
            <div class="windows_box">
                <div class="windows" style="left: 0px;">
	<div class="box" cid="c1754">
		<div class="box-left"></div>
		<div class="box-right"></div>
		<div class="box-middle">
			<div class="caption">AtenÃ§Ã£o, estÃ¡ a ser atacado!</div>
			
			<div class="btn_wnd close" cid="c1754"></div>
			
			<div class="btn_wnd maximize" cid="c1754"></div>
		</div>
	</div>

	<div class="box" cid="1003">
		<div class="box-left"></div>
		<div class="box-right"></div>
		<div class="box-middle">
			<div class="caption">Mensagens</div>
			
			<div class="btn_wnd close" cid="1003"></div>
			
			<div class="btn_wnd maximize" cid="1003"></div>
		</div>
	</div>

	<div class="box" cid="1001">
		<div class="box-left"></div>
		<div class="box-right"></div>
		<div class="box-middle">
			<div class="caption">VisÃµes gerais</div>
			
			<div class="btn_wnd close" cid="1001"></div>
			
			<div class="btn_wnd maximize" cid="1001"></div>
		</div>
	</div>

</div>
            </div>
        </div>
    </div>

    <!-- Close all windows windows -->
    <div class="btn_close_all_windows" style="display: block;">
        <div class="left"></div>
        <div class="middle">
            <div class="box">
                <div class="box-left"></div>
                <div class="box-middle">
                    <div class="close_all"></div>
                </div>
                <div class="box-right"></div>
            </div>
        </div>
        <div class="right"></div>
    </div>
    <div class="happening_large_icon_container">
    
	<div id="happening_large_icon">
		<div class="glow"></div>
		<div class="notification"></div>
		<div class="amount"></div>
	</div>
	<div class="timer_box"><div class="middle js-timer"></div></div>
</div>
    <div id="notification_area"><div class="notification building_finished" style="top: 0px; opacity: 1;">
    <div class="description" style="display: none;">
        <a class="notify_subjectlink" href="#"><span id="townid_11759" class="notification_building_image image_farm"></span><span>ExpansÃ£o concluÃ­da: Quinta em 54 142</span><span>Novo nÃ­vel: 36</span></a><span class="small notification_date">23.03.|8:31:38</span>
    </div>
    <a class="close"></a>
    <div class="icon"></div>
</div><div class="notification building_finished" style="top: 0px; opacity: 1;">
    <div class="description" style="display: none;">
        <a class="notify_subjectlink" href="#"><span id="townid_1817" class="notification_building_image image_docks"></span><span>ExpansÃ£o concluÃ­da: Porto em 54 121</span><span>Novo nÃ­vel: 11</span></a><span class="small notification_date">23.03.|8:24:36</span>
    </div>
    <a class="close"></a>
    <div class="icon"></div>
</div>
        <a id="delete_all_notifications" href="#"></a>
        <div id="hidden_notification_count" style="display: block;">35</div>
    </div>

    <div id="icons_container_left">
        <div id="questlog">
	<div class="questlog_icon">
		<div class="glow"></div>
		<div class="glow_finished"></div>
		<div class="exclamation_point"></div>
		<div class="check_mark"></div>
		<div class="counter">
			<div class="counter_number"></div>
		</div>
		<div class="caption js-caption">
			<div class="text">Abrir Registo de missÃµes</div>
		</div>
	</div>
</div>
        <div id="quest_progress_container"></div>
        <div id="daily_login_icon" style="display: none;">
		<div class="left"></div>
		<div class="right"></div>
		<div class="caption js-caption"><div class="effect js-effect"></div></div>
</div>
        <div id="effects_icon" style="display: none;"></div>
    </div>

    
    
    
    <div id="maintenance_notification" style="display: none;"></div>

<svg width="0%" height="0%"><filter id="GrayScale"><feColorMatrix type="matrix" values="0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"></feColorMatrix></filter><filter id="Sepia"><feColorMatrix type="matrix" values="0.343 0.669 0.119 0 0 0.249 0.626 0.130 0 0 0.172 0.334 0.111 0 0 0.000 0.000 0.000 1 0"></feColorMatrix></filter><filter id="Saturation"><feColorMatrix type="saturate" values="0.2"></feColorMatrix></filter><filter id="Saturation1"><feColorMatrix type="saturate" values="1"></feColorMatrix></filter><filter id="Saturation2"><feColorMatrix type="saturate" values="2"></feColorMatrix></filter><filter id="Hue1"><feColorMatrix type="hueRotate" values="65"></feColorMatrix></filter><filter id="Hue2"><feColorMatrix type="hueRotate" values="150"></feColorMatrix></filter><filter id="Hue3"><feColorMatrix type="hueRotate" values="-65"></feColorMatrix></filter><filter id="Brightness15"><feComponentTransfer><feFuncR type="linear" slope="1.5"></feFuncR><feFuncG type="linear" slope="1.5"></feFuncG><feFuncB type="linear" slope="1.5"></feFuncB></feComponentTransfer></filter><filter id="Brightness12"><feComponentTransfer><feFuncR type="linear" slope="1.2"></feFuncR><feFuncG type="linear" slope="1.2"></feFuncG><feFuncB type="linear" slope="1.2"></feFuncB></feComponentTransfer></filter><filter id="Brightness11"><feComponentTransfer><feFuncR type="linear" slope="1.1"></feFuncR><feFuncG type="linear" slope="1.1"></feFuncG><feFuncB type="linear" slope="1.1"></feFuncB></feComponentTransfer></filter><filter id="Brightness10"><feComponentTransfer><feFuncR type="linear" slope="1.0"></feFuncR><feFuncG type="linear" slope="1.0"></feFuncG><feFuncB type="linear" slope="1.0"></feFuncB></feComponentTransfer></filter><filter id="Brightness07"><feComponentTransfer><feFuncR type="linear" slope="0.7"></feFuncR><feFuncG type="linear" slope="0.7"></feFuncG><feFuncB type="linear" slope="0.7"></feFuncB></feComponentTransfer></filter></svg><div id="ajax_loader" style="top: 333.5px; left: 683px; z-index: 10000; visibility: hidden;"><div id="ajax_loader_anim"></div></div></div>
<div id="popup_div_curtain">
	<table class="popup" id="popup_div" style="display: none; left: 524px; top: 89px; opacity: 0; position: absolute; z-index: 6001; width: auto; max-width: 400px;" cellspacing="0" cellpadding="0">
		<tbody><tr class="popup_top">
			<td class="popup_top_left"></td>
			<td class="popup_top_middle"></td>
			<td class="popup_top_right"></td>
		</tr>
		<tr>
			<td class="popup_middle_left">&nbsp;</td>
			<td class="popup_middle_middle" id="popup_content" style="width: auto;"><div>Mensagens</div></td>
			<td class="popup_middle_right">&nbsp;</td>
		</tr>
		<tr class="popup_bottom">
			<td class="popup_bottom_left"></td>
			<td class="popup_bottom_middle"></td>
			<td class="popup_bottom_right"></td>
		</tr>
 	</tbody></table>
</div>
<div id="bbcode_popups">
    
    <div class="bb_sizes">
        
			<div class="bbcode_box middle_center">
					<div class="bbcode_box top_left"></div>
					<div class="bbcode_box top_right"></div>
					<div class="bbcode_box top_center"></div>
					<div class="bbcode_box bottom_center"></div>
					<div class="bbcode_box bottom_right"></div>
					<div class="bbcode_box bottom_left"></div>
					<div class="bbcode_box middle_left"></div>
					<div class="bbcode_box middle_right"></div>
					<div class="bbcode_box content clearfix">        <ul>
            <li><a href="#" id="s6">Â» Muito pequeno</a></li>
            <li><a href="#" id="s7">Â» Pequeno</a></li>
            <li><a href="#" id="s9">Â» Normal</a></li>
            <li><a href="#" id="s12">Â» Grande</a></li>
            <li><a href="#" id="s20">Â» Enorme</a></li>
        </ul>
        </div></div>    </div>

    <script type="text/template" id="tpl_color_selector">
    <div class="color_picker_colors">
        <div class="color_picker_c0" style="background:#f00"></div><div class="color_picker_c1" style="background:#ff0"></div><div class="color_picker_c2" style="background:#0f0"></div><div class="color_picker_c3" style="background:#0ff"></div><div class="color_picker_c4" style="background:#00f"></div><div class="color_picker_c5" style="background:#f0f"></div>
    </div>
    <div class="color_picker_tones">
        <div class="color_picker_00"></div><div class="color_picker_01"></div><div class="color_picker_02"></div><div class="color_picker_03"></div><div class="color_picker_04"></div><div class="color_picker_05"></div><br />
        <div class="color_picker_10"></div><div class="color_picker_11"></div><div class="color_picker_12"></div><div class="color_picker_13"></div><div class="color_picker_14"></div><div class="color_picker_15"></div><br />
        <div class="color_picker_20"></div><div class="color_picker_21"></div><div class="color_picker_22"></div><div class="color_picker_23"></div><div class="color_picker_24"></div><div class="color_picker_25"></div><br />
        <div class="color_picker_30"></div><div class="color_picker_31"></div><div class="color_picker_32"></div><div class="color_picker_33"></div><div class="color_picker_34"></div><div class="color_picker_35"></div><br />
        <div class="color_picker_40"></div><div class="color_picker_41"></div><div class="color_picker_42"></div><div class="color_picker_43"></div><div class="color_picker_44"></div><div class="color_picker_45"></div><br />
        <div class="color_picker_50"></div><div class="color_picker_51"></div><div class="color_picker_52"></div><div class="color_picker_53"></div><div class="color_picker_54"></div><div class="color_picker_55"></div><br />
    </div>
</script>


<script type="text/template" id="tpl_colorpicker">
    <div class="color_picker_grepo">
        <div class="color_selector"></div>
        <div class="hash_symbol">&#35</div>
        <div class="color_input textbox"></div>
        <div class="color_default button_new"><%= l10n.default_btn %></div>
        <div class="color_confirm button_new icon_only"></div>
    </div>
    <div class="color_preview">
        <div class="preview_text"><%= l10n.preview_text %></div>
        <% if (type === 'image') { %>
        <div class="color_picker_flag_big">
            <div class="color_picker_flag_big_image"></div>
            <% } else { %>
            <div class="text_preview_box">
                <div class="game_border">
                    <div class="game_border_top"></div>
                    <div class="game_border_bottom"></div>
                    <div class="game_border_left"></div>
                    <div class="game_border_right"></div>
                    <div class="game_border_corner corner1"></div>
                    <div class="game_border_corner corner2"></div>
                    <div class="game_border_corner corner3"></div>
                    <div class="game_border_corner corner4"></div>
                    <div class="example_text"></div>
                </div>
                <% } %>
            </div>
</script>

    <div class="bb_font_chooser bb_chooser">
        
			<div class="bbcode_box middle_center">
					<div class="bbcode_box top_left"></div>
					<div class="bbcode_box top_right"></div>
					<div class="bbcode_box top_center"></div>
					<div class="bbcode_box bottom_center"></div>
					<div class="bbcode_box bottom_right"></div>
					<div class="bbcode_box bottom_left"></div>
					<div class="bbcode_box middle_left"></div>
					<div class="bbcode_box middle_right"></div>
					<div class="bbcode_box content clearfix">        <ul>
            <li><a href="#serif" class="serif">Serif</a></li>
            <li><a href="#sansserif" class="sansserif">Sans-Serif</a></li>
            <li><a href="#monospace" class="monospace">Monospace</a></li>
        </ul>
        </div></div>    </div>

    <div class="bb_player_chooser bb_chooser">
        
			<div class="bbcode_box middle_center">
					<div class="bbcode_box top_left"></div>
					<div class="bbcode_box top_right"></div>
					<div class="bbcode_box top_center"></div>
					<div class="bbcode_box bottom_center"></div>
					<div class="bbcode_box bottom_right"></div>
					<div class="bbcode_box bottom_left"></div>
					<div class="bbcode_box middle_left"></div>
					<div class="bbcode_box middle_right"></div>
					<div class="bbcode_box content clearfix">        <label for="bb_player_chooser_player_input">Nome dos jogadores</label>
        <input type="text" class="bb_player_chooser_player_input">
        </div></div>    </div>

    <div class="bb_ally_chooser bb_chooser">
        
			<div class="bbcode_box middle_center">
					<div class="bbcode_box top_left"></div>
					<div class="bbcode_box top_right"></div>
					<div class="bbcode_box top_center"></div>
					<div class="bbcode_box bottom_center"></div>
					<div class="bbcode_box bottom_right"></div>
					<div class="bbcode_box bottom_left"></div>
					<div class="bbcode_box middle_left"></div>
					<div class="bbcode_box middle_right"></div>
					<div class="bbcode_box content clearfix">        <label for="bb_ally_chooser_ally_input">Nome da alianÃ§a</label>
        <input type="text" class="bb_ally_chooser_ally_input">
        </div></div>    </div>

    <div class="bb_town_chooser bb_chooser">
        
			<div class="bbcode_box middle_center">
					<div class="bbcode_box top_left"></div>
					<div class="bbcode_box top_right"></div>
					<div class="bbcode_box top_center"></div>
					<div class="bbcode_box bottom_center"></div>
					<div class="bbcode_box bottom_right"></div>
					<div class="bbcode_box bottom_left"></div>
					<div class="bbcode_box middle_left"></div>
					<div class="bbcode_box middle_right"></div>
					<div class="bbcode_box content clearfix">        <label for="bb_town_chooser_town_input">Nome da cidade</label>
        <input type="text" class="bb_town_chooser_town_input">
        </div></div>    </div>

    
    <div class="bb_report_chooser bb_chooser">
        
			<div class="bbcode_box middle_center">
					<div class="bbcode_box top_left"></div>
					<div class="bbcode_box top_right"></div>
					<div class="bbcode_box top_center"></div>
					<div class="bbcode_box bottom_center"></div>
					<div class="bbcode_box bottom_right"></div>
					<div class="bbcode_box bottom_left"></div>
					<div class="bbcode_box middle_left"></div>
					<div class="bbcode_box middle_right"></div>
					<div class="bbcode_box content clearfix">        <label for="bb_report_chooser_report_input">TÃ­tulo do relatÃ³rio publicado</label>
        <input type="text" class="bb_report_chooser_report_input">
        </div></div>    </div>

    <div class="bb_award_chooser bb_chooser">
        
			<div class="bbcode_box middle_center">
					<div class="bbcode_box top_left"></div>
					<div class="bbcode_box top_right"></div>
					<div class="bbcode_box top_center"></div>
					<div class="bbcode_box bottom_center"></div>
					<div class="bbcode_box bottom_right"></div>
					<div class="bbcode_box bottom_left"></div>
					<div class="bbcode_box middle_left"></div>
					<div class="bbcode_box middle_right"></div>
					<div class="bbcode_box content clearfix">        <select name="type" class="bb_award_chooser_award_type">
            <option value="" selected="selected">- selecione -</option>
            <option value="all">Todas as medalhas</option>
            <option value="world">Todas as medalhas de um mundo</option>
            <option value="award">Uma medalha especÃ­fica</option>
        </select>
        <select name="world" class="bb_award_chooser_award_world"></select>
        <select name="award" class="bb_award_chooser_award_award"></select>
        </div></div>    </div>

    <div class="bb_table_popup">
        
			<div class="bbcode_box middle_center">
					<div class="bbcode_box top_left"></div>
					<div class="bbcode_box top_right"></div>
					<div class="bbcode_box top_center"></div>
					<div class="bbcode_box bottom_center"></div>
					<div class="bbcode_box bottom_right"></div>
					<div class="bbcode_box bottom_left"></div>
					<div class="bbcode_box middle_left"></div>
					<div class="bbcode_box middle_right"></div>
					<div class="bbcode_box content clearfix">        <table class="bb_table_fields">
            <tbody><tr>
                <td>
                    <table>
                        <tbody><tr>
                            <td>
                                <label for="bb_table_rows">Linhas</label>
                            </td>
                            <td>
                                <input type="text" class="bb_table_rows" value="2">
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <label for="bb_table_columns">Colunas</label>
                            </td>
                            <td>
                                <input type="text" class="bb_table_columns" value="2">
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <label for="bb_table_header">CabeÃ§alho</label>
                            </td>
                            <td>
                                <input type="checkbox" class="bb_table_header">
                            </td>
                        </tr>
                    </tbody></table>
                </td>
                <td class="bb_table_preview"></td>
            </tr>

            <tr>
                <td>
                </td>
                <td>
                    <a class="confirm" href="#confirm"></a>
                    <a class="cancel" href="#cancel"></a>
                </td>
            </tr>
        </tbody></table>
        </div></div>    </div>
</div>


<img id="version" src="%C2%BA-_files/version_img.png" style="display:none" title="|">


<!-- this div will be used for event tracking code -->
<div id="event_tracking_code"></div>

<div id="reward_animations_layer"></div>

<!-- adding new lines between left, middle, and right divs will break the layout because they rely on inline-block styles. -->
<div id="human_message">
    <div class="left"></div><div class="middle">
        <div class="icon"></div>
        <div class="inner">
            <div class="headline"></div>
            <div class="text"></div>
        </div>
    </div><div class="right"></div>
</div>

<!-- ig_conv_last_site cookie -->
<script type="text/javascript">
    try {
        var a = document.location, b = a.hostname.substring(a.host.indexOf(".") + 1), c = a.protocol + "//" + a.host + a.pathname, d = new Date;
        d.setTime(d.getTime() + 31536E6);
        document.cookie = "ig_conv_last_site=" + c + "; domain=." + b + "; path=/; expires=" + d.toUTCString()
    } catch (e) {
    }
    ;
</script>



<script type="text/javascript" id="diotools">function DIO_GAME(version, gm, DATA, time_a) {
    var MutationObserver = MutationObserver || window.MutationObserver,

        WID, MID, AID, PID, LID, Points, pName,

        dio_sprite = "https://www.tuto-de-david1327.com/medias/images/dio-sprite-5.png"; // http://abload.de/img/dio_spritejmqxp.png, -> Forbidden!?
    /*dio_sprite = "https://www.tuto-de-david1327.com/medias/images/d9xuhtcctx5fdi8i.2.png"; // http://abload.de/img/dio_spritejmqxp.png, -> Forbidden!?*/

    if (location.pathname.indexOf("game") >= 0) {
        DATA = JSON.parse(DATA.replace(/##/g, "'"));

        WID = Game.world_id;
        MID = Game.market_id;
        AID = Game.alliance_id;
        PID = Game.player_id;
        LID = Game.locale_lang.split("_")[0]; // LID ="es";
        Points = Game.player_points;
        pName = Game.player_name;

        // World with Artemis ??
        Game.hasArtemis = true; //Game.constants.gods.length == 6;
    }
    var david1327 = (Game.player_name == "david1327")

    $.prototype.reverseList = [].reverse;

    // Implement old jQuery method (version < 1.9)
    $.fn.toggleClick = function () {
        var methods = arguments;    // Store the passed arguments for future reference
        var count = methods.length; // Cache the number of methods

        // Use return this to maintain jQuery chainability
        // For each element you bind to
        return this.each(function (i, item) {
            // Create a local counter for that element
            var index = 0;

            // Bind a click handler to that element
            $(item).on('click', function () {
                // That when called will apply the 'index'th method to that element
                // the index % count means that we constrain our iterator between 0
                // and (count-1)
                return methods[index++ % count].apply(this, arguments);
            });
        });
    };

    function saveValue(name, val) {
        if (gm) {
            saveValueGM(name, val);
        } else {
            localStorage.setItem(name, val);
        }
    }

    function deleteValue(name) {
        if (gm) {
            deleteValueGM(name);
        } else {
            localStorage.removeItem(name);
        }
    }

    /*******************************************************************************************************************************
     * Graphic filters
     *******************************************************************************************************************************/
    if (location.pathname.indexOf("game") >= 0) {
        $('<svg width="0%" height="0%">' +
          // GREYSCALE
          '<filter id="GrayScale">' +
          '<feColorMatrix type="matrix" values="0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0">' +
          '</filter>' +
          // SEPIA
          '<filter id="Sepia">' +
          '<feColorMatrix type="matrix" values="0.343 0.669 0.119 0 0 0.249 0.626 0.130 0 0 0.172 0.334 0.111 0 0 0.000 0.000 0.000 1 0">' +
          '</filter>' +
          // SATURATION
          '<filter id="Saturation"><feColorMatrix type="saturate" values="0.2"></filter>' +
          '<filter id="Saturation1"><feColorMatrix type="saturate" values="1"></filter>' +
          '<filter id="Saturation2"><feColorMatrix type="saturate" values="2"></filter>' +
          // HUE
          '<filter id="Hue1"><feColorMatrix type="hueRotate" values= "65"></filter>' +
          '<filter id="Hue2"><feColorMatrix type="hueRotate" values="150"></filter>' +
          '<filter id="Hue3"><feColorMatrix type="hueRotate" values="-65"></filter>' +
          // BRIGHTNESS
          '<filter id="Brightness15">' +
          '<feComponentTransfer><feFuncR type="linear" slope="1.5"/><feFuncG type="linear" slope="1.5"/><feFuncB type="linear" slope="1.5"/></feComponentTransfer>' +
          '</filter>' +
          '<filter id="Brightness12">' +
          '<feComponentTransfer><feFuncR type="linear" slope="1.2"/><feFuncG type="linear" slope="1.2"/><feFuncB type="linear" slope="1.2"/></feComponentTransfer>' +
          '</filter>' +
          '<filter id="Brightness11">' +
          '<feComponentTransfer><feFuncR type="linear" slope="1.1"/><feFuncG type="linear" slope="1.1"/><feFuncB type="linear" slope="1.1"/></feComponentTransfer>' +
          '</filter>' +
          '<filter id="Brightness10">' +
          '<feComponentTransfer><feFuncR type="linear" slope="1.0"/><feFuncG type="linear" slope="1.0"/><feFuncB type="linear" slope="1.0"/></feComponentTransfer>' +
          '</filter>' +
          '<filter id="Brightness07">' +
          '<feComponentTransfer><feFuncR type="linear" slope="0.7"/><feFuncG type="linear" slope="0.7"/><feFuncB type="linear" slope="0.7"/></feComponentTransfer>' +
          '</filter>' +
          '</svg>').appendTo('#ui_box');
    }

    /*******************************************************************************************************************************
     * Language versions: German, Italian, English, French, Russian, Polish, Spanish, Romanian
     *******************************************************************************************************************************/
    var LANG = {
        //////////////////////////////////////////////
        //      German Translation by Diony         //
        //////////////////////////////////////////////
        de: {
            settings: {
                dsc: "DIO-Tools bietet unter anderem einige Anzeigen, eine Smileyauswahlbox,<br>Handelsoptionen und einige VerÃ¤nderungen des Layouts.",
                act: "Funktionen der Toolsammlung aktivieren/deaktivieren:",
                prv: "Vorschau einzelner Funktionen:",

                version_old: "DIO-Tools-Version ist nicht aktuell",
                version_new: "DIO-Tools-Version ist aktuell",
                version_dev: "DIO-Tools-Entwicklerversion",

                version_update: "Aktualisieren",

                link_forum: "https://www.tuto-de-david1327.com/en/pages/info/en-dio-tools-david1327.html", //"http://forum.de.grepolis.com/showthread.php?28838"
                link_contact: "https://de.forum.grepolis.com/index.php?threads/script-dio-tools-david1327.36671/",

                forum: "Tuto de david1327",
                author: "Forum",

                cat_units: "Einheiten",
                cat_icons: "Stadticons",
                cat_forum: "Forum",
                cat_trade: "Handel",
                cat_wonders: "Weltwunder",
                cat_layout: "Layout",
                cat_other: "Sonstiges"
            },
            options: {
                //bir: ["BiremenzÃ¤hler", "ZÃ¤hlt die jeweiligen Biremen einer Stadt und summiert diese.<br><br>Anzeige im Minimap-Bullauge oben links"],
                ava: ["EinheitenÃ¼bersicht", "Zeigt die Einheiten aller StÃ¤dte an"],
                ava2: ["Nummer des Meeres", "Erweiterungseinheit"],
                sml: ["Smileys", "Erweitert die BBCode-Leiste um eine Smileybox"],
                str: ["EinheitenstÃ¤rke", "FÃ¼gt mehrere EinheitenstÃ¤rketabellen in verschiedenen Bereichen hinzu"],
                tra: ["TransportkapazitÃ¤t", "Zeigt die belegte und verfÃ¼gbare TransportkapazitÃ¤t im Einheitenmenu an"],
                per: ["Prozentualer Handel", "Erweitert das Handelsfenster um einen Prozentualer Handel"],
                rec: ["Rekrutierungshandel", "Erweitert das Handelsfenster um einen Rekrutierungshandel"],
                cnt: ["EO-ZÃ¤hler", "ZÃ¤hlt die ATT/UT-Anzahl im EO-Fenster"],
                way: ["Laufzeit", "Zeigt im ATT/UT-Fenster die Laufzeit bei Verbesserter Truppenbewegung an"],
                sim: ["Simulator", "Anpassung des Simulatorlayouts & permanente Anzeige der Erweiterten Modifikatorbox"],
                act: ["AktivitÃ¤tsboxen", "Verbesserte Anzeige der Handels- und Rekrutierung (Positionsspeicherung)"],
                pop: ["Gunst-Popup", 'Ãndert das Aussehen des Gunst-Popups'],
                tsk: ["Taskleiste", 'VergrÃ¶Ãert die Taskleiste'],
                rew: ["TÃ¤gliche Belohnung", 'Minimiert das "TÃ¤gliche Belohnung"-Fenster beim Start'],
                cha: ["Chat", "Ersetzt den Allianzchat durch einen Welten-Chat"],
                bbc: ["DEF-Formular", "Erweitert die BBCode-Leiste um ein automatisches DEF-Formular"],
                com: ["Einheitenvergleich", "FÃ¼gt Einheitenvergleichstabellen hinzu"],
                tic: ["Stadticons", "Jede Stadt erhÃ¤lt ein Icon fÃ¼r den Stadttyp (Automatische Erkennung)", "ZusÃ¤tzliche Icons stehen bei der manuellen Auswahl zur VerfÃ¼gung"],
                til: ["Stadtliste", "FÃ¼gt die Stadticons zur Stadtliste hinzu"],
                tim: ["Karte", "Setzt die Stadticons auf die strategische Karte"],
                wwc: ["Anteil", "Anteilsrechner & RohstoffzÃ¤hler + Vor- & ZurÃ¼ck-Buttons bei fertiggestellten WW's (momentan nicht deaktivierbar!)"],
                wwr: ["Rangliste", "Ãberarbeitete Weltwunderrangliste"],
                wwi: ["Icons", 'FÃ¼gt Weltwundericons auf der strategischen Karte hinzu'],
                con: ["Kontextmenu", 'Vertauscht "Stadt selektieren" und "StadtÃ¼bersicht" im Kontextmenu'],
                sen: ["Abgeschickte Einheiten", 'Zeigt im Angriffs-/UnterstÃ¼tzungsfenster abgeschickte Einheiten an'],
                tov: ["StadtÃ¼bersicht", 'Ersetzt die neue Stadtansicht mit der alten Fensteransicht'],
                scr: ["Mausrad-Zoom", 'Man kann mit dem Mausrad die 3 Ansichten wechseln'],
                Scr: ["Scrollleiste", 'Ãndern Sie den Stil der Bildlaufleiste', 'verfÃ¼gbar auf Chrome, opera, safari'],
                tow: ["Stadtbbcode", "FÃ¼gt den Stadt-BBCode zur Registerkarte Stadt hinzu"],
                Fdm: ["Mehrere Nachrichten auswÃ¤hlen und lÃ¶schen", "Sie kÃ¶nnen mehr als eine Nachricht lÃ¶schen. Quack funktion"],
                Sel: ["HinzufÃ¼gen (Kein Ã¼berladen / LÃ¶schen)", "Verbesserung neuer Tools im Angriffs- und UnterstÃ¼tzungsfenster. Quack funktion"],
                Cul: ["KulturÃ¼bersicht (Verwalter)", "FÃ¼gen Sie in der Kulturansicht einen ZÃ¤hler fÃ¼r die Feiertage hinzu. Quack funktion"],
                Hot: ["TastaturkÃ¼rzel fÃ¼r Windows", "Es verÃ¤ndert dein Leben"],
                Isl: ["Visualisierung der Insel", "ErhÃ¶hen Sie die HÃ¶he der Liste der StÃ¤dte und DÃ¶rfer"],
                Ish: ["Ãberblick Ã¼ber BauerndÃ¶rfer (KapitÃ¤n)", "Die Stadt automatisch verstecken. (Funktionen in der Entwicklung)"],
                Hio: ["HÃ¶hlen Ãbersicht (Verwalter)", "Sortierung der StÃ¤dte ermÃ¶glichen. Quack funktion"],
                Hid: ["HÃ¶hle", "Silber Ã¼ber 15000 automatisch in das Eingabefeld eintragen. Quack funktion"],

                err: ["Automatische Fehlerberichte senden", "Wenn du diese Option aktivierst, kannst du dabei helfen Fehler zu identifizieren."],
                her: ["Thrakische Eroberung", "Verkleinerung der Karte der Thrakischen Eroberung."]
            },
            labels: {
                uni: "EinheitenÃ¼bersicht",
                total: "Gesamt",
                available: "VerfÃ¼gbar",
                outer: "AuÃerhalb",
                con: "Selektieren",
                // Smileys
                std: "Standard",
                gre: "Grepo",
                nat: "Natur",
                ppl: "Leute",
                oth: "Sonstige",
                eas: "Ostern",
                lov: "Liebe",
                // Defense form
                ttl: "Ãbersicht: Stadtverteidigung",
                inf: "Informationen zur Stadt:",
                dev: "Abweichung",
                det: "Detailierte Landeinheiten",
                prm: "Premiumboni",
                sil: "Silberstand",
                mov: "Truppenbewegungen:",
                // WW
                leg: "WW-Anteil",
                stg: "Stufe",
                tot: "Gesamt",
                // Simulator
                str: "EinheitenstÃ¤rke",
                los: "Verluste",
                mod: "ohne Modifikatoreinfluss",
                // Comparison box
                dsc: "Einheitenvergleich",
                hck: "Schlag",
                prc: "Stich",
                dst: "Distanz",
                sea: "See",
                att: "Angriff",
                def: "Verteidigung",
                spd: "Geschwindigkeit",
                bty: "Beute (Rohstoffe)",
                cap: "TransportkapazitÃ¤t",
                res: "Baukosten (Rohstoffe)",
                fav: "Gunst",
                tim: "Bauzeit (s)",
                // Trade
                rat: "RessourcenverhÃ¤ltnis eines Einheitentyps",
                shr: "Anteil an der LagerkapazitÃ¤t der Zielstadt",
                per: "Prozentualer Handel",
                // Sent units box
                lab: "Abgeschickt",
                improved_movement: "Verbesserte Truppenbewegung",
                donat: "Spenden",
                Tran: "Ãbersetzungen",
                Happy: "Frohes neues Jahr!",
                Merry: "Ho Ho Ho frohe Weihnachten!",
                tow: "BBCode Stadt",
                ingame_name : ["Wer lieber via ingame Name genannt werden mÃ¶chte, kann sich gerne bei mir melden","Da dies mitunter viel Aufwand und Zeit beansprucht, freue ich mich immer sehr Ã¼ber jede Form von UnterstÃ¼tzung. Deshalb ein groÃes Danke an alle die dieses Projekt schon solange unterstÃ¼tzen - sei es durch eine Spende, Wissen, KreativitÃ¤t, Bugberichte oder aufmunternde Worte."]
            },
            tutoriel: {
                tuto: "NÃ¼tzliche Info",
                reme: ["MulÈumesc tuturor celor care au contribuit dezvoltÄrii DIO-Tools", ""],

                Trou: ["Tutorial SpecializÄri Trupe Grepolis - Tutorialul lui david1327", "Tot ce trebuie sÄ Èti despre puterile / slÄbiciunile trupelor de pe Grepolis"],
                util: ["Site-uri utilitare pentru Grepolis - Tutorialul lui david1327", "O multitudine de unelte pentru Grepolis: Statisticici, HÄrÈi, Unelte, Scripturi, Forum ... toate sunt listate aici."]
            },
            Quack: {
                // delete multiple forum
                delete : "LÃ¶schen Sie mehrere Nachrichten",
                delete_sure : "AusgewÃ¤hlte BeitrÃ¤ge wirklich lÃ¶schen?",
                no_selection : "Es sind keine BeitrÃ¤ge markiert",
                mark_All: "Alles markieren",
                //select unit shelper
                no_overload : 'Kein Ã¼berladen',
				delete : 'LÃ¶schen',
                //culture Overview
                cityfestivals : 'Stadtfeste',
				olympicgames : 'Olympische Spiele',
				triumph : 'TriumphzÃ¼ge',
				theater : 'Theaterspiele'
            },
            hotkeys : {
				hotkeys : 'Hotkeys',
				Senate : 'Senat',
				city_select : 'Stadtauswahl',
				last_city : 'Letzte Stadt',
				next_city : 'NÃ¤chste Stadt',
				jump_city : 'Sprung zur aktuellen Stadt',
				administrator : 'Verwalter',
				captain : 'KapitÃ¤n',
				trade_ov : 'HandelsÃ¼bersicht',
				command_ov : 'BefehlsÃ¼bersicht',
				recruitment_ov : 'RekrutierungsÃ¼bersicht',
				troop_ov : 'TruppenÃ¼bersicht',
				troops_outside : 'Truppen auÃerhalb',
				building_ov : 'GebÃ¤udeÃ¼bersicht',
				culture_ov : 'KulturÃ¼bersicht',
				gods_ov : 'GÃ¶tterÃ¼bersicht',
				cave_ov : 'HÃ¶hlenÃ¼bersicht',
				city_groups_ov : 'StadtgruppenÃ¼bersicht',
				city_list : 'StÃ¤dteliste',
				attack_planner : 'Angriffsplaner',
				farming_villages : 'BauerndÃ¶rfer',
				menu : 'MenÃ¼',
				city_view : 'Stadtansicht',
				messages : 'Nachrichten',
				reports : 'Berichte',
				alliance : 'Allianz',
				alliance_forum : 'Allianz-Forum',
				settings : 'Einstellungen',
				profile : 'Profil',
				ranking : 'Rangliste',
				notes : 'Notizen',
				council : 'Konzil der Helden'
			},
			messages : {
				ghosttown : 'Geisterstadt',
				no_cities : 'Keine StÃ¤dte auf dieser Insel',
				all : 'Alle',
				export : 'Nachricht als BB-Code fÃ¼r das Forum'
			},
            caves : {
				stored_silver : 'Eingelagerte SilbermÃ¼nzen',
				silver_to_store: 'Lagerbare SilbermÃ¼nzen',
				name : 'Name',
				wood : 'Holz',
				stone : 'Stein',
				silver : 'SilbermÃ¼nzen',
				search_for : 'Suchen nach'
			},
            buttons: {
                sav: "Speichern", ins: "EinfÃ¼gen", res: "ZurÃ¼cksetzen"
            }
        },
        //////////////////////////////////////////////
        //      English Translation                 //
        //////////////////////////////////////////////
        en: {
            settings: {
                dsc: "DIO-Tools offers, among other things, some displays, a smiley box,<br>trade options and some changes to the layout.",
                act: "Activate/deactivate features of the toolset:",
                prv: "Preview of several features:",

                version_old: "Version is not up to date",
                version_new: "Version is up to date",
                version_dev: "Developer version",

                version_update: "Update",

                link_forum: "https://www.tuto-de-david1327.com/en/pages/info/en-dio-tools-david1327.html",
                link_contact: "https://en.forum.grepolis.com/index.php?threads/dio-tools-david1327.62408/",

                forum: "Tuto de david1327",
                author: "Forum",

                cat_units: "Units",
                cat_icons: "Town icons",
                cat_forum: "Forum",
                cat_trade: "Trade",
                cat_wonders: "World wonder",
                cat_layout: "Layout",
                cat_other: "Miscellaneous"
            },
            options: {
                //bir: ["Bireme counter", "Counts the biremes of a city and sums these"],
                ava: ["Units overview", "Counts the units of all cities"],
                ava2: ["Ocean number", "Extension unit"],
                sml: ["Smilies", "Extends the bbcode bar by a smiley box"],
                str: ["Unit strength", "Adds unit strength tables in various areas"],
                tra: ["Transport capacity", "Shows the occupied and available transport capacity in the unit menu"],
                per: ["Percentual trade", "Extends the trade window by a percentual trade"],
                rec: ["Recruiting trade", "Extends the trade window by a recruiting trade"],
                cnt: ["Conquests", "Counts the attacks/supports in the conquest window"],
                way: ["Troop speed", "Displays improved troop speed in the attack/support window"],
                sim: ["Simulator", "Adaptation of the simulator layout & permanent display of the extended modifier box"],
                act: ["Activity boxes", "Improved display of trade and recruitment (position memory)"],
                pop: ["Favor popup", "Changes the favor popup"],
                tsk: ["Taskbar", "Increases the taskbar"],
                rew: ["Daily reward", "Minimizes the daily reward window on startup"],
                bbc: ["Defense form", "Extends the bbcode bar by an automatic defense form"],
                com: ["Unit Comparison", "Adds unit comparison tables"],
                tic: ["Town icons", "Each city receives an icon for the town type (automatic detection)", "Additional icons are available for manual selection"],
                til: ["Town list", "Adds the town icons to the town list"],
                tim: ["Map", "Sets the town icons on the strategic map"],
                wwc: ["Calculator", "Share calculation & resources counter + previous & next buttons on finished world wonders (currently not deactivatable!)"],
                wwr: ["Ranking", "Redesigned world wonder rankings"],
                wwi: ["Icons", 'Adds world wonder icons on the strategic map'],
                con: ["Context menu", 'Swaps "Select town" and "City overview" in the context menu'],
                sen: ["Sent units", 'Shows sent units in the attack/support window'],
                tov: ["Town overview", 'Replaces the new town overview with the old window style'],
                scr: ["Mouse wheel", 'You can change the views with the mouse wheel'],
                Scr: ["Scrollbar", 'Change the style of the scrollbar', 'Available on Chrome, opera, safari'],
                tow: ["Town bbcode", "Adds the town bbcode to the town tab"],
                Fdm: ["Select and delete several messages", "You can delete more than one messages. Quack function"],
                Sel: ["Add (No overloading / Delete)", "Improvement of new tools on the attack and support window. Quack function"],
                Cul: ["Culture overview", "Add a counter for the party in the culture view. Quack function"],
                Hot: ["Keyboard shortcuts for Windows", "It changes your life"],
                Isl: ["Visualization of the island", "Increase the height of the list of cities and villages"],
                Ish: ["Overview of peasant villages (Captain)", "Automatically hide the city. (Functions in development)"],
                Hio: ["Caves overview (Administrator)", "Allow sorting of cities. Quack function"],
                Hid: ["Cave", "Enter silver above 15000 automatically into the input field. Quack function"],

                err: ["Send bug reports automatically", "If you activate this option, you can help identify bugs."],
                her: ["Thracian Conquest", "Downsizing of the map of the Thracian conquest."],
                // Town icons
                LandOff: "Land Offensive",
                LandDef: "Land Defensive",
                NavyOff: "Navy Offensive",
                NavyDef: "Navy Defensive",
                FlyOff: "Fly Offensive",
                FlyDef: "Fly Defensive",
                Out: "Outside",
                Emp: "Empty"
            },
            labels: {
                uni: "Units overview",
                total: "Total",
                available: "Available",
                outer: "Outside",
                con: "Select town",
                // Smileys
                std: "Standard",
                gre: "Grepo",
                nat: "Nature",
                ppl: "People",
                Par: "Party",
                oth: "Other",
                hal: "Halloween",
                xma: "Xmas",
                eas: "Easter",
                lov: "Love",
                // Defense form
                ttl: "Overview: Town defense",
                inf: "Town information:",
                dev: "Deviation",
                det: "Detailed land units",
                prm: "Premium bonuses",
                sil: "Silver volume",
                mov: "Troop movements:",
                // WW
                leg: "WW Share",
                stg: "Stage",
                tot: "Total",
                // Simulator
                str: "Unit strength",
                los: "Loss",
                mod: "without modificator influence",
                // Comparison box
                dsc: "Unit comparison",
                hck: "Blunt",
                prc: "Sharp",
                dst: "Distance",
                sea: "Sea",
                att: "Offensive",
                def: "Defensive",
                spd: "Speed",
                bty: "Booty (resources)",
                cap: "Transport capacity",
                res: "Costs (resources)",
                fav: "Favor",
                tim: "Recruiting time (s)",
                // Trade
                rat: "Resource ratio of an unit type",
                shr: "Share of the storage capacity of the target city",
                per: "Percentage trade",
                // Sent units box
                lab: "Sent units",
                improved_movement: "Improved troop movement",
                Tran: "Translations",
                donat: "Donations",
                Happy: "Happy new year!",
                Merry: "Ho Ho Ho, Merry Christmas!",
                tow: "BBCode city",
                ingame_name : ["Do not hesitate to contact me if you prefer to be called by your ingame name","Since this is a great deal of work that can be very time-consuming I am always very grateful for any type of support. Therefore I would like to thank everyone who has offered support for this project - whether through donations, knowledge, creativity, bug reports or just some encouraging words."]
            },
            tutoriel: {
                tuto: "Useful info",
                reme: ["I thank all those who contributed to the development of DIO tools", ""],

                link_troupes: "https://www.tuto-de-david1327.com/pages/troupes-grepolis.html",
                link_utile: "https://www.tuto-de-david1327.com/en/pages/info/utility-sites.html",

                Trou: ["Grepolis Troops Specialization Tutorial - tuto de david1327", "What you need to know about the troupe of grepolis Strengths / weaknesses of the units"],
                util: ["Utility sites for grepolis - Tuto de david1327", "A multitude of tools for Grepolis: Statistics, Maps, Tools, Script, Forum ... they are all listed here."]
            },
            Quack: {
                // delete multiple forum
                delete : "Delete multiple messages",
                delete_sure : "Do you really want to delete these posts?",
                no_selection : "No posts selected",
                mark_All: "Mark All",
                //select unit shelper
                no_overload : 'No overloading',
                delete : 'Delete',
                //culture Overview
				cityfestivals : 'City festivals',
				olympicgames : 'Olympic Games',
				triumph : 'Victory processions',
				theater : 'Theater plays'
            },
            hotkeys : {
				hotkeys : 'Hotkeys',
				city_select : 'City selection',
				last_city : 'Last city',
				next_city : 'Next city',
				jump_city : 'Jump to current city',
				administrator : 'Administrator',
				captain : 'Captain',
				trade_ov : 'Trade',
				command_ov : 'Commands',
				recruitment_ov : 'Recruiting',
				troop_ov : 'Troop overview',
				troops_outside : 'Troops outside',
				building_ov : 'Buildings',
				culture_ov : 'Culture',
				gods_ov : 'Gods',
				cave_ov : 'hidesOverview',
				city_groups_ov : 'City groups',
				city_list : 'City list',
				attack_planner : 'Attack planner',
				farming_villages : 'Farming villages',
				menu : 'Menu',
				city_view : 'City view',
				messages : 'Messages',
				reports : 'Reports',
				alliance : 'Alliance',
				alliance_forum : 'Alliance forum',
				settings : 'Settings',
				profile : 'Profile',
				ranking : 'Ranking',
				notes : 'Notes',
				chat : 'Chat',
				council : 'Council of Heroes'
			},
			messages : {
				ghosttown : 'Ghost town',
				no_cities : 'No cities on this island',
				all : 'all',
				export : 'Convert message into BB-Code'
			},
			caves : {
				stored_silver : 'Stored silver coins',
				silver_to_store: 'Storable silver coins',
				name : 'Name',
				wood : 'Wood',
				stone : 'Stone',
				silver : 'Silver coins',
				search_for : 'Search for'
			},
            buttons: {
                sav: "Save", ins: "Insert", res: "Reset"
            }
        },
        //////////////////////////////////////////////
        //      Italian Translation by amliam       //
        //////////////////////////////////////////////
        it: {
            settings: {
                dsc: "DIO-Tools offers, among other things, some displays, a smiley box,<br>trade options and some changes to the layout.",
                act: "Activate/deactivate features of the toolset:",
                prv: "Preview of several features:",

                version_old: "La versione non Ã¨ aggiornata",
                version_new: "La versione Ã¨ aggiornata",
                version_dev: "Versione per sviluppatori",

                version_update: "Aggiornare",

                link_forum: "https://www.tuto-de-david1327.com/en/pages/info/en-dio-tools-david1327.html",
                link_contact: "https://it.forum.grepolis.com/index.php?threads/script-dio-tools-david1327.22111/",

                forum: "Tuto de david1327",
                author: "forum",

                cat_units: "UnitÃ ",
                cat_icons: "Icone cittÃ ",
                cat_forum: "Forum",
                cat_trade: "Commercio",
                cat_wonders: "Mondo meravigliarsi",
                cat_layout: "Disposizione",
                cat_other: "Altro"
            },
            options: {
                bir: ["Conta biremi", "Conta le biremi di una cittÃ  e le somma"],
                ava: ["Panoramica delle unitÃ ", "Conta le unitÃ  di tutte le cittÃ "],
                ava2: ["Numero del mare", ""],
                sml: ["Emojy", "Aggiunge una raccolta di emojy ai pulsanti bbcode"],
                str: ["Forza delle untiÃ ", "Aggiunge una tabella delle forze delle unitÃ  nelle varie aree"],
                tra: ["CapacitÃ  di trasporto", "Mostra la capacitÃ  di trasporto usata e disponibile nel menÃ¹ unitÃ "],
                per: ["Commercio percentuale", "Aggiunge alla finestra del commercio la funzione commercio percentuale"],
                rec: ["Commercio di reclutamento", "Aggiunge alla finestra del commercio il valore del reclutamento"],
                cnt: ["Conquista", "Conta gli attacchi/supporti nella finestra della conquista"],
                way: ["Movimento accelerato", "Mostra il movimento accelerato nalla finestra di attacco/supporto"],
                sim: ["Simulatore", "Adatta il layout del simulatore e aggiunge permanenti le modifiche della finestra box"],
                act: ["Box dei movimenti", "Importa sullo schermo una box di commercio e reclutamento (posizione memorizzata)"],
                pop: ["Popup favori", "Cambia il popup dei favori"],
                tsk: ["Taskbar", "Aumenta le dimensioni taskbar"],
                rew: ["Finestra della ricompensa", "Riduce la dimensione della finestra della ricompensa giornaliera all'avvio"],
                bbc: ["Form difensivo", "Aggiunge alla barra del bbcode un pulsante per un form difensivo automatico"],
                com: ["Paragone unitÃ ", "Aggiunge una tabella per la comparazione delle unitÃ "],
                tic: ["Icone delle cittÃ ", "Ogni cittÃ  riceve una icona per il tipo di cittÃ (rilevamento automatico)", "Icone addizionali sono disponibili per la selezione automatica"],
                til: ["Lista cittÃ ", "Aggiunge le icone delle cittÃ  alla lista cittÃ "],
                tim: ["Mappa", "Aggiunge le icone cittÃ  alla mappa strategica"],
                con: ["Menu selezione", 'Scambia il pulsante "Seleziona cittÃ " con "Panoramica cittÃ " nel menu selezione'],
                sen: ["UnitÃ  inviate", 'Mostra le unitÃ  inviate nella finestre di attacco/supporto'],
                tov: ["Panoramica cittÃ ", 'Sostituisce la panoramica cittÃ  con la vecchia finestra vecchio stile'],
                scr: ["Rotella del mouse", 'Puoi cambiare visuale con la rotella del mouse'],
                Scr: ["Barra di scorrimento", 'Cambia lo stile della barra di scorrimento', 'Disponibile su Chrome, Opera, Safari'],
                tow: ["BBcode cittÃ ", "Aggiunge il bbcode delle cittÃ  alla tab della cittÃ "],
                Fdm: ["Seleziona ed elimina piÃ¹ messaggi", "Puoi eliminare piÃ¹ di un messaggio. Funzione Quack"],
                Sel: ["Aggiungi (Nessun sovraccarico / Elimina)", "Miglioramento di nuovi strumenti nella finestra di attacco e supporto. Funzione Quack"],
                Cul: ["Panoramica cultura (Amministratore)", "Aggiungi un contatore per la festa nella vista Cultura. Funzione ciarlatano"],
                Hot: ["Scorciatoie da tastiera per Windows", "Ti cambia la vita"],
                Isl: ["Visualizzazione dell'isola", "Aumenta l'altezza dell'elenco delle cittÃ  e dei villaggi. Funzione ciarlatano"],
                Ish: ["Panoramica dei villaggi contadini (Capitano)", "Nascondi automaticamente la cittÃ . (Funzione in sviluppo)"],
                Hio: ["Panoramica caverna (Amministratore)", "Consentire alle cittÃ  di essere riordinate. Funzione ciarlatano"],
                Hid: ["Caverna", "Inserisci denaro al di sopra di 15.000 automaticamente nel campo di inserimento. Funzione ciarlatano"],

                err: ["Invia automaticamente il report dei bug", "Se attivi questa opzione, puoi aiutare a identificare i bug."],
                her: ["Conquista della Tracia", "Ridimensiona la mappa della conquista della Tracia"]
            },
            labels: {
                uni: "Panoramica unitÃ ",
                total: "Totali",
                available: "Disponibili",
                outer: "Fuori",
                con: "Seleziona cittÃ ",
                // Smileys
                std: "Standard",
                gre: "Grepo",
                nat: "Natura",
                ppl: "Persone",
                oth: "Altro",
                hal: "Halloween",
                xma: "Natale",
                eas: "Pasqua",
                lov: "Amore",
                // Defense form
                ttl: "Panoramica: difesa della cittÃ ",
                inf: "Informazioni cittÃ :",
                dev: "Errore",
                det: "Dettagli unitÃ  in cittÃ ",
                prm: "Bonus premium",
                sil: "Argento in caverna",
                mov: "Movimenti truppi:",
                // Simulator
                str: "Forza delle unitÃ ",
                los: "Perse",
                mod: "Senza influenza dei modificatori",
                // Comparison box
                dsc: "Paragone unitÃ ",
                hck: "Contundente",
                prc: "Arma bianca",
                dst: "Distanza",
                sea: "Mare",
                att: "Offensiva",
                def: "Defensiva",
                spd: "VelocitÃ ",
                bty: "Bottino (risorse)",
                cap: "CapacitÃ  di trasporto",
                res: "Costi (risorse)",
                fav: "Favori",
                tim: "Tempo di reclutamento",
                // Trade
                rat: "QuantitÃ  di risorse per tipo unitÃ ",
                shr: "QuantitÃ  della capacitÃ  del magazzino della cittÃ  bersaglio",
                per: "Commercio percentuale",
                // Sent units box
                lab: "UnitÃ  inviate",
                improved_movement: "Movimento accelerato unitÃ ",
                donat: "donare",
                Tran: "Traduzioni",
                Happy: "Felice anno nuovo!",
                Merry: "Ho Ho Ho, buon Natale!",
                tow: "BBCode cittÃ ",
                ingame_name : ["Non esitare a contattarmi se preferisci essere chiamato con il tuo nickname","Dato che si tratta di una grande quantitÃ  di lavoro che puÃ² richiedere molto tempo, sono sempre molto grato per qualsiasi tipo di supporto. Pertanto, vorrei ringraziare tutti coloro che hanno offerto supporto per questo progetto, sia attraverso donazioni, conoscenze, creativitÃ , segnalazioni di errori o solo alcune parole incoraggianti."]
            },
            tutoriel: {
                tuto: "Informazioni Utili",
                reme: ["Ringrazio tutti coloro che hanno contribuito allo sviluppo di DIO-Tools-david1327", ""],

                Trou: ["Specializzazione delle truppe di Grepolis lezione - tuto de david1327", "What you need to know about the troupe of grepolis Strengths / weaknesses of the units"],
                util: ["Utility sites for grepolis - Tuto de david1327", "A multitude of tools for Grepolis: Statistics, Maps, Tools, Script, Forum ... they are all listed here."]
            },
            Quack: {
                // delete multiple forum
                delete : "Cancella piÃ¹ messaggi",
                delete_sure : "Vuoi davvero cancellare questo post?",
                no_selection : "Nessun post selezionato",
                mark_All: "Segna tutto",
                //select unit shelper
                no_overload : 'Nessun sovraccarico',
                delete : 'Cancella',
                //culture Overview
				cityfestivals : 'Festa cittadina',
				olympicgames : 'Giochi Olimpici',
				triumph : 'Corteo trionfale',
				theater : 'Opere teatrali'
            },
            hotkeys : {
				hotkeys : 'Tasti di scelta rapida',
				Senate : 'Senato',
				city_select : 'Selezione cittÃ ',
				last_city : 'Precedente cittÃ ',
				next_city : 'Prossima cittÃ ',
				jump_city : 'Salta alla cittÃ  attuale',
				administrator : 'Amministratore',
				captain : 'Capitano',
				trade_ov : 'Panoramica commercio',
				command_ov : 'Panoramica ordini',
				recruitment_ov : 'Panoramica reclutamento',
				troop_ov : 'Panoramica truppe',
				troops_outside : 'Truppe esterne',
				building_ov : 'Panoramica edifici',
				culture_ov : 'Panoramica cultura',
				gods_ov : 'Panoramica dei',
				cave_ov : 'Panoramica caverne',
				city_groups_ov : 'Panoramica gruppi di cittÃ ',
				city_list : 'Elenco cittÃ ',
				attack_planner : 'Pianificatore attacchi',
				farming_villages : 'Villaggi rurali',
				city_view : 'Panoramica cittÃ ',
				messages : 'Messaggi',
				reports : 'Rapporti',
				alliance : 'Alleanza',
				alliance_forum : 'Forum-Alleanza',
				settings : 'Impostazioni',
				profile : 'Profilo',
				ranking : 'Classifica',
				notes : 'Note',
				council : 'Concilio degli eroi'
			},
			messages : {
				ghosttown : 'CittÃ  fantasma',
				no_cities : 'Nessuna cittÃ  su quest\'isola',
				all : 'tutti',
				export : 'Converti messagi in BB-Code'
			},
			caves : {
				stored_silver : 'Monete d\'argento incorporate',
				silver_to_store : 'Monete d\'argento immagazinabili',
				name : 'Nome',
				wood : 'Legname',
				stone : 'Pietre',
				silver : 'Monete d\'argento',
				search_for : 'Cerca per'
			},
            buttons: {
                sav: "Salva", ins: "Inserisci", res: "Reset"
            }
        },
        //////////////////////////////////////////////
        //      French Translation by eclat49       //
        //////////////////////////////////////////////
        fr: {
            settings: {
                dsc: "DIO-Tools offres certains Ã©crans, une boÃ®te de smiley, les options <br>commerciales, des changements Ã  la mise en page et d'autres choses.",
                act: "Activation/DÃ©sactivation des fonctions:",
                prv: "AperÃ§u des fonctions sÃ©parÃ©es:",

                version_old: "La version n'est pas Ã  jour",
                version_new: "La version est Ã  jour",
                version_dev: "Version dÃ©veloppeur",

                version_update: "Mettre Ã  jour",

                link_forum: "https://www.tuto-de-david1327.com/pages/info/dio-tools-david1327.html",
                link_contact: "https://fr.forum.grepolis.com/index.php?threads/dio-tools-david1327.79567/",

                forum: "Tuto de david1327",
                author: "Forum",

                cat_units: "UnitÃ©s",
                cat_icons: "IcÃ´nes de la ville",
                cat_forum: "Forum",
                cat_trade: "Commerce",
                cat_wonders: "Merveille du monde",
                cat_layout: "Disposition",
                cat_other: "Divers"
            },
            options: {
                bir: ["Compteur de birÃ¨mes ", "Totalise l'ensemble des birÃ¨mes prÃ©sentent en villes et les rÃ©sume. (Remplace la mini carte dans le cadran)"],
                ava: ["PrÃ©sentation des unitÃ©s", "Indique les unitÃ©s de toutes les villes."],
                ava2: ["NumÃ©ro de Mer", "Extension unitÃ©"],
                sml: ["Smileys", "Rajoutes une boite de smilies Ã  la boite de bbcode"],
                str: ["Force unitaire", "Ajoutes des tableaux de force unitaire dans les diffÃ©rentes armes"],
                //trd: [ "Commerce",				"Ajout d'une option par pourcentage, par troupes pour le commerce, ainsi qu'un affichage des limites pour les festivals" ],
                tra: ["CapacitÃ© de transport", "Affiche la capacitÃ© de transport occupÃ©e et disponible dans le menu des l'unitÃ©s"],
                per: ["Commerce de pourcentage", "Prolonge la fenÃªtre du commerce par un commerce de pourcentage"],
                rec: ["Commerce de recrutement", "Prolonge la fenÃªtre du commerce par un commerce de recrutement"],
                cnt: ["Compteur conquÃªte", "Comptabilise le nombre d'attaque et de soutien dans la fenÃªtre de conquÃªte"],
                way: ["Vitesse des troupes ", "Rajoutes le temps de trajet avec le bonus accÃ©lÃ©ration"],
                sim: ["Simulateur", "Modification de la prÃ©sentation du simulateur et affichage permanent des options premium"],
                act: ["BoÃ®te d'activitÃ©", "PrÃ©sentation amÃ©liorÃ©e du commerce et du recrutement (mÃ©moire de position)"],
                pop: ["Popup de faveur", 'Change la popup de faveur'],
                tsk: ["Barre de tÃ¢ches", "La barre de tÃ¢ches augmente"],
                rew: ["RÃ©compenses quotidiennes", "Minimise la fenÃªtre de rÃ©compense quotidienne au dÃ©marrage"],
                bbc: ["Formulaire de dÃ©fense", "Ajout d'un bouton dans la barre BBCode pour un formulaire de dÃ©fense automatique"],
                com: ["Comparaison des unitÃ©s", "Ajoutes des tableaux de comparaison des unitÃ©s"],
                tic: ["IcÃ´nes des villes", "Chaque ville reÃ§oit une icÃ´ne pour le type de ville (dÃ©tection automatique)", "Des icÃ´nes supplÃ©mentaires sont disponibles pour la sÃ©lection manuelle"],
                til: ["Liste de ville", "Ajoute les icÃ´nes de la ville Ã  la liste de la ville"],
                tim: ["Carte", "DÃ©finit les icÃ´nes de la ville sur la carte stratÃ©gique"],
                wwc: ["Merveille du monde", "Compteur de ressource et calcul d'envoi + bouton prÃ©cÃ©dent et suivant sur les merveilles finies(ne peut Ãªtre dÃ©sactivÃ© pour le moment)"],
                wwr: ["Classement", "Nouveau classement mondial des merveilles"],
                wwi: ["IcÃ´nes",'Ajoute des icÃ´nes de merveilles du monde sur la carte stratÃ©gique' ],
                con: ["Menu contextuel", 'ÃchangÃ©e "SÃ©lectionner ville" et "AperÃ§u de la ville" dans le menu contextuel'],
                sen: ["UnitÃ©s envoyÃ©es", 'Affiche unitÃ©s envoyÃ©es dans la fenÃªtre attaque/support'],
                tov: ["AperÃ§u de ville", "Remplace la nouvelle aperÃ§u de la ville avec l'ancien style de fenÃªtre"],
                scr: ["Molette de la souris", 'Avec la molette de la souris vous pouvez changer les vues'],
                Scr: ["Barre de dÃ©filement", 'Modifier le style de la barre de dÃ©filement', 'Disponible sur Chrome, opera, safari'],
                tow: ["BBcode de la ville", "Ajoute le bbcode de la ville Ã  la tab de la ville. Fonction Quack"],
                Fdm: ["SÃ©lectionner et supprimer plusieur messages", "Vous pouvez supprimer plus de un commentaire. Fonction Quack"],
                Sel: ["Rajouter (Sans surcharge / Effacer)", "AmÃ©lioration de nouveaux outils sur la fenÃªtre d'attaque et de support. Fonction Quack"],
                Cul: ["AperÃ§u de culture (Administrateur)", "Ajouter un compteur pour les fÃªtes dans la vue de la culture. Fonction Quack"],
                Hot: ["Raccourcis clavier pour Windows", "Ãa change votre vie"],
                Isl: ["Visualisation de l'Ã®le", "Agrandir la hauteur de la liste des villes et des villages"],
                Ish: ["L'aperÃ§u des villages de paysans (Capitaine)", "Masquer automatiquement la ville. (Fonctions en dÃ©veloppement)"],
                Hio: ["AperÃ§u des grottes (Administrateur)", "Permettre le tri des villes. Fonction Quack"],
                Hid: ["Grotte", "Entrer l'argent au-dessus de 15.000 automatiquement dans le champ de saisie. Fonction Quack"],

                err: ["Envoyer des rapports de bogues automatiquement", "Si vous activez cette option, vous pouvez aider Ã  identifier les bugs."],
                // Town icons
                LandOff: "Off terrestre",
                LandDef: "DÃ©f terrestre",
                NavyOff: "Off naval",
                NavyDef: "DÃ©f aval",
                FlyOff: "UnitÃ©s Mythiques Off",
                FlyDef: "UnitÃ©s Mythiques Def",
                Out: "Ã l'extÃ©rieur",
                Emp: "Vide"
            },
            labels: {
                uni: "PrÃ©sentation des unitÃ©s",
                total: "Global",
                available: "Disponible",
                outer: "ExtÃ©rieur",
                con: "SÃ©lectionner",
                // Smileys
                std: "Standard",
                gre: "Grepo",
                nat: "Nature",
                ppl: "Gens",
                Par: "FÃªte",
                oth: "Autres",
                xma: "NoÃ«l",
                eas: "PÃ¢ques",
                lov: "Amour",
                // Defense form
                ttl: "AperÃ§u: DÃ©fense de ville",
                inf: "Renseignements sur la ville:",
                dev: "DiffÃ©rence",
                det: "UnitÃ©s terrestres dÃ©taillÃ©es",
                prm: "Bonus premium",
                sil: "Remplissage de la grotte",
                mov: "Mouvements de troupes:",
                // WW
                leg: "Participation",
                stg: "Niveau",
                tot: "Total",
                // Simulator
                str: "Force unitaire",
                los: "Pertes",
                mod: "sans influence de modificateur",
                // Comparison box
                dsc: "Comparaison des unitÃ©s",
                hck: "Contond.",
                prc: "Blanche",
                dst: "Jet",
                sea: "Navale",
                att: "Attaque",
                def: "DÃ©fense",
                spd: "Vitesse",
                bty: "Butin",
                cap: "CapacitÃ© de transport",
                res: "CoÃ»t de construction",
                fav: "Faveur",
                tim: "Temps de construction (s)",
                // Trade
                rat: "Ratio des ressources d'un type d'unitÃ©",
                shr: "Part de la capacitÃ© de stockage de la ville cible",
                per: "Commerce de pourcentage",
                // Sent units box
                lab: "EnvoyÃ©e",
                improved_movement: "Mouvement des troupes amÃ©liorÃ©",
                Thanks_generator: "GÃ©nÃ©rateur de remerciements",
                donat: "Contribution (Dons)",
                Tran: "Traductions",
                Happy: "Bonne annÃ©e!",
                Merry: "Ho! Ho! Ho! Joyeux NoÃ«l!",
                tow: "BBCode ville",
                ingame_name : ["N'hÃ©sitez pas Ã  me contacter si vous prÃ©fÃ©rez Ãªtre appeler par votre pseudo.","Comme il y a beaucoup Ã  faire, et que cela peut demander beaucoup de temps, je suis toujours trÃ¨s reconnaissant pour tout type d'aide. De ce fait, j'aimerai remercier tous ceux qui sont offert de l'aide sur ce projet, que ce soit par des donations, en partageant des connaissances, des conseils crÃ©atifs, en rapportant des problÃ¨mes, ou simplement par des messages d'encouragement."],
            },
            tutoriel: {
                tuto: "Informations utiles",
                reme: ["Je remercie tous ceux qui ont contribuÃ© au dÃ©veloppement de DIO-Tools", ""],

                link_troupes: "https://www.tuto-de-david1327.com/pages/troupes-grepolis.html",
                link_utile: "https://www.tuto-de-david1327.com/pages/info/sites-utilitaires.html",

                Trou: ["Tuto spÃ©cialisation Troupes Grepolis - tuto de david1327", "Tuto Troupes Grepolis se qui faux savoir sur les troupe de grepolis Point forts/faibles des unitÃ©s"],
                util: ["Sites utilitaires pour grepolis - Tuto de david1327", "Une multitude d'outils pour Grepolis : Statistiques, Maps, Outils, Script, Forum... ils sont tous rÃ©pertoriÃ© ici."]
            },
            Quack: {
                // delete multiple forum
                delete : "Supprimer plusieurs messages",
                delete_sure : "Voulez vous rÃ©ellement effacer ces messages?",
                no_selection : "Aucun message sÃ©lectionnÃ©s",
                mark_All: "Tout marquer",
                //select unit shelper
                no_overload : 'sans surcharge',
                delete : 'Effacer',
                //culture Overview
				cityfestivals : 'Festivals',
				olympicgames : 'Jeux Olympiques',
				triumph : 'Marche triomphales',
				theater : 'PiÃ¨ces de thÃ©Ã¢tre'
            },
            hotkeys : {
				hotkeys : 'Raccourci',
				Senate : 'SÃ©nat',
				city_select : 'SÃ©lection ville',
				last_city : 'Ville prÃ©cÃ©dente',
				next_city : 'Ville suivante',
				jump_city : 'Attendre la ville actuelle',
				administrator : 'Administrateur',
				captain : 'Capitaine',
				trade_ov : 'AperÃ§u du commerce',
				command_ov : 'AperÃ§u des ordres',
				recruitment_ov : 'AperÃ§u du recrutement',
				troop_ov : 'AperÃ§u des troupes',
				troops_outside : 'Troupes en dehors',
				building_ov : 'AperÃ§u des bÃ¢timents',
				culture_ov : 'AperÃ§u culturel',
				gods_ov : 'AperÃ§u des divinitÃ©s',
				cave_ov : 'AperÃ§u des grottes',
				city_groups_ov : 'AperÃ§u des groupes de villes',
				city_list : 'Liste des villes',
				attack_planner : 'Planificateur',
				farming_villages : 'Villages de paysans',
				menu : 'Menu',
				city_view : 'Vue de la ville',
				messages : 'Messages',
				reports : 'Rapports',
				alliance : 'Alliance',
				alliance_forum : 'Forum d\'alliance',
				settings : 'RÃ©glages',
				profile : 'Profil',
				ranking : 'Classement',
				notes : 'Notes',
				chat : 'Chat',
				council : 'Concile des hÃ©ros'
			},
			messages : {
				ghosttown : 'Ville fantÃ´me',
				no_cities : 'Aucune ville sur cette Ã®le',
				all : 'Tous',
				export : 'Convertir le message en BB-Code',
			},
			caves : {
				stored_silver : 'CapacitÃ© de stockage des piÃ¨ces d\'argent',
				name : 'Nom',
				wood : 'Bois',
				stone : 'Pierre',
				silver : 'PiÃ¨ces d\'argent'
			},
            buttons: {
                sav: "sauvegarder", ins: "InsÃ©rer", res: "RÃ©initialiser"
            }
        },
        //////////////////////////////////////////////
        //      Russian Translation by MrBobr       //
        //////////////////////////////////////////////
        ru: {
            settings: {
                dsc: "DIO-Tools Ð¸Ð·Ð¼ÐµÐ½ÑÐµÑ Ð½ÐµÐºÐ¾ÑÐ¾ÑÑÐµ Ð¾ÐºÐ½Ð°, Ð´Ð¾Ð±Ð°Ð²Ð»ÑÐµÑ Ð½Ð¾Ð²ÑÐµ ÑÐ¼Ð°Ð¹Ð»Ñ, Ð¾ÑÑÑÑÑ,<br>ÑÐ»ÑÑÑÐµÐ½ÑÐµ Ð²Ð°ÑÐ¸Ð°Ð½ÑÑ ÑÐ¾ÑÐ³Ð¾Ð²Ð»Ð¸ Ð¸ Ð´ÑÑÐ³Ð¸Ðµ ÑÑÐ½ÐºÑÐ¸Ð¸.",
                act: "ÐÐºÐ»ÑÑÐµÐ½Ð¸Ðµ/Ð²ÑÐºÐ»ÑÑÐµÐ½Ð¸Ðµ ÑÑÐ½ÐºÑÐ¸Ð¹:",
                prv: "ÐÑÐ¸Ð¼ÐµÑÑ Ð²Ð½ÐµÑÑÐ½Ð½ÑÑ Ð¸Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸Ð¹:"
            },
            options: {
                //bir: ["Ð¡ÑÑÑÑÐ¸Ðº Ð±Ð¸ÑÐµÐ¼", "ÐÐ¾ÐºÐ°Ð·ÑÐ²Ð°ÐµÑ ÑÐ¸ÑÐ»Ð¾ Ð±Ð¸ÑÐµÐ¼ Ð²Ð¾ Ð²ÑÐµÑ Ð³Ð¾ÑÐ¾Ð´Ð°Ñ"],
                ava: ["ÐÐ±Ð·Ð¾Ñ ÐµÐ´Ð¸Ð½Ð¸Ñ", "Ð£ÐºÐ°Ð·ÑÐ²Ð°ÐµÑ ÐµÐ´Ð¸Ð½Ð¸ÑÑ Ð²ÑÐµÑ Ð³Ð¾ÑÐ¾Ð´Ð¾Ð²"], // ?
                sml: ["Ð¡Ð¼Ð°Ð¹Ð»Ñ", "ÐÐ¾Ð±Ð°Ð²Ð»ÑÐµÑ ÐºÐ½Ð¾Ð¿ÐºÑ Ð´Ð»Ñ Ð²ÑÑÐ°Ð²ÐºÐ¸ ÑÐ¼Ð°Ð¹Ð»Ð¾Ð² Ð² ÑÐ¾Ð¾Ð±ÑÐµÐ½Ð¸Ñ"],
                str: ["Ð¡Ð¸Ð»Ð° Ð¾ÑÑÑÐ´Ð°", "ÐÐ¾Ð±Ð°Ð²Ð»ÑÐµÑ ÑÐ°Ð±Ð»Ð¸ÑÑ Ð¾Ð±ÑÐµÐ¹ ÑÐ¸Ð»Ñ Ð¾ÑÑÑÐ´Ð° Ð² Ð½ÐµÐºÐ¾ÑÐ¾ÑÑÑ Ð¾ÐºÐ½Ð°Ñ"],
                //trd: [ "Ð¢Ð¾ÑÐ³Ð¾Ð²Ð»Ñ",		"ÐÐ¾Ð±Ð°Ð²Ð»ÑÐµÑ Ð¼Ð°ÑÐºÐµÑÑ Ð¸ Ð¾ÑÐ¿ÑÐ°Ð²ÐºÑ Ð½ÐµÐ´Ð¾ÑÑÐ°ÑÑÐ¸Ñ ÑÐµÑÑÑÑÐ¾Ð², Ð½ÐµÐ¾Ð±ÑÐ¾Ð´Ð¸Ð¼ÑÑ Ð´Ð»Ñ ÑÐµÑÑÐ¸Ð²Ð°Ð»Ñ. ÐÐ½ÑÑÑÑÐ¼ÐµÐ½ÑÑ Ð´Ð»Ñ Ð´Ð¾Ð»ÐµÐ²Ð¾Ð¹ ÑÐ¾ÑÐ³Ð¾Ð²Ð»Ð¸" ],
                per: ["ÐÑÐ¾ÑÐµÐ½Ñ ÑÐ¾ÑÐ³Ð¾Ð²Ð»Ñ", ""],
                rec: ["Ð ÐµÐºÑÑÑÐ¸Ð½Ð³ ÑÐ¾ÑÐ³Ð¾Ð²Ð»Ñ", ""],
                cnt: ["ÐÐ°Ð²Ð¾ÐµÐ²Ð°Ð½Ð¸Ñ", "ÐÑÐ¾Ð±ÑÐ°Ð¶ÐµÐ½Ð¸Ðµ Ð¾Ð±ÑÐµÐ³Ð¾ ÑÐ¸ÑÐ»Ð° Ð°ÑÐ°Ðº/Ð¿Ð¾Ð´ÐºÑÐµÐ¿Ð»ÐµÐ½Ð¸Ð¹ Ð² Ð¾ÐºÐ½Ðµ Ð·Ð°Ð²Ð¾ÐµÐ²Ð°Ð½Ð¸Ñ Ð³Ð¾ÑÐ¾Ð´Ð°"],
                way: ["30% ÑÑÐºÐ¾ÑÐµÐ½Ð¸Ðµ", "ÐÑÐ¾Ð±ÑÐ°Ð¶Ð°ÐµÑ Ð¿ÑÐ¸Ð¼ÐµÑÐ½Ð¾Ðµ Ð²ÑÐµÐ¼Ñ Ð´Ð²Ð¸Ð¶ÐµÐ½Ð¸Ñ Ð¾ÑÑÑÐ´Ð° Ñ 30% Ð±Ð¾Ð½ÑÑÐ¾Ð¼"],
                sim: ["Ð¡Ð¸Ð¼ÑÐ»ÑÑÐ¾Ñ", "ÐÐ·Ð¼ÐµÐ½ÐµÐ½Ð¸Ðµ Ð¸Ð½ÑÐµÑÑÐµÐ¹ÑÐ° ÑÐ¸Ð¼ÑÐ»ÑÑÐ¾ÑÐ°, Ð´Ð¾Ð±Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ Ð½Ð¾Ð²ÑÑ ÑÑÐ½ÐºÑÐ¸Ð¹"],
                act: ["ÐÐµÑÐµÐ¼ÐµÑÐµÐ½Ð¸Ñ", "ÐÐ¾ÐºÐ°Ð·ÑÐ²Ð°ÐµÑ Ð¾ÐºÐ½Ð° Ð¿ÐµÑÐµÑÑÐ»ÐºÐ¸ ÑÐµÑÑÑÑÐ¾Ð² Ð¸ Ð²ÐµÑÐ±Ð¾Ð²ÐºÐ°"],
                pop: ["ÐÐ»Ð°Ð³Ð¾ÑÐºÐ»Ð¾Ð½Ð½Ð¾ÑÑÑ", "ÐÑÐ¾Ð±ÑÐ°Ð¶ÐµÐ½Ð¸Ðµ Ð¾ÐºÐ½Ð° Ñ ÑÑÐ¾Ð²Ð½ÐµÐ¼ Ð±Ð»Ð°Ð³Ð¾ÑÐºÐ»Ð¾Ð½Ð½Ð¾ÑÑÐ¸ Ð±Ð¾Ð³Ð¾Ð²"],
                tsk: ["Ð¢Ð°ÑÐºÐ±Ð°Ñ", "Ð£Ð²ÐµÐ»Ð¸ÑÐµÐ½Ð¸Ðµ ÑÐ¸ÑÐ¸Ð½Ñ ÑÐ°ÑÐºÐ±Ð°ÑÐ°"],
                rew: ["EÐ¶ÐµÐ´Ð½ÐµÐ²Ð½Ð¾Ð¹ Ð½Ð°Ð³ÑÐ°Ð´Ñ", "CÐ²Ð¾ÑÐ°ÑÐ¸Ð²Ð°Ð½Ð¸Ðµ Ð¾ÐºÐ½Ð° ÐµÐ¶ÐµÐ´Ð½ÐµÐ²Ð½Ð¾Ð¹ Ð½Ð°Ð³ÑÐ°Ð´Ñ Ð¿ÑÐ¸ Ð²ÑÐ¾Ð´Ðµ Ð² Ð¸Ð³ÑÑ"],
                bbc: ["Ð¤Ð¾ÑÐ¼Ð° Ð¾Ð±Ð¾ÑÐ¾Ð½Ñ", "ÐÐ¾Ð±Ð°Ð²Ð»ÑÐµÑ ÐºÐ½Ð¾Ð¿ÐºÑ Ð´Ð»Ñ Ð²ÑÑÐ°Ð²ÐºÐ¸ Ð² ÑÐ¾Ð¾Ð±ÑÐµÐ½Ð¸Ðµ Ð¾ÑÑÑÑÐ° Ð¾ Ð³Ð¾ÑÐ¾Ð´Ðµ"], // Beschreibung passt nicht ganz
                com: ["Ð¡ÑÐ°Ð²Ð½ÐµÐ½Ð¸Ðµ ÑÐ½Ð¸ÑÐ¾Ð²", "ÐÐ¾Ð±Ð°Ð²Ð»ÑÐµÑ Ð¾ÐºÐ½Ð¾ ÑÑÐ°Ð²Ð½ÐµÐ½Ð¸Ñ ÑÐ½Ð¸ÑÐ¾Ð²"],
                tic: ["Ð¢Ð¸Ð¿Ñ Ð³Ð¾ÑÐ¾Ð´Ð¾Ð²", "ÐÐ°Ð¶Ð´ÑÐ¹ Ð³Ð¾ÑÐ¾Ð´ Ð¿Ð¾Ð»ÑÑÐ°ÐµÑ Ð·Ð½Ð°ÑÐ¾Ðº Ð´Ð»Ñ Ð³Ð¾ÑÐ¾Ð´ÑÐºÐ¾Ð³Ð¾ ÑÐ¸Ð¿Ð° (Ð°Ð²ÑÐ¾Ð¼Ð°ÑÐ¸ÑÐµÑÐºÐ¾Ðµ Ð¾Ð¿ÑÐµÐ´ÐµÐ»ÐµÐ½Ð¸Ðµ)", "ÐÐ¾Ð¿Ð¾Ð»Ð½Ð¸ÑÐµÐ»ÑÐ½ÑÐµ Ð¸ÐºÐ¾Ð½ÐºÐ¸ Ð´Ð¾ÑÑÑÐ¿Ð½Ñ Ð´Ð»Ñ ÑÑÑÐ½Ð¾Ð³Ð¾ Ð²ÑÐ±Ð¾ÑÐ°"], // ?
                til: ["Ð¡Ð¿Ð¸ÑÐ¾Ðº Ð³Ð¾ÑÐ¾Ð´", "ÐÐ¾Ð±Ð°Ð²Ð»ÑÐµÑ Ð·Ð½Ð°ÑÐºÐ¸ Ð³Ð¾ÑÐ¾Ð´ÑÐºÐ¸Ðµ Ð² ÑÐ¿Ð¸ÑÐ¾Ðº Ð³Ð¾ÑÐ¾Ð´Ð°"], // ?
                tim: ["ÐÐ°ÑÑÐ°", "Ð£ÑÑÐ°Ð½Ð°Ð²Ð»Ð¸Ð²Ð°ÐµÑ Ð³Ð¾ÑÐ¾Ð´ÑÐºÐ¸Ðµ Ð¸ÐºÐ¾Ð½ÐºÐ¸ Ð½Ð° ÑÑÑÐ°ÑÐµÐ³Ð¸ÑÐµÑÐºÐ¾Ð¹ ÐºÐ°ÑÑÐµ"], // ?
                wwc: ["Ð§ÑÐ´Ð¾ ÑÐ²ÐµÑÐ°", "Share calculation & resources counter + previous & next buttons on finished world wonders (currently not deactivatable!)"],
                wwr: ["", ""],
                //wwi: [ "World wonder icons",'Adds world wonder icons on the strategic map' ],
                //con: [ "Context menu",	'Swaps "Select town" and "City overview" in the context menu'],
                //sen: [ "Sent units",		'Shows sent units in the attack/support window'],
                tov: ["ÐÐ±Ð·Ð¾Ñ ÐÐ¾ÑÐ¾Ð´", 'ÐÐ°Ð¼ÐµÐ½ÑÐµÑ Ð½Ð¾Ð²ÑÐ¹ Ð¾Ð±Ð·Ð¾Ñ Ð³Ð¾ÑÐ¾Ð´Ð° Ñ ÑÑÐ°ÑÐ¾Ð¼ ÑÑÐ¸Ð»Ðµ Ð¾ÐºÐ½Ð°'],  // ?
                scr: ["ÐÐ¾Ð»ÐµÑÐ¾ Ð¼ÑÑÐ¸", 'Ð¡ Ð¿Ð¾Ð¼Ð¾ÑÑÑ ÐºÐ¾Ð»ÐµÑÐ° Ð¼ÑÑÐ¸ Ð²Ñ Ð¼Ð¾Ð¶ÐµÑÐµ Ð¸Ð·Ð¼ÐµÐ½Ð¸ÑÑ Ð²Ð·Ð³Ð»ÑÐ´Ñ'], // ?
                Scr: ["ÐÐ¾Ð»Ð¾ÑÐ° Ð¿ÑÐ¾ÐºÑÑÑÐºÐ¸", 'ÐÐ·Ð¼ÐµÐ½Ð¸ÑÑ ÑÑÐ¸Ð»Ñ Ð¿Ð¾Ð»Ð¾ÑÑ Ð¿ÑÐ¾ÐºÑÑÑÐºÐ¸', 'ÐÐ¾ÑÑÑÐ¿Ð½Ð¾ Ð½Ð° Chrome, Opera, Safari'],
                tow: ["BBCode Ð³Ð¾ÑÐ¾Ð´", "ÐÐ¾Ð±Ð°Ð²Ð»ÑÐµÑ bbcode Ð³Ð¾ÑÐ¾Ð´Ð° Ð½Ð° Ð²ÐºÐ»Ð°Ð´ÐºÑ Ð³Ð¾ÑÐ¾Ð´Ð°"],
                Fdm: ["ÐÑÐ±ÑÐ°ÑÑ Ð¸ ÑÐ´Ð°Ð»Ð¸ÑÑ Ð½ÐµÑÐºÐ¾Ð»ÑÐºÐ¾ ÑÐ¾Ð¾Ð±ÑÐµÐ½Ð¸Ð¹", "ÐÑ Ð¼Ð¾Ð¶ÐµÑÐµ ÑÐ´Ð°Ð»Ð¸ÑÑ Ð±Ð¾Ð»ÐµÐµ Ð¾Ð´Ð½Ð¾Ð³Ð¾ ÑÐ¾Ð¾Ð±ÑÐµÐ½Ð¸Ñ. Ð¤ÑÐ½ÐºÑÐ¸Ñ Quack"],
                Sel: ["ÐÐ¾Ð±Ð°Ð²Ð¸ÑÑ (ÐÐµÐ· Ð¿ÐµÑÐµÐ³ÑÑÐ·ÐºÐ¸ / Ð£Ð´Ð°Ð»Ð¸ÑÑ)", "Ð£Ð»ÑÑÑÐµÐ½Ð¸Ðµ Ð½Ð¾Ð²ÑÑ Ð¸Ð½ÑÑÑÑÐ¼ÐµÐ½ÑÐ¾Ð² Ð² Ð¾ÐºÐ½Ðµ Ð°ÑÐ°ÐºÐ¸ Ð¸ Ð¿Ð¾Ð´Ð´ÐµÑÐ¶ÐºÐ¸. Ð¤ÑÐ½ÐºÑÐ¸Ñ Quack"],
                Cul: ["ÐÐ±Ð·Ð¾Ñ ÐºÑÐ»ÑÑÑÑÑ (ÐÐ´Ð¼Ð¸Ð½Ð¸ÑÑÑÐ°ÑÐ¾Ñ)", "ÐÐ¾Ð±Ð°Ð²Ð¸ÑÑ ÑÑÐµÑÑÐ¸Ðº Ð´Ð»Ñ Ð¿Ð°ÑÑÐ¸Ð¸ Ð² Ð¿ÑÐµÐ´ÑÑÐ°Ð²Ð»ÐµÐ½Ð¸Ð¸ ÐºÑÐ»ÑÑÑÑÑ. Ð¤ÑÐ½ÐºÑÐ¸Ñ Quack"],
                Hot: ["Ð¡Ð¾ÑÐµÑÐ°Ð½Ð¸Ñ ÐºÐ»Ð°Ð²Ð¸Ñ Ð´Ð»Ñ Windows", "Ð­ÑÐ¾ Ð¼ÐµÐ½ÑÐµÑ Ð²Ð°ÑÑ Ð¶Ð¸Ð·Ð½Ñ"],
                Isl: ["ÐÐ¸Ð·ÑÐ°Ð»Ð¸Ð·Ð°ÑÐ¸Ñ Ð¾ÑÑÑÐ¾Ð²Ð°", "Ð£Ð²ÐµÐ»Ð¸ÑÐµÐ½Ð¸Ðµ Ð²ÑÑÐ¾ÑÑ ÑÐ¿Ð¸ÑÐºÐ° Ð³Ð¾ÑÐ¾Ð´Ð¾Ð² Ð¸ ÑÐµÐ». Ð¤ÑÐ½ÐºÑÐ¸Ñ Quack"],
                Ish: ["ÐÐ±Ð·Ð¾Ñ ÐºÑÐµÑÑÑÑÐ½ÑÐºÐ¸Ñ Ð´ÐµÑÐµÐ²ÐµÐ½Ñ (ÐºÐ°Ð¿Ð¸ÑÐ°Ð½)", "ÐÐ²ÑÐ¾Ð¼Ð°ÑÐ¸ÑÐµÑÐºÐ¸ ÑÐºÑÑÑÑ Ð³Ð¾ÑÐ¾Ð´. (Ð¤ÑÐ½ÐºÑÐ¸Ð¸ Ð² ÑÐ°Ð·ÑÐ°Ð±Ð¾ÑÐºÐµ)"],
                Hio: ["ÐÐ±Ð·Ð¾Ñ Ð¿ÐµÑÐµÑÑ (ÐÐ´Ð¼Ð¸Ð½Ð¸ÑÑÑÐ°ÑÐ¾Ñ)", "Ð Ð°Ð·ÑÐµÑÐ¸ÑÑ ÑÐ¾ÑÑÐ¸ÑÐ¾Ð²ÐºÑ Ð³Ð¾ÑÐ¾Ð´Ð¾Ð². Ð¤ÑÐ½ÐºÑÐ¸Ñ Quack"],
                Hid: ["ÐÐµÑÐµÑÐ°", "ÐÐ¾Ð¼ÐµÑÑÐ¸ÑÑ 15000 ÑÐµÑÐµÐ±ÑÐ° Ð°Ð²ÑÐ¾Ð¼Ð°ÑÐ¸ÑÐµÑÐºÐ¸ Ð² Ð¿Ð¾Ð»Ðµ Ð²Ð²Ð¾Ð´Ð°. Ð¤ÑÐ½ÐºÑÐ¸Ñ Quack"],

                err: ["ÐÑÐ¿ÑÐ°Ð²Ð¸ÑÑ ÑÐ¾Ð¾Ð±ÑÐµÐ½Ð¸Ñ Ð¾Ð± Ð¾ÑÐ¸Ð±ÐºÐ°Ñ Ð°Ð²ÑÐ¾Ð¼Ð°ÑÐ¸ÑÐµÑÐºÐ¸", "ÐÑÐ»Ð¸ Ð²Ñ Ð²ÐºÐ»ÑÑÐ¸ÑÐµ ÑÑÑ Ð¾Ð¿ÑÐ¸Ñ, Ð²Ñ Ð¼Ð¾Ð¶ÐµÑÐµ Ð¿Ð¾Ð¼Ð¾ÑÑ Ð¸Ð´ÐµÐ½ÑÐ¸ÑÐ¸ÑÐ¸ÑÐ¾Ð²Ð°ÑÑ Ð¾ÑÐ¸Ð±ÐºÐ¸"]
            },

            labels: {
                uni: "ÐÐ±Ð·Ð¾Ñ ÐµÐ´Ð¸Ð½Ð¸Ñ",
                total: "OÐ±ÑÐ¸Ð¹",
                available: "Ð´Ð¾ÑÑÑÐ¿Ð½ÑÐ¹",
                outer: "Ð²Ð½Ðµ",
                con: "Ð²ÑÐ±Ð¸ÑÐ°ÑÑ",
                // Smileys
                std: "",
                gre: "",
                nat: "",
                ppl: "",
                oth: "",
                // Defense form
                ttl: "ÐÐ±Ð·Ð¾Ñ: ÐÑÑÑÑ Ð¾ Ð³Ð¾ÑÐ¾Ð´Ðµ",
                inf: "ÐÐ½ÑÐ¾ÑÐ¼Ð°ÑÐ¸Ñ Ð¾ Ð²Ð¾Ð¹ÑÐºÐ°Ñ Ð¸ Ð¿Ð¾ÑÑÑÐ¾Ð¹ÐºÐ°Ñ:",
                dev: "ÐÑÐºÐ»Ð¾Ð½ÐµÐ½Ð¸Ðµ",
                det: "ÐÐµÑÐ°Ð»ÑÐ½ÑÐ¹ Ð¾ÑÑÑÑ",
                prm: "ÐÑÐµÐ¼Ð¸ÑÐ¼-Ð±Ð¾Ð½ÑÑÑ",
                sil: "Ð¡ÐµÑÐµÐ±ÑÐ¾ Ð² Ð¿ÐµÑÐµÑÐµ",
                mov: "ÐÐµÑÐµÐ¼ÐµÑÐµÐ½Ð¸Ñ",
                // WW
                leg: "",
                stg: "",
                tot: "",
                // Simulator
                str: "Ð¡Ð¸Ð»Ð° Ð²Ð¾Ð¹ÑÐº",
                los: "ÐÐ¾ÑÐµÑÐ¸",
                mod: "Ð±ÐµÐ· ÑÑÑÑÐ° Ð·Ð°ÐºÐ»Ð¸Ð½Ð°Ð½Ð¸Ð¹, Ð±Ð¾Ð½ÑÑÐ¾Ð², Ð¸ÑÑÐ»ÐµÐ´Ð¾Ð²Ð°Ð½Ð¸Ð¹",
                // Comparison box
                dsc: "Ð¡ÑÐ°Ð²Ð½ÐµÐ½Ð¸Ðµ ÑÐ½Ð¸ÑÐ¾Ð²",
                hck: "Ð£Ð´Ð°ÑÐ½Ð¾Ðµ",
                prc: "ÐÐ¾Ð»ÑÑÐµÐµ",
                dst: "ÐÐ°Ð»ÑÐ½ÐµÐ³Ð¾ Ð±Ð¾Ñ",
                sea: "ÐÐ¾ÑÑÐºÐ¸Ðµ",
                att: "ÐÑÐ°ÐºÐ°",
                def: "ÐÐ°ÑÐ¸ÑÐ°",
                spd: "Ð¡ÐºÐ¾ÑÐ¾ÑÑÑ",
                bty: "ÐÐ¾Ð±ÑÑÐ° (ÑÐµÑÑÑÑÑ)",
                cap: "ÐÐ¼ÐµÑÑÐ¸Ð¼Ð¾ÑÑÑ ÑÑÐ°Ð½ÑÐ¿Ð¾ÑÑÐ¾Ð²",
                res: "Ð¡ÑÐ¾Ð¸Ð¼Ð¾ÑÑÑ (ÑÐµÑÑÑÑÑ)",
                fav: "ÐÐ»Ð°Ð³Ð¾ÑÐºÐ»Ð¾Ð½Ð½Ð¾ÑÑÑ",
                tim: "ÐÑÐµÐ¼Ñ Ð½Ð°Ð¹Ð¼Ð° (Ñ)",
                // Trade
                rat: "",
                shr: "",
                per: "",
                // Sent units box
                lab: "ÐÑÐ¿ÑÐ°Ð²Ð»ÐµÐ½Ð¾",
                improved_movement: "Ð£Ð»ÑÑÑÐµÐ½Ð½Ð°Ñ Ð¿ÐµÑÐµÐ¼ÐµÑÐµÐ½Ð¸Ðµ Ð²Ð¾Ð¹ÑÐº",
                donat: "ÐÐ¾Ð¶ÐµÑÑÐ²Ð¾Ð²Ð°Ð½Ð¸Ñ",
                Tran: "ÐÐµÑÐµÐ²Ð¾Ð´Ñ",
                tow: "BBCode Ð³Ð¾ÑÐ¾Ð´",
                ingame_name : ["ÐÐµ ÑÑÐµÑÐ½ÑÐ¹ÑÐµÑÑ Ð¾Ð±ÑÐ°ÑÐ°ÑÑÑÑ ÐºÐ¾ Ð¼Ð½Ðµ, ÐµÑÐ»Ð¸ Ð²Ñ Ð¿ÑÐµÐ´Ð¿Ð¾ÑÐ¸ÑÐ°ÐµÑÐµ, ÑÑÐ¾Ð±Ñ Ð²Ð°Ñ Ð½Ð°Ð·Ð²Ð°Ð»Ð¸ Ð² ÑÐµÑÑÑ Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ñ Ð¸Ð³ÑÑ","Ð¯ Ð±Ð»Ð°Ð³Ð¾Ð´Ð°ÑÐµÐ½ Ð¸Ð³ÑÐ¾ÐºÐ°Ð¼ Ð·Ð° ÑÐ¾Ð²ÐµÑÑ Ð¸ Ð¸Ð´ÐµÐ¸, Ð¾Ð½Ð¸ Ð´Ð°ÑÑ Ð¼Ð½Ðµ ÑÐ¸Ð»Ñ ÑÐ°Ð±Ð¾ÑÐ°ÑÑ Ð´Ð°Ð»ÑÑÐµ. Ð ÑÐ¾Ð¶Ð°Ð»ÐµÐ½Ð¸Ñ, Ð¿ÑÐ¾ÐµÐºÑ Ð¾ÑÐ½Ð¸Ð¼Ð°ÐµÑ Ð¾ÑÐµÐ½Ñ Ð¼Ð½Ð¾Ð³Ð¾ Ð²ÑÐµÐ¼ÐµÐ½Ð¸, Ð¿Ð¾ÑÑÐ¾Ð¼Ñ Ñ Ð±ÑÐ´Ñ ÑÐ°Ð´ Ð»ÑÐ±Ð¾Ð¹ Ð¿Ð¾Ð´Ð´ÐµÑÐ¶ÐºÐµ. Ð¯ ÑÐ¾ÑÑ Ð¿Ð¾Ð±Ð»Ð°Ð³Ð¾Ð´Ð°ÑÐ¸ÑÑ Ð²ÑÐµÑ, ÐºÑÐ¾ Ð¿Ð¾Ð¼Ð¾Ð³Ð°Ð» Ð¿ÑÐ¾ÐµÐºÑÑ, Ð±ÑÐ´Ñ ÑÐ¾ ÐÐ¾Ð¶ÐµÑÑÐ²Ð¾Ð²Ð°Ð½Ð¸Ñ, ÑÐ¾Ð²ÐµÑÑ, Ð¾ÑÑÐµÑÑ Ñ Ð¾ÑÐ¸Ð±ÐºÐ°Ð¼Ð¸ Ð¸Ð»Ð¸ Ð¿ÑÐ¾ÑÑÐ¾ Ð´Ð¾Ð±ÑÑÐµ ÑÐ»Ð¾Ð²Ð° Ð² Ð¼Ð¾Ð¹ Ð°Ð´ÑÐµÑ."]
            },
            tutoriel: {
                tuto: "ÐÐ¾Ð»ÐµÐ·Ð½Ð°Ñ Ð¸Ð½ÑÐ¾ÑÐ¼Ð°ÑÐ¸Ñ",
                reme: ["Ð¯ Ð±Ð»Ð°Ð³Ð¾Ð´Ð°ÑÑ Ð²ÑÐµÑ, ÐºÑÐ¾ Ð²Ð½ÐµÑ Ð²ÐºÐ»Ð°Ð´ Ð² ÑÐ°Ð·ÑÐ°Ð±Ð¾ÑÐºÑ DIO-TOOLS-David1327", ""]
            },
            Quack: {
                // delete multiple forum
                delete : "Ð£Ð´Ð°Ð»Ð¸ÑÑ Ð½ÐµÑÐºÐ¾Ð»ÑÐºÐ¾ ÑÐ¾Ð¾Ð±ÑÐµÐ½Ð¸Ð¹",
                delete_sure : "ÐÑ Ð´ÐµÐ¹ÑÑÐ²Ð¸ÑÐµÐ»ÑÐ½Ð¾ ÑÐ¾ÑÐ¸ÑÐµ ÑÐ´Ð°Ð»Ð¸ÑÑ ÑÑÐ¸ ÑÐ¾Ð¾Ð±ÑÐµÐ½Ð¸Ñ?",
                no_selection : "Ð¡Ð¾Ð¾Ð±ÑÐµÐ½Ð¸Ñ Ð½Ðµ Ð²ÑÐ±ÑÐ°Ð½Ñ",
                mark_All: "ÐÐ¾Ð¼ÐµÑÐ¸ÑÑ Ð²ÑÐµ",
                //select unit shelper
                no_overload : 'ÐÐµÑ Ð¿ÐµÑÐµÐ·Ð°Ð³ÑÑÐ·ÐºÐ¸',
				delete : 'Ð£Ð´Ð°Ð»Ð¸ÑÑ',
                //culture Overview
				cityfestivals : 'Ð¤ÐµÑÑÐ¸Ð²Ð°Ð»Ñ',
				olympicgames : 'ÐÐ»Ð¸Ð¼Ð¿Ð¸Ð¹ÑÐºÐ¸Ðµ Ð¸Ð³ÑÑ',
				triumph : 'Ð¨ÐµÑÑÐ²Ð¸Ðµ',
				theater : 'ÐÑÐµÐ´ÑÑÐ°Ð²Ð»ÐµÐ½Ð¸Ðµ'
            },
            hotkeys : {
				hotkeys : 'ÐÐ¾ÑÑÑÐ¸Ðµ ÐºÐ»Ð°Ð²Ð¸ÑÐ¸',
				Senate : 'Senate',
				city_select : 'ÐÑÐ±Ð¾Ñ Ð³Ð¾ÑÐ¾Ð´Ð°',
				last_city : 'ÐÐ¾ÑÐ»ÐµÐ´Ð½Ð¸Ð¹ Ð³Ð¾ÑÐ¾Ð´',
				next_city : 'Ð¡Ð»ÐµÐ´ÑÑÑÐ¸Ð¹ Ð³Ð¾ÑÐ¾Ð´',
				jump_city : 'ÐÐµÑÐµÑÐ¾Ð´ Ðº ÑÐµÐºÑÑÐµÐ¼Ñ Ð³Ð¾ÑÐ¾Ð´Ñ',
				administrator : 'ÐÐ´Ð¼Ð¸Ð½Ð¸ÑÑÑÐ°ÑÐ¾Ñ',
				captain : 'ÐÐ°Ð¿Ð¸ÑÐ°Ð½',
				trade_ov : 'ÐÐ±Ð·Ð¾Ñ ÑÐ¾ÑÐ³Ð¾Ð²Ð»Ð¸',
				command_ov : 'ÐÐ±Ð·Ð¾Ñ Ð¿ÑÐ¸ÐºÐ°Ð·Ð¾Ð²',
				recruitment_ov : 'ÐÐ±Ð·Ð¾Ñ Ð²ÐµÑÐ±Ð¾Ð²Ð¾Ðº',
				troop_ov : 'ÐÐ±Ð·Ð¾Ñ Ð²Ð¾Ð¹ÑÐº',
				troops_outside : 'ÐÐ¾Ð¹ÑÐºÐ° Ð²Ð½Ðµ Ð³Ð¾ÑÐ¾Ð´Ð°',
				building_ov : 'ÐÐ±Ð·Ð¾Ñ Ð·Ð´Ð°Ð½Ð¸Ð¹',
				culture_ov : 'ÐÐ±Ð·Ð¾Ñ ÐºÑÐ»ÑÑÑÑÑ',
				gods_ov : 'ÐÐ±Ð·Ð¾Ñ Ð±Ð¾Ð³Ð¾Ð²',
				cave_ov : 'ÐÐ±Ð·Ð¾Ñ Ð¿ÐµÑÐµÑ',
				city_groups_ov : 'ÐÐ±Ð·Ð¾Ñ Ð³ÑÑÐ¿Ð¿ Ð³Ð¾ÑÐ¾Ð´Ð¾Ð²',
				city_list : 'Ð¡Ð¿Ð¸ÑÐ¾Ðº Ð³Ð¾ÑÐ¾Ð´Ð¾Ð²',
				attack_planner : 'ÐÐ»Ð°Ð½Ð¸ÑÐ¾Ð²ÑÐ¸Ðº',
				farming_villages : 'Ð¡ÐµÐ»ÐµÐ½Ð¸Ñ Ð·ÐµÐ¼Ð»ÐµÐ´ÐµÐ»ÑÑÐµÐ²',
				menu : 'ÐÐµÐ½Ñ',
				city_view : 'ÐÐ±Ð·Ð¾Ñ Ð³Ð¾ÑÐ¾Ð´Ð°',
				messages : 'Ð¡Ð¾Ð¾Ð±ÑÐµÐ½Ð¸Ñ',
				reports : 'ÐÑÑÐµÑÑ',
				alliance : 'Ð¡Ð¾ÑÐ·',
				alliance_forum : 'Ð¤Ð¾ÑÑÐ¼ Ð¡Ð¾ÑÐ·Ð°',
				settings : 'ÐÐ°ÑÑÑÐ¾Ð¹ÐºÐ¸',
				profile : 'ÐÑÐ¾ÑÐ¸Ð»Ñ',
				ranking : 'Ð ÐµÐ¹ÑÐ¸Ð½Ð³',
				notes : 'ÐÐ°Ð¼ÐµÑÐºÐ¸',
				chat : 'Ð§Ð°Ñ',
				council : 'Ð¡Ð¾Ð²ÐµÑ Ð³ÐµÑÐ¾ÐµÐ²'
			},
			messages : {
				ghosttown : 'ÐÐ¾ÑÐ¾Ð´-Ð¿ÑÐ¸Ð·ÑÐ°Ðº',
				no_cities : 'ÐÐ° ÑÑÐ¾Ð¼ Ð¾ÑÑÑÐ¾Ð²Ðµ Ð½ÐµÑ Ð³Ð¾ÑÐ¾Ð´Ð¾Ð²',
				all : 'ÐÑÐµ',
				export : 'ÐÐ¾Ð½Ð²ÐµÑÑÐ¸ÑÐ¾Ð²Ð°ÑÑ ÑÐ¾Ð¾Ð±ÑÐµÐ½Ð¸Ðµ Ð² BB-ÐÐ¾Ð´'
			},
			caves : {
				stored_silver : 'ÐÑÑÑÐ¾ÐµÐ½Ð½ÑÐµ cÐµÑÐµÐ±. Ð¼Ð¾Ð½ÐµÑÑ',
				name : 'Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ðµ',
				wood : 'Ð´ÑÐµÐ²ÐµÑÐ¸Ð½Ð°',
				stone : 'ÐºÐ°Ð¼ÐµÐ½Ñ',
				silver : 'Ð¡ÐµÑÐµÐ±. Ð¼Ð¾Ð½ÐµÑÑ'
			},
            buttons: {
                sav: "Ð¡Ð¾ÑÑÐ°Ð½Ð¸Ð¸ÑÑ", ins: "ÐÑÑÐ°Ð²ÐºÐ°", res: "Ð¡Ð±ÑÐ¾Ñ"
            }
        },
        //////////////////////////////////////////////
        //       Polish Translation by anpu         //
        //////////////////////////////////////////////
        pl: {
            settings: {
                dsc: "DIO-Tools oferuje (miÄdzy innymi) poprawione widoki, nowe uÅmieszki,<br>opcje handlu i zmiany w wyglÄdzie.",
                act: "WÅÄcz/wyÅÄcz funkcje skryptu:",
                prv: "podglÄd poszczegÃ³lnych opcji:",

                version_old: "Wersja nie jest aktualizowana",
                version_new: "Wersja jest zaktualizowana",
                version_dev: "Wersja dla programistÃ³w",

                version_update: "aktualizacja",

                link_contact: "https://pl.forum.grepolis.com/index.php?threads/dio-tools-david1327.30016/"
            },
            options: {
                //bir: ["Licznik birem", "Zlicza i sumuje biremy z miast"],
                ava: ["PrzeglÄd jednostek", "Wskazuje jednostki wszystkich miast"], // ?
                sml: ["Emotki", "Dodaje dodatkowe (zielone) emotikonki"],
                str: ["SiÅa jednostek", "dodaje tabelki z siÅÄ jednostek w rÃ³Å¼nych miejscach gry"],
                //trd: [ "Handel",			"Rozszerza okno handlu o handel procentowy, proporcje surowcÃ³w wg jednostek, dodaje znaczniki dla festynÃ³w" ],
                per: ["Handel procentowy", ""],
                rec: ["Handel rekrutacyjne", ""],
                cnt: ["Podboje", "Zlicza wsparcia/ataki w oknie podboju (tylko wÅasne podboje)"],
                way: ["PrÄdkoÅÄ wojsk", "WyÅwietla dodatkowo czas jednostek dla bonusu przyspieszone ruchy wojsk"],
                sim: ["Symulator", "Dostosowanie wyglÄdu symulatora oraz dodanie szybkich pÃ³l wyboru"],
                act: ["Ramki aktywnoÅci", "Ulepszony widok rekrutacji i handlu (moÅ¼na umieÅciÄ w dowolnym miejscu ekranu. ZapamiÄtuje poÅoÅ¼enie.)"],
                pop: ["Åaski", "Zmienia wyglÄd ramki informacyjnej o iloÅci produkowanych Åask"],
                tsk: ["Pasek skrÃ³tÃ³w", "PowiÄksza pasek skrÃ³tÃ³w"],
                rew: ["Bonusem dziennym", "Minimalizuje okienko z bonusem dziennym przy starcie"],
                bbc: ["RaportÃ³w obronnych", "Rozszerza pasek skrÃ³tÃ³w BBcode o generator raportÃ³w obronnych"],
                com: ["PorÃ³wnianie", "Dodaje tabelki z porÃ³wnaniem jednostek"],
                tic: ["Ikony miasta", "KaÅ¼de miasto otrzyma ikonÄ typu miasta (automatyczne wykrywanie)", "Dodatkowe ikony sÄ dostÄpne dla rÄcznego wyboru"], // ?
                til: ["Lista miasto", "Dodaje ikony miasta do listy miasta"], // ?
                tim: ["Mapa", "Zestawy ikon miasta na mapie strategicznej"], // ?
                wwc: ["Cuda Åwiata", "Liczy udziaÅ w budowie oraz iloÅÄ wysÅanych surowcÃ³w na budowÄ Cudu Åwiata oraz dodaje przyciski do szybkiego przeÅÄczania miÄdzy cudami (obecnie nie moÅ¼liwe do wyÅÄczenia)"],
                wwr: ["", ""],
                //wwi: [ "World wonder icons",'Adds world wonder icons on the strategic map' ],
                con: ["menu kontekstowe", 'Zamiemia miejcami przycisk "wybierz miasto" z przyciskiem "podglÄd miasta" po klikniÄciu miasta na mapie'],
                sen: ["WysÅane jednostki", 'PokaÅ¼ wysÅane jednostki w oknie wysyÅania atakÃ³w/wsparÄ'],
                tov: ["PodglÄd miasta", 'ZastÄpuje nowy podglÄd miasta starym'],
                scr: ["Zoom", 'MoÅ¼esz zmieniÄ poziom przybliÅ¼enia mapy kÃ³Åkiem myszy'],
                Scr: ["Pasek przewijania", 'ZmieÅ styl paska przewijania', 'DostÄpne w Chrome, Opera, Safari'],
                tow: ["Miasto BBCode", "Dodaje bbcode miasta do karty miasta"],
                Fdm: ["Wybierz i usuÅ kilka wiadomoÅci", "MoÅ¼esz usunÄÄ wiÄcej niÅ¼ jednÄ wiadomoÅÄ. Funkcja Quack"],
                Sel: ["Dodaj (Bez przeciÄÅ¼ania / UsuÅ)", "Udoskonalenie nowych narzÄdzi w oknie ataku i wsparcia. Funkcja Quack"],
                Cul: ["PrzeglÄd kultury (ZarzÄdca)", "Dodaj licznik imprezy w widoku kultury. Funkcja Quack"],
                Hot: ["SkrÃ³ty klawiaturowe dla systemu Windows", "Zmienia twoje Å¼ycie"],
                Isl: ["Wizualizacja wyspy", "ZwiÄksz wysokoÅÄ listy miast i wsi. Funkcja Quack"],
                Ish: ["PrzeglÄd wiosek chÅopskich (Kapitan)", "Automatycznie ukryj miasto. (Funkcje w rozwoju)"],
                Hio: ["PodglÄd jaskiÅ (ZarzÄdca)", "MoÅ¼liwoÅÄ sortowania miast. Funkcja Quack"],
                Hid: ["Jaskinia", "Wstaw automatycznie w pole wpisywania srebro powyÅ¼ej 15000. Funkcja Quack"],

                err: ["Automatycznie wysyÅaÄ raporty o bÅÄdach", "JeÅli wÅÄczysz tÄ opcjÄ, moÅ¼esz pomÃ³c zidentyfikowaÄ bÅÄdy"]

            },
            labels: {
                uni: "PrzeglÄd jednostek",
                total: "OgÃ³lny",
                available: "DostÄpny",
                outer: "Na zewnÄtrz",
                con: "Wybierz miasto",
                // Smileys
                std: "Standard" /* "Standardowe" */,
                gre: "Grepo",
                nat: "Przyroda",
                ppl: "Ludzie",
                oth: "Inne",
                // Defense form
                ttl: "PodglÄd: Obrona miasta",
                inf: "Informacje o mieÅcie:",
                dev: "OchyÅka",
                det: "jednostki lÄdowe",
                prm: "opcje Premium",
                sil: "IloÅÄ srebra",
                mov: "Ruchy wojsk",
                // WW
                leg: "UdziaÅ w Cudzie",
                stg: "Poziom",
                tot: "ÅÄcznie",
                // Simulator
                str: "SiÅa jednostek",
                los: "Straty",
                mod: "bez modyfikatorÃ³w",
                // Comparison box
                dsc: "PorÃ³wnianie jednostek",
                hck: "Obuchowa",
                prc: "TnÄca",
                dst: "Dystansowa",
                sea: "Morskie",
                att: "Offensywne",
                def: "Defensywne",
                spd: "PrÄdkoÅÄ",
                bty: "Åup (surowce)",
                cap: "PojemnoÅÄ transportu",
                res: "Koszta (surowce)",
                fav: "Åaski",
                tim: "Czas rekrutacji (s)",
                // Trade
                rat: "Stosunek surowcÃ³w dla wybranej jednostki",
                shr: "procent zapeÅnienia magazynu w docelowym mieÅcie",
                per: "Handel procentowy",
                // Sent units box
                lab: "WysÅane jednostki",
                improved_movement: "Przyspieszone ruchy wojsk",
                donat: "Darowizny",
                Tran: "TÅumaczenia",
                Happy: "SzczÄÅliwego Nowego Roku!",
                Merry: "Ho ho ho wesoÅych ÅwiÄt!",
                tow: "Miasto BBCode",
                ingame_name : ["Nie wahaj siÄ ze mnÄ skontaktowaÄ, jeÅli wolisz byÄ nazywany tak jak w grze","PoniewaÅ¼ jest to bardzo duÅ¼o pracy, ktÃ³ra moÅ¼e byÄ bardzo czasochÅonna, zawsze jestem bardzo wdziÄczny za wszelkiego rodzaju wsparcie. Dlatego chciaÅbym podziÄkowaÄ wszystkim, ktÃ³rzy zaoferowali wsparcie dla tego projektu - czy to poprzez darowizny, wiedzÄ, kreatywnoÅÄ, raporty o bÅÄdach lub po prostu zachÄcajÄce sÅowa."]
            },
            tutoriel: {
                tuto: "Przydatna informacja",
                reme: ["DziÄkujÄ wszystkim, ktÃ³rzy przyczynili siÄ do rozwoju DIO-TOOLS-David1327", ""]
            },
            Quack: {
                // delete multiple forum
                delete : "UsuÅ wiele wiadomoÅci",
                delete_sure : "Czy na pewno chcesz usunÄÄ te posty?",
                no_selection : "Brak zaznaczonych PostÃ³w",
                mark_All: "Zaznacz wszystko",
                //select unit shelper
                no_overload : 'Wybierz i napeÅnij ÅÃ³dki',
                delete : 'WyczyÅÄ',
                //culture Overview
				cityfestivals : 'Festyn miejski',
				olympicgames : 'Igrzyska Olimpijskie',
				triumph : 'PochÃ³d triumfalny',
				theater : 'WystÄpy teatralne'
            },
            hotkeys : {
				hotkeys : 'SkrÃ³ty',
				Senate : 'Senat',
				city_select : 'WybÃ³r miasta',
				last_city : 'Poprzednie miasto',
				next_city : 'NastÄpne miasto',
				jump_city : 'PrzejdÅº do obecnego miasta',
				administrator : 'ZarzÄdca',
				captain : 'Kapitan',
				trade_ov : 'PodglÄd handlu',
				command_ov : 'PodglÄd poleceÅ',
				recruitment_ov : 'PodglÄd rekrutacji',
				troop_ov : 'PodglÄd wojsk',
				troops_outside : 'Wojska poza miastem',
				building_ov : 'PodglÄd budynkÃ³w',
				culture_ov : 'PodglÄd kultury',
				gods_ov : 'PodglÄd bogÃ³w',
				cave_ov : 'PodglÄd jaskini',
				city_groups_ov : 'Podglad grupy miast',
				city_list : 'Lista miast',
				attack_planner : 'Planer atakÃ³w',
				farming_villages : 'Wioski',
				menu : 'Menu',
				city_view : 'PodglÄd miasta',
				messages : 'WiadomoÅci',
				reports : 'Raporty',
				alliance : 'Sojusz',
				alliance_forum : 'Forum sojuszu',
				settings : 'Ustawienia',
				profile : 'Profil',
				ranking : 'Ranking',
				notes : 'Notatnik',
				chat : 'Czat',
				council : 'Rada BohaterÃ³w'
			},
			messages : {
				ghosttown : 'Opuszczone miasto',
				no_cities : 'Brak miast na tej wyspie',
				all : 'CaÅoÅÄ',
				export : 'ZmieÅ wiadomoÅÄ na BB-Code'
			},
			caves : {
				stored_silver : 'Przechowywane srebrne monety',
				name : 'Nazwa',
				wood : 'Drewno',
				stone : 'KamieÅ',
				silver : 'Srebrne monety'
			},
            buttons: {
                sav: "Zapisz", ins: "Wstaw", res: "Anuluj"
            }
        },
        //////////////////////////////////////////////
        // Spanish Translation by Juana de Castilla //
        //////////////////////////////////////////////
        es: {
            settings: {
                dsc: "DIO-Tools ofrece, entre otras cosas, varias pantallas, ventana de <br>emoticones, opciones de comercio y algunos cambios en el diseÃ±o.",
                act: "Activar/desactivar caracterÃ­sticas de las herramientas:",
                prv: "Vista previa de varias caracterÃ­sticas:",

                version_old: "La versiÃ³n no estÃ¡ actualizada",
                version_new: "La versiÃ³n estÃ¡ actualizada",
                version_dev: "VersiÃ³n de desarrollador",

                version_update: "poner al dÃ­a",

                link_contact: "https://es.forum.grepolis.com/index.php?threads/script-dio-tools-david1327.45017/"

                /*forum: "Forum",
                author: "Autor",*/
            },
            options: {
                //bir: ["Contador de birremes", "Cuenta los birremes de una ciudad y los suma"],
                ava: ["InformaciÃ³n general unidades", "Indica las unidades de todas las ciudades"], // ?
                sml: ["Emoticones", "CÃ³digo BB para emoticones"],
                str: ["Fortaleza de la Unidad", "AÃ±ade tabla de fortalezas de cada unidad en varias zonas"],
                //trd: [ "Comercio",				"AÃ±ade en la pestaÃ±a de comercio un porcentaje de comercio y reclutamiento y limitadores de Mercado por cada ciudad" ],
                per: ["Comercio de porcentual", ""],
                rec: ["Comercio de reclutamiento", ""],
                cnt: ["Conquistas", "contador de ataques y refuerzos en la pestaÃ±a de conquista"],
                way: ["Velocidad de tropas", "Muestra movimiento de tropas mejorado en la ventana de ataque/refuerzo"],
                sim: ["Simulador", "AdaptaciÃ³n de la ventana del simulador incluyendo recuadro de modificadores"],
                act: ["Ventana de actividad", "Mejora las ventanas de comercio y reclutamiento (memoria posicional)"],
                pop: ["Popup", "Cambia el popup de favores"],
                tsk: ["Barra de tareas", "Aumenta la barra de tareas"],
                rew: ["Recompensa diaria", "Minimice la recompensa diaria al inicio"],
                bbc: ["Formulario de defensa", "AÃ±ade en la barra de cÃ³digos bb un formulario de defensa"],
                com: ["ComparaciÃ³n", "aÃ±ade ventana de comparaciÃ³n de unidades"],
                tic: ["Iconos de la ciudad", "Cada ciudad recibe un icono para el tipo de la ciudad (detecciÃ³n automÃ¡tica)", "Iconos adicionales estÃ¡n disponibles para la selecciÃ³n manual"],
                til: ["Lista de la ciudad", "Agrega los iconos de la ciudad a la lista de la ciudad"],
                tim: ["Map", "Establece los iconos de la ciudad en el mapa estratÃ©gico"],
                wwc: ["Maravillas", "Calcula participaciÃ³n & contador de recursos + antes y despuÃ©s teclas de maravillas terminadas (no desactibable ahora!)"],
                wwr: ["", ""],
                //wwi: [ "World wonder icons",'Adds world wonder icons on the strategic map' ],
                con: ["menÃº contextual", 'Cambia "Elegir ciudad" y "vista de la ciudad" en el menÃº contextual '],
                sen: ["Unidades enviadas", 'Muestra las unidades enviadas en la ventana de ataque/refuerzos'],
                tov: ["InformaciÃ³n de la ciudad", 'sustituye la vista nueva de ciudad por la ventana antigua'],
                scr: ["Rueda raton", 'Puede cambiar las vistas con la rueda del raton'],
                Scr: ["Barra de desplazamiento", 'Cambiar el estilo de la barra de desplazamiento', 'Disponible en Chrome, Opera, Safari'],
                tow: ["BBCode ciudad", "Agrega el bbcode de la ciudad a la pestaÃ±a de la ciudad"],
                Fdm: ["Seleccionar y eliminar varios mensajes", "Puede eliminar mÃ¡s de un mensaje. FunciÃ³n Quack"],
                Sel: ["Agregar (No cargar / Borrar)", "Mejora de nuevas herramientas en la ventana de ataque y soporte. FunciÃ³n Quack"],
                Cul: ["Resumen de cultura (Administrador)", "Agregue un contador para la fiesta en la vista de cultura. FunciÃ³n Quack"],
                Hot: ["Atajos de teclado para Windows", "Te cambia la vida"],
                Isl: ["VisualizaciÃ³n de la isla", "Aumentar la altura de la lista de ciudades y pueblos. FunciÃ³n Quack"],
                Ish: ["DescripciÃ³n general de las aldeas campesinas (CapitÃ¡n)", "Ocultar automÃ¡ticamente la ciudad. (Funciones en desarrollo)"],
                Hio: ["Resumen de Cuevas (Administrador)", "Permitir la clasificaciÃ³n de las ciudades. FunciÃ³n Quack"],
                Hid: ["Cueva", "Introducir 15.000 monedas de plata automÃ¡ticamente en el campo de entrada. FunciÃ³n Quack"],

                err: ["Enviar informes de errores automÃ¡ticamente", "Si se activa esta opciÃ³n, puede ayudar a identificar errores."]
            },
            labels: {
                uni: "InformaciÃ³n general unidades",
                total: "Total",
                available: "Disponible",
                outer: "Fuera",
                con: "Escoger ciudad",
                // Smileys
                std: "Standard",
                gre: "Grepo",
                nat: "Natura",
                ppl: "Gente",
                oth: "Otros",
                // Defense form
                ttl: "Vista general: Defensa de la ciudad",
                inf: "InformaciÃ³n de la ciudad:",
                dev: "DesviaciÃ³n",
                det: "Unidades de tierra detalladas",
                prm: "Bonos Premium",
                sil: "Volumen de plata",
                mov: "Movimientos de tropas:",
                // WW
                leg: "WW cuota",
                stg: "Nivel",
                tot: "Total",
                // Simulator
                str: "Fortaleza de la Unidad",
                los: "Perdida",
                mod: "sin influencia del modificador",
                // Comparison box
                dsc: "ComparaciÃ³n de Unidades",
                hck: "Contundente",
                prc: "Punzante",
                dst: "Distancia",
                sea: "Mar",
                att: "Ataque",
                def: "Defensa",
                spd: "Velocidad",
                bty: "BotÃ­n (recursos)",
                cap: "Capacidad de transporte",
                res: "Costes (recursos)",
                fav: "Favor",
                tim: "Tiempo de reclutamiento (s)",
                // Trade
                rat: "ProporciÃ³n de recursos de un tipo de unidad",
                shr: "Porcentaje de la capacidad de almacenamiento de la ciudad destino",
                per: "Porcentaje de comercio",
                // Sent units box
                lab: "Unidades enviadas",
                improved_movement: "Movimiento de tropas mejorados",
                donat: "Donaciones",
                Tran: "Traducciones",
                Happy: "Feliz aÃ±o nuevo!",
                Merry: "Ho ho ho Feliz Navidad!",
                tow: "BBCode ciudad",
                ingame_name : ["No dudes en ponerte en contacto conmigo si prefieres que te llamen por tu nombre en el juego","Dado que se trata de mucho trabajo y puede ser muy lento siempre estoy muy agradecido por cualquier tipo de soporte. Por lo tanto me gustarÃ­a dar las gracias a todos los que ofreciÃ³ su apoyo para este proyecto -. Sea a travÃ©s de donaciones, el conocimiento, la creatividad, los informes de error o sÃ³lo algunas palabras alentadoras bbcode"]
            },
            tutoriel: {
                tuto: "InformaciÃ³n Ãºtil",
                reme: ["Agradezco a todos los que contribuyeron al desarrollo de DIO-TOOLS-David1327", ""]
            },
            Quack: {
                // delete multiple forum
                delete : "Eliminar mÃºltiples mensajes",
                delete_sure : "Â¿Realmente desea eliminar estos mensajes?",
                no_selection : "No hay posts seleccionados",
                mark_All: "Marca todas",
                //select unit shelper
                no_overload : 'No cargar',
                delete : 'Borrar',
                //culture Overview
				cityfestivals : 'Festival de la ciudad',
				olympicgames : 'Juegos OlÃ­mpicos',
				triumph : 'Marcha triunfal',
				theater : 'Obras de teatro'
            },
            hotkeys : {
				hotkeys : 'Atajos de teclado',
				Senate : 'Senado',
				city_select : 'SelecciÃ³n de la ciudad',
				last_city : 'Ãltima ciudad',
				next_city : 'PrÃ³xima ciudad',
				jump_city : 'Saltar a la ciudad actual',
				administrator : 'Administrador',
				captain : 'CapitÃ¡n',
				trade_ov : 'Vista general de comercio',
				command_ov : 'Vista general de Ã³rdenes',
				recruitment_ov : 'Vista general de reclutamiento',
				troop_ov : 'Vista de tropas',
				troops_outside : 'Tropas fuera',
				building_ov : 'Vista general de edificios',
				culture_ov : 'Vista de cultura',
				gods_ov : 'Vista general de dioses',
				cave_ov : 'Vista general de la cueva',
				city_groups_ov : 'Vista general de grupos de ciudades',
				city_list : 'Lista de ciudades',
				attack_planner : 'Programador de ataque',
				farming_villages : 'Aldeas',
				menu : 'MenÃº',
				city_view : 'Vista de la ciudad',
				messages : 'Mensajes',
				reports : 'Informes',
				alliance : 'Alianza',
				alliance_forum : 'Foro de la alianza',
				settings : 'Ajustes',
				profile : 'Perfil',
				ranking : 'ClasificaciÃ³n',
				notes : 'Notas',
				chat : 'Chat',
				council : 'Consejo de hÃ©roes'
			},
			messages : {
				ghosttown : 'Ciudad fantasma',
				no_cities : 'No hay ciudades en esta isla',
				all : 'Todo',
				export : 'Convertir mensaje en cÃ³digos BB'
			},
			caves : {
				stored_silver : 'Monedas de plata almacenables',
				silver_to_store : 'Monedas de plata Almacenadas',
				name : 'Nombre',
				wood : 'Madera',
				stone : 'Piedra',
				silver : 'Monedas de plata'
			},
            buttons: {
                sav: "Guardar", ins: "Insertar", res: "Reinicio"
            }
        },
        ar: {},
        //////////////////////////////////////////////
        //   Portuguese (BR) Translation by  HELL   //
        //////////////////////////////////////////////
        br: {
            settings: {
                dsc: "DIO-Tools oferece, entre outras coisas, algumas telas, uma caixa de smiley, opÃ§Ãµes de comÃ©rcio <br> e algumas alteraÃ§Ãµes no layout.",
                act: "Ativar/desativar recursos do conjunto de ferramentas:",
                prv: "PrÃ©-visualizaÃ§Ã£o de vÃ¡rios recursos:",

                version_old: "VersÃ£o nÃ£o estÃ¡ atualizada",
                version_new: "VersÃ£o estÃ¡ atualizada",
                version_dev: "VersÃ£o do desenvolvedor",

                version_update: "AtualizaÃ§Ã£o",

                //link_forum: "http://forum.en.grepolis.com/showthread.php?52104&goto=newpost",
                link_contact: "https://br.forum.grepolis.com/index.php?threads/script-dio-tools-david1327.23781/",

                /*forum: "Forum",
                author: "Autor",*/

                cat_units: "Unidades",
                cat_icons: "Ãcones nas Cidades",
                cat_forum: "Forum",
                cat_trade: "ComÃ©rcio",
                cat_wonders: "Maravilhas do Mundo",
                cat_layout: "Layout",
                cat_other: "Outros"
            },
            options: {
                // bir: ["Contador de Birremes", "Conta as biremes da cidade na cidade"],
                ava: ["VisÃ£o Geral da unidade", "Indica as unidades de todas as cidades"], // ?
                sml: ["Smilies", "Estende o bbcode com uma caixa de smiley"],
                str: ["ForÃ§a das Tropas", "Adiciona quadros de forÃ§a das tropas em diversas Ã¡reas"],
                tra: ["Capacidade de Transporte", "Mostra a capacidade de transporte ocupado e disponÃ­vel no menu de unidades"],
                per: ["Percentual de comÃ©rcio", "Estende-se a janela de comÃ©rcio com um percentual de comÃ©rcio"],
                rec: ["ComÃ©rcio para recrutamento", "Estende-se a janela de comÃ©rcio com um comÃ©rcio de recrutamento"],
                cnt: ["Conquistas", "Conta os ataques/apoios na janela de conquista"],
                way: ["Velocidade da Tropa", "Displays mostram a possivÃ©l velocidade de tropa na janela de ataque/suporte"],
                sim: ["Simulador", "AdaptaÃ§Ã£o do layout simulador & exposiÃ§Ã£o permanente da caixa poderes estendida"],
                act: ["Ativar caixas suspensas de comÃ©rcio e ataque", "Melhorias da exibiÃ§Ã£o de caixas de comÃ©rcio e recrutamento (com memÃ³ria de posiÃ§Ã£o)"],
                pop: ["Caixa de favores divino", "Altera a caixa de favores divino por um novo layout"],
                tsk: ["Barra de tarefas", "Aumenta a barra de tarefas"],
                rew: ["Recompensa diÃ¡ria", "Minimiza a janela recompensa diÃ¡ria no inicio"],
                bbc: ["Pedido de Apoio", "Estende a barra de bbcode com uma forma de Pedido de Apoio AutomÃ¡tica"],
                com: ["ComparaÃ§Ã£o de Unidades", "Adiciona tabelas de comparaÃ§Ã£o de unidade"],
                tic: ["Ãcones nas Cidades", "Cada cidade recebe um Ã­cone para o tipo de tropas na cidade (detecÃ§Ã£o automÃ¡tica) "," Ãcones adicionais estÃ£o disponÃ­veis para seleÃ§Ã£o manual"],
                til: ["Lista das Cidades", "Adiciona os Ã­cones da cidade na lista de cidades"],
                tim: ["Mapa", "Mostra os Ã­cones das cidades no mapa estratÃ©gico"],
                wwc: ["Calculadora de WW", "CÃ¡lculo compartilhado & contador de recursos + botÃµes anterior e prÃ³xima maravilhas do mundo (atualmente nÃ£o desactivÃ¡vel!)"],
                wwr: ["ClassificaÃ§Ã£o", "ClassificaÃ§Ã£o das maravilha do mundo redesenhadas"],
                wwi: ["Icones", 'Adiciona Ã­cones nas maravilha do mundo no mapa estratÃ©gico'],
                con: ["Menu de Contexto", 'Troca da "Selecione cidade" e "VisÃ£o Geral da Cidade" no menu de contexto'],
                sen: ["Unidades Enviadas", 'Shows sent units in the attack/support window'],
                tov: ["VisÃ£o da Cidade", 'Substitui o novo panorama da cidade, com o estilo da janela antiga'],
                scr: ["Roda do Mouse", 'VocÃª pode alterar os pontos de vista com a roda do mouse'],
                Scr: ["Barra de rolagem", 'Alterar o estilo da barra de rolagem', 'DisponÃ­vel no Chrome, Opera, Safari'],
                tow: ["BBCode city", "Adiciona o bbcode da cidade Ã  guia cidade"],
                Fdm: ["Selecione e exclua vÃ¡rias mensagens", "VocÃª pode excluir mais de uma mensagem. FunÃ§Ã£o Quack"],
                Sel: ["Adicionar (Sem sobrecarga / Excluir)", "Melhoria de novas ferramentas na janela de ataque e suporte. FunÃ§Ã£o Quack"],
                Cul: ["VisÃ£o geral da cultura (Administrador)", "Adicionar um contador para a festa na visualizaÃ§Ã£o de cultura. FunÃ§Ã£o Quack"],
                Hot: ["Atalhos do teclado para Windows", "Isso muda sua vida"],
                Isl: ["VisualizaÃ§Ã£o da ilha", "Aumentar a altura da lista de cidades e vilas. FunÃ§Ã£o charlatÃ£o"],
                Ish: ["VisÃ£o geral das aldeias camponesas (capitÃ£o)", "Ocultar automaticamente a cidade. (FunÃ§Ãµes no desenvolvimento)"],
                Hio: ["VisÃ£o geral das Grutas (Administrador)", "Permitir o filtro de cidades"],
                Hid: ["Gruta", "Digite prata acima 15000 automaticamente no campo"],

                err: ["Enviar automaticamente relatÃ³rios de erros", "Se vocÃª ativar essa opÃ§Ã£o, vocÃª pode ajudar a identificar erros."],
                her: ["Conquista Thracian", "ReduÃ§Ã£o de tamanho do mapa da conquista Thracian."]
            },
            labels: {
                uni: "VisÃ£o Geral da unidade",
                total: "Global",
                available: "DisponÃ­vel",
                outer: "Fora",
                con: "Selecionar cidade",
                // Smileys
                std: "PadrÃ£o",
                gre: "Grepo",
                nat: "Natural",
                ppl: "Popular",
                oth: "Outros",
                hal: "Halloween",
                xma: "Natal",
                // Defense form
                ttl: "Pedido de Apoio",
                inf: "InformaÃ§Ã£o da cidade:",
                dev: "Desvio",
                det: "Unidades Detalhadas",
                prm: "BÃ´nus Premium",
                sil: "Prata na Gruta",
                mov: "MovimentaÃ§Ã£o de Tropas:",
                // WW
                leg: "WW Maravilhas",
                stg: "Level",
                tot: "Total",
                // Simulator
                str: "ForÃ§a das Unidades",
                los: "Perdas",
                mod: "Sem modificador de influÃªncia",
                // Comparison box
                dsc: "ComparaÃ§Ã£o de unidades",
                hck: "Impacto",
                prc: "Corte",
                dst: "ArremÃ§o",
                sea: "Naval",
                att: "Ofensivo",
                def: "Defensivo",
                spd: "Velocidade",
                bty: "Saque (recursos)",
                cap: "Capacidade de trasporte",
                res: "Custo (recursos)",
                fav: "Favor",
                tim: "Tempo de recrutamento (s)",
                // Trade
                rat: "ProporÃ§Ã£o de recursos de um tipo de unidade",
                shr: "A partir do armazenamento sobre a cidade de destino",
                per: "Percentual de comÃ©rcio",
                // Sent units box
                lab: "Unidades enviadas",
                improved_movement: "MovimentaÃ§Ã£o de tropas com ajuste de bÃ´nus",
                donat: "DoaÃ§Ãµes",
                Tran: "TraduÃ§Ãµes",
                Happy: "Feliz Ano Novo!",
                Merry: "Ho ho ho feliz Natal!",
                tow: "BBCode city",
                ingame_name : ["NÃ£o hesite em me contatar se vocÃª prefere ser chamado pelo seu nick de jogo","Como se trata de muito trabalho e pode ser muito Eu sou sempre muito grato por qualquer tipo de apoio demorado. Portanto, eu gostaria de agradecer a todos que ofereceram apoio para este projecto - seja atravÃ©s de doaÃ§Ãµes , o conhecimento, a criatividade, relatÃ³rios de bugs ou apenas algumas palavras de incentivo."]
            },
            tutoriel: {
                tuto: "InformaÃ§Ãµes Ãºteis",
                reme: ["AgradeÃ§o a todos que contribuÃ­ram para o desenvolvimento de DIO-TOOLS-David1327", ""]
            },
            Quack: {
                // delete multiple forum
                delete : "Excluir vÃ¡rias mensagens",
                delete_sure : "VocÃª realmente quer apagar essas mensagens?",
                no_selection : "Nenhuma mensagem selecionada",
                mark_All: "Marcar todos",
                //select unit shelper
                no_overload : 'Sem sobrecarga',
                delete : 'Excluir',
                //culture Overview
                cityfestivals : 'Festival Urbano',
                olympicgames : 'Jogos OlÃ­mpicos',
                triumph : 'Desfile da VitÃ³ria',
                theater : 'PeÃ§as de Teatro'
            },
            hotkeys : {
				hotkeys : 'Teclas de atalho',
				Senate : 'Senado',
				city_select : 'SeleÃ§Ã£o Cidade',
				last_city : 'Ãltima cidade',
				next_city : 'PrÃ³xima cidade',
				jump_city : 'Ir para a cidade atual',
				administrator : 'Administrador',
				captain : 'CapitÃ£o',
				trade_ov : 'Troca',
				command_ov : 'Comandos',
				recruitment_ov : 'Recrutamento',
				troop_ov : 'VisÃ£o geral das tropasa',
				troops_outside : 'Tropas no exterior',
				building_ov : 'EdifÃ­cios',
				culture_ov : 'Cultura',
				gods_ov : 'Deuses',
				cave_ov : 'Grutas',
				city_groups_ov : 'Grupos de cidades',
				city_list : 'Lista de cidades',
				attack_planner : 'Planejador de ataques',
				farming_villages : 'Aldeias bÃ¡rbaras',
				menu : 'Menu',
				city_view : 'Vista da cidade',
				messages : 'Mensagens',
				reports : 'RelatÃ³rios',
				alliance : 'AlianÃ§a',
				alliance_forum : 'FÃ³rum da alianÃ§a',
				settings : 'ConfiguraÃ§Ãµes',
				profile : 'Perfil',
				ranking : 'PosiÃ§Ã£o',
				notes : 'Notas',
				chat : 'Chat',
				council : 'Conselho de HerÃ³is'
			},
			caves : {
				stored_silver : 'Moedas de prata armazenadss',
				silver_to_store : 'Moedas de prata armazenÃ¡veis',
				name : 'Nome',
				wood : 'Madeira',
				stone : 'Pedra',
				silver : 'Moedas de prata'
			},
			messages : {
				ghosttown : 'Cidade-fantasma',
				no_cities : 'Nenhuma cidade nesta ilha',
				all : 'Tudo',
				export : 'Converter mensagem em BB-Code'
			},
            buttons: {
                sav: "Salvar", ins: "Inserir", res: "Resetar"
            }
        },
        pt : {},
        //////////////////////////////////////////////
        //       Czech Translation by Piwus         //
        //////////////////////////////////////////////
        cz: {
            settings: {
                dsc: "DIO-Tools nabÃ­zÃ­,mimo jinÃ©,nÄkterÃ¡ novÃ¡ zobrazenÃ­,okÃ©nko smajlÃ­kÅ¯,<br>obchodnÃ­ moÅ¾nosti a nÄkterÃ© zmÄny v rozloÅ¾enÃ­ panelÅ¯.",
                act: "Aktivovat/Deaktivovat funkce  sady nÃ¡strojÅ¯:",
                prv: "UkÃ¡zka nÄkolika funkcÃ­:",

                version_old: "Verze je zastaralÃ¡",
                version_new: "Verze je aktuÃ¡lnÃ­",
                version_dev: "VÃ½vojÃ¡ÅskÃ¡ verze",

                version_update: "Aktualizovat",

                //link_forum: "http://forum.en.grepolis.com/showthread.php?52104&goto=newpost",
                link_contact: "https://cz.forum.grepolis.com/index.php?threads/script-dio-tools-david1327.8478/",

                /*forum: "Forum",
                author: "Forum",*/

                cat_units: "Jednotky",
                cat_icons: "Ikony mÄst",
                cat_forum: "Forum",
                cat_trade: "Obchod",
                cat_wonders: "Div svÄta",
                cat_layout: "Okna",
                cat_other: "OstatnÃ­"
            },
            options: {
                // bir: ["PoÄÃ­tadlo birÃ©m", "SpoÄÃ­tÃ¡ kaÅ¾dÃ© birÃ©my ve mÄstech a seÄte je."],
                ava: ["Jednotky PÅehled", "OznaÄuje jednotky vÅ¡emi mÄsty"], // ?
                sml: ["SmajlÃ­ci", "RozÅ¡iÅuje panel BBkodÅ¯ okÃ©nkem smajlÃ­kÅ¯"],
                str: ["SÃ­la jednotek", "PÅidÃ¡vÃ¡ tabulku sil jednotek v rÅ¯znÃ½ch  oblastech"],
                tra: ["TransportnÃ­ kapacita", "Zobrazuje obsazenou a dostupnou transportnÃ­ kapacitu v nabÃ­dce jednotek"],
                per: ["ProcentuÃ¡lnÃ­ obchod", "RozÅ¡iÅuje obchodnÃ­ okno moÅ¾nostÃ­ procentuÃ¡lnÃ­ho obchodu"],
                rec: ["Obchod rekrutace", "RozÅ¡iÅuje obchodnÃ­ okno moÅ¾nostÃ­ obchodem pro rekrutaci"],
                cnt: ["DobÃ½vÃ¡nÃ­", "PoÄÃ­tÃ¡ Ãtok/Obrana v oknÄ dobÃ½vÃ¡nÃ­ (pouze vlastnÃ­ dobÃ½vÃ¡nÃ­ zatÃ­m)"],
                way: ["Rychlost vojsk", "Zobrazuje vylepÅ¡enou rychlost vojsk v oknÄ Ãºtoku/obrany"],
                sim: ["SimulÃ¡tor", "PÅizpÅ¯sobenÃ­ rozloÅ¾enÃ­ simulÃ¡toru & permanentnÃ­ zobrazovÃ¡nÃ­ rozÅ¡Ã­ÅenÃ©ho okna modifikÃ¡toru"],
                act: ["AktivnÃ­ okÃ©nka", "ZlepÅ¡enÃ½ zobrazenÃ­ obchodÅ¯ a vojsk aktivnÃ­mi okÃ©nky (pozice pamÄti)"],
                pop: ["VyskakovacÃ­ okÃ©nko pÅÃ­znÄ", "ZmÄnÃ­ vyskakovacÃ­ okno seznamu pÅÃ­znÃ­"],
                tsk: ["HlavnÃ­ panel", "ZvyÅ¡uje hlavnÃ­ panel"],
                rew: ["DennÃ­ odmÄny", "Minimalizuje bonus dennÃ­ odmÄny po pÅihlÃ¡Å¡enÃ­"],
                bbc: ["ObrannÃ© hlÃ¡Å¡enÃ­", "RozÅ¡iÅuje panel BBkodÅ¯ automatickÃ©m hlÃ¡Å¡enÃ­ obrany mÄsta"],
                com: ["PorovnÃ¡nÃ­ jednotek", "PÅidÃ¡vÃ¡ tabulku porovnÃ¡nÃ­ jednotek"],
                tic: ["Ikony mÄst", "KaÅ¾dÃ© mÄsto dostÃ¡vÃ¡ svojÃ­ ikonku dle typu mÄsta (automatickÃ¡ detekce)", "DalÅ¡Ã­ ikonky jsou k dispozici manuÃ¡lnÄ"],
                til: ["Seznam mÄst", "PÅidÃ¡vÃ¡ ikony mÄst do seznamu mÄst"],
                tim: ["Mapa", "PÅidÃ¡vÃ¡ ikony mÄst na stategickou mapu"],
                wwc: ["KalkulaÄka", "VÃ½poÄet podÃ­lu & poÄÃ­tadlo surovin  + pÅedchozÃ­ & dalÅ¡Ã­ tlaÄÃ­tka  na dokonÄenÃ½ch divech svÄta (aktuÃ¡lnÄ nelze deaktivovat!)"],
                wwr: ["Å½ebÅÃ­Äek", "PÅedÄlanÃ½ Å¾ebÅÃ­Äek divÅ¯ svÄta"],
                wwi: ["Ikony", 'PÅÃ­dÃ¡vÃ¡ ikony divÅ¯ svÄta na strategickou mapu'],
                con: ["KontextovÃ© menu", 'VymÄÅuje "Vybrat mÄsto" a "PÅehled mÄsta" v kontextovÃ©m menu'],
                sen: ["OdeslanÃ© jednotky", 'Zobrazuje odeslanÃ© jednotky Ãºtoku/obrany v oknÄ'],
                tov: ["PÅehled mÄsta", 'Nahrazuje novÃ½ pÅehled mÄst starÅ¡Ã­m stylem okna'],
                scr: ["KoleÄko myÅ¡i", 'MÅ¯Å¾eÅ¡ zmÄnit pohledy s koleÄkem myÅ¡i'],
                Scr: ["PosuvnÃ­k", 'ZmÄÅte styl posuvnÃ­ku', 'K dispozici v Chrome, Opera, Safari'],
                tow: ["BBCode mÄsto", "PÅidÃ¡ bbcode mÄsta na kartu mÄsta"],
                Fdm: ["Vyberte a smaÅ¾te nÄkolik zprÃ¡v", "MÅ¯Å¾ete smazat vÃ­ce neÅ¾ jednu zprÃ¡vu. Funkce Quack"],
                Sel: ["PÅidat (Bez pÅeloÅ¾enÃ­ / Smazat)", "VylepÅ¡enÃ­ novÃ½ch nÃ¡strojÅ¯ v oknÄ Ãºtoku a podpory. Funkce Quack"],
                Cul: ["PÅehled kultury (SprÃ¡vce)", "PÅidejte ÄÃ­taÄ strany v zobrazenÃ­ kultury. Funkce Quack"],
                Hot: ["KlÃ¡vesovÃ© zkratky pro Windows", "ZmÄnÃ­ to vÃ¡Å¡ Å¾ivot"],
                Isl: ["Vizualizace ostrova", "ZvÄtÅ¡ete vÃ½Å¡ku seznamu mÄst a vesnic. Quack funkce"],
                Ish: ["PÅehled rolnickÃ½ch vesnic (kapitÃ¡n)", "Automaticky skrÃ½t mÄsto. (Funkce ve vÃ½voji)"],
                Hio: ["PÅehled jeskynÃ­ (SprÃ¡vce)", "Povolit ÅazenÃ­ mÄst. Quack funkce"],
                Hid: ["JeskynÄ", "Automaticky vklÃ¡dat do vstupnÃ­ho pole stÅÃ­brnÃ© mince nad 15 000. Quack funkce"],

                err: ["HlÃ¡sit chyby automaticky", "Pokud aktivujeÅ¡ tuto moÅ¾nost,pomÅ¯Å¾eÅ¡ nÃ¡m identifikovat chyby."],
                her: ["ThrÃ¡ckÃ© dobÃ½vÃ¡nÃ­", "Redukuje mapy ThrÃ¡ckÃ©ho dobÃ½vÃ¡nÃ­."]
            },
            labels: {
                uni: "Jednotky PÅehled",
                total: "CelkovÃ½",
                available: "K dispozici",
                outer: "VnÄ",
                con: "Zvolit mÄsto",
                // Smileys
                std: "StandartnÃ­",
                gre: "Grepo",
                nat: "PÅÃ­roda",
                ppl: "Lidi",
                oth: "OstatnÃ­",
                hal: "Halloween",
                xma: "VÃ¡noce",
                // Defense form
                ttl: "PÅehled: Obrana mÄsta",
                inf: "Informace o mÄstÄ:",
                dev: "Odchylka",
                det: "PodrobnÃ© pozemnÃ­ jednotky",
                prm: "PrÃ©miovÃ© bonusy",
                sil: "Objem stÅÃ­bra",
                mov: "Pohyby vojsk:",
                // WW
                leg: "PodÃ­l divu svÄta",
                stg: "StupeÅ",
                tot: "Celkem",
                // Simulator
                str: "SÃ­la jednotek",
                los: "ZtrÃ¡ta",
                mod: "bez vlivu modifikÃ¡toru",
                // Comparison box
                dsc: "PorovnÃ¡nÃ­ jednotek",
                hck: "SeÄnÃ©",
                prc: "BodnÃ©",
                dst: "StÅelnÃ©",
                sea: "MoÅe",
                att: "ÃtoÄnÃ©",
                def: "ObrannÃ©",
                spd: "Rychlost",
                bty: "KoÅist (suroviny)",
                cap: "TransportnÃ­ kapacita",
                res: "NÃ¡klady (suroviny)",
                fav: "PÅÃ­zeÅ",
                tim: "Doba rekrutovÃ¡nÃ­ (s)",
                // Trade
                rat: "PomÄr surovin typu jednotky",
                shr: "PodÃ­l na ÃºloÅ¾nÃ© kapacitÄ cÃ­lovÃ©ho mÄsta",
                per: "ProcentuÃ¡lnÃ­ obchod",
                // Sent units box
                lab: "OdeslanÃ© jednotky",
                improved_movement: "VylepÅ¡enÃ½ pohyb jednotek",
                donat: "Dary",
                Tran: "PÅeklady",
                Happy: "Å Å¥astnÃ½ novÃ½ rok!",
                Merry: "Ho Ho Ho, VeselÃ© VÃ¡noce!",
                tow: "BBCode mÄsto",
                ingame_name : ["NevÃ¡hejte mÄ kontaktovat, pokud chcete bÃ½t volÃ¡n svÃ½m hernÃ­m jmÃ©nem","ProtoÅ¾e je tato prÃ¡ce nÃ¡roÄnÃ¡, a to i ÄasovÄ, jsem vÅ¾dy vdÄÄnÃ½ za jakoukoliv VaÅ¡i podporu. Proto chci podÄkovat kaÅ¾dÃ©mu, kdo tomuto projektu jakkoliv pomohl - buÄto skrze dary nebo, znalostÃ­, kreativitou, hlÃ¡Å¡enÃ­m chyb nebo pouze povzbudivÃ½mi slovy."]
            },
            tutoriel: {
                tuto: "UÅ¾iteÄnÃ© informace",
                reme: ["DÄkuji vÅ¡em, kteÅÃ­ se podÃ­leli na vÃ½voji DIO-TOOLS-David1327", ""]
            },
            Quack: {
                // delete multiple forum
                delete : "OdstraÅte vÃ­ce zprÃ¡v",
                delete_sure : "Opravdu chcete smazat tyto pÅÃ­spÄvky?",
                no_selection : "Nebyly vybrÃ¡ny Å¾Ã¡dnÃ© pÅÃ­spÄvky",
                mark_All: "OznaÄit vÅ¡e",
                //select unit shelper
                no_overload : 'Bez pÅeloÅ¾enÃ­',
                delete : 'Smazat',
                //culture Overview
				cityfestivals : 'MÄstskÃ© slavnosti',
				olympicgames : 'OlympijskÃ© hry',
				triumph : 'SlavnostnÃ­ pochody',
				theater : 'DivadelnÃ­ hry'
            },
            hotkeys : {
				hotkeys : 'HorkÃ© klÃ¡vesy',
				Senate : 'SenÃ¡t',
				city_select : 'VÃ½bÄr mÄsta',
				last_city : 'PÅedchozÃ­ mÄsto',
				next_city : 'NÃ¡sledujÃ­cÃ­ mÄsto',
				jump_city : 'PÅejÃ­t na aktuÃ¡lnÃ­ mÄsto',
				administrator : 'SprÃ¡vce',
				captain : 'KapitÃ¡n',
				trade_ov : 'Obchod',
				command_ov : 'Rozkazy',
				recruitment_ov : 'RekrutovÃ¡nÃ­',
				troop_ov : 'PÅehled vojsk',
				troops_outside : 'Vojsko mimo',
				building_ov : 'Budovy',
				culture_ov : 'Kultura',
				gods_ov : 'BohovÃ©',
				cave_ov : 'JeskynÄ',
				city_groups_ov : 'Skupiny mÄst',
				city_list : 'Seznam mÄst',
				attack_planner : 'PlÃ¡novaÄ ÃºtokÅ¯',
				farming_villages : 'ZemÄdÄlskÃ© vesnice',
				city_view : 'PÅehled mÄsta',
				messages : 'ZprÃ¡vy',
				reports : 'HlÃ¡Å¡enÃ­',
				alliance : 'Aliance',
				alliance_forum : 'FÃ³rum aliance',
				settings : 'NastavenÃ­',
				profile : 'Profil',
				ranking : 'Å½ebÅÃ­Äek',
				notes : 'PoznÃ¡mky',
				council : 'ShromÃ¡Å¾dÄnÃ­ hrdinÅ¯'
			},
			messages : {
				ghosttown : 'MÄsto duchÅ¯',
				no_cities : 'Na tomto ostrovÄ nejsou Å¾Ã¡dnÃ¡ mÄsta',
				all : 'vÅ¡e',
				export : 'Zkonvertuj zprÃ¡vu do BB-kÃ³du'
			},
			caves : {
				stored_silver : 'UloÅ¾enÃ© stÅÃ­brnÃ© mince',
				name : 'JmÃ©no',
				wood : 'DÅevo',
				stone : 'KÃ¡men',
				silver : 'StÅÃ­brnÃ© mince'
			},
            buttons: {
                sav: "UloÅ¾it", ins: "VloÅ¾it", res: "Resetovat"
            }
        },
        //////////////////////////////////////////////
        //     Romanian Translation by Nicolae01    //
        //////////////////////////////////////////////
        ro: {
            settings: {
                dsc: "DIO-Tools oferÄ, printre altele, cÃ¢teva afiÈaje, emoticoane, opÈiuni de tranzacÈionare Èi unele modificÄri ale aspectului.",
                act: "ActivaÈi / dezactivaÈi caracteristicile instrumentelor:",
                prv: "Previzualizarea mai multor funcÈii:",

                version_old: "Versiunea nu este la zi",
                version_new: "Versiunea este la zi",
                version_dev: "Versiunea dezvoltatorului",

                version_update: "Versiune la zi",

                link_contact: "https://ro.forum.grepolis.com/index.php?threads/script-dio-tools-david1327.12961/",

                forum: "Tutorialul lui david1327",
                author: "Forum",

                cat_units: "UnitÄÈi",
                cat_icons: "IconiÈele pentru oraÈe",
                cat_forum: "Forum",
                cat_trade: "Magazin",
                cat_wonders: "Minunile Lumii",
                cat_layout: "SchemÄ",
                cat_other: "Diverse"
            },
            options: {
                bir: ["Contor de bireme", "NumÄrÄ cÃ¢te bireme sunt Ã®n oraÈe Èi face suma lor"],
                ava: ["Vedere de ansamblu a unitÄÈilor", "NumÄrÄ unitÄÈile din fiecare oraÈ Èi face suma lor"],
                ava2: ["NumÄrul mÄrii", "Unitate de extensie"],
                sml: ["Emoticoane", "Extinde bb-cod-ul printr-o barÄ de emoticoane"],
                str: ["Puterea unitÄÈii", "AdÄugÄ tabele de rezistenÈÄ a unitÄÈii Ã®n diferite zone"],
                tra: ["Capacitate de transport", "AratÄ locurile de transport ocupate Èi libere Ã®n meniul unitÄÈilor"],
                per: ["ComerÈ procentual", "Extinde Ã®n fereastra de comerÈ o tranzacÈie procentualÄ"],
                rec: ["Recrutarea comerÈului", "Extinde Ã®n fereastra de comerÈ un comerÈ de recrutare"],
                cnt: ["Cuceriri", "NumÄrÄ atacurile/suporturile din fereastra de cucerire"],
                way: ["Viteza unitÄÈilor", "AfiÈeazÄ viteza Ã®mbunÄtÄÈitÄ a trupelor Ã®n fereastra de atac / sprijin"],
                sim: ["Simulator", "Adaptarea simulatorului Èi afiÈarea permanentÄ a vrÄjilor Èi bonusurilor"],
                act: ["Cutii de activitate", "AfiÈare Ã®mbunÄtÄÈitÄ a ferestrelor de comerÈ Èi de activitÄÈi (poziÈie memoratÄ)"],
                pop: ["FereastrÄ Favoruri", "ModificÄ fereastra favorurilor"],
                tsk: ["Bara De ActivitÄÈi", "CreÈte bara de activitÄÈi"],
                rew: ["Recompense zilnice", "MinimizeazÄ fereastra de recompense zilnice la pornire"],
                bbc: ["Forma de apÄrare", "Extinde fereastra bb-code-ului Ã®ntr-un formular de apÄrare automatÄ"],
                com: ["ComparaÈia unitÄÈilor", "AdÄugÄ tabele de comparare a unitÄÈilor"],
                tic: ["IconiÈele oraÈelor", "Fiecare oraÈ primeÈte o iconiÈÄ pentru tipul oraÈului (detectare automatÄ)", "IconiÈe suplimentare sunt disponibile pentru selectarea manualÄ"],
                til: ["Lista oraÈelor", "Adds the town icons to the town list"],
                tim: ["HartÄ", "SeteazÄ iconiÈa oraÈului pe hartÄ"],
                wwc: ["Calculator", "Ãmparte calculul Èi contorizarea resurselor + butoanele anterioare Èi urmÄtoare pentru minunile lumii finalizate (momentan nu pot fi dezactivate!)"],
                wwr: ["Ranking", "Clasamentul minunilor lumii refÄcut"],
                wwi: ["IconiÈe", 'AdaugÄ iconiÈa pentru minunile lumii pe hartÄ'],
                con: ["Meniu contextual", 'SchimbÄ âSelectaÈi oraÈulâ Èi âPrezentare generalÄ a oraÈuluiâ din meniul contextual'],
                sen: ["UnitÄÈi trimise", 'AratÄ unitÄÈile trimise Ã®n fereastra de atac/sprijin'],
                tov: ["Prezentare generalÄ a oraÈului", 'ÃnlocuieÈte noua privire a oraÈului cu stilul vechi al ferestrei'],
                scr: ["RotiÈÄ Mouse", 'PuteÈi schimba vizionÄrile cu rotiÈa mouse-ului'],
                Scr: ["Scrollbar", 'SchimbÄ stilul scrollbar-ului', 'Disponibil pe Chrome, Opera, Safari'],
                tow: ["OraÈul BBCode", "AdÄugaÈi bbcode-ul oraÈului la fila localitÄÈii"],
                Fdm: ["SelectaÈi Èi ÈtergeÈi mai multe mesaje", "PuteÈi Èterge mai multe mesaje. FuncÈia Quack"],
                Sel: ["AdÄugare (Nu supraincarcati / Sterge)", "ÃmbunÄtÄÈirea noilor instrumente Ã®n fereastra de atac Èi sprijin. FuncÈia Quack"],
                Cul: ["Prezentare culturalÄ (Administrator)", "AdÄugaÈi un contor pentru petrecere Ã®n vizualizarea culturii. FuncÈia Quack"],
                Hot: ["Comenzi rapide pentru tastaturÄ pentru Windows", "ÃÈi schimbÄ viaÈa"],
                Isl: ["Vizualizarea insulei", "CreÈterea Ã®nÄlÈimii listei de oraÈe Èi sate. FuncÈia Quack"],
                Ish: ["Prezentare generalÄ a satelor ÈÄrÄneÈti (cÄpitan)", "AscundeÈi automat oraÈul. (FuncÈii Ã®n dezvoltare)"],
                Hio: ["Privire de ansamblu asupra pesterilor (Administrator)", "Permite sortarea oraselor. FuncÈia Quack"],
                Hid: ["Pestera", "Introdu 1500 monede de argint automat in campul selectat. FuncÈia Quack"],

                err: ["Trimite rapoarte de eroare automatic", "DacÄ activezi aceastÄ opÈiune, poÈi ajuta Ã®n identificarea erorilor."],
                her: ["Cucerirea TracicÄ", "Reducerea hÄrÈii cuceririi tracice."],
                // Town icons
                LandOff: "Atac Terestru",
                LandDef: "ApÄrare TerestrÄ",
                NavyOff: "Atac Naval",
                NavyDef: "ApÄrare NavalÄ",
                FlyOff: "ZburÄtoare ofensive",
                FlyDef: "ZburÄtoare defensive",
                Out: "AfarÄ",
                Emp: "Gol"
            },
            labels: {
                uni: "Vedere de ansamblu unitÄÈi",
                total: "Total",
                available: "Disponibile",
                outer: "AfarÄ",
                con: "Alege oraÈul",
                // Smileys
                std: "Standard",
                gre: "Grepolis",
                nat: "NaturÄ",
                ppl: "Oameni",
                Par: "Petrecere",
                oth: "Altele",
                hal: "Halloween",
                xma: "CrÄciun",
                eas: "PaÈte",
                lov: "Dragoste",
                // Defense form
                ttl: "Vedere de ansamblu: ApÄrarea oraÈului",
                inf: "InformaÈiile oraÈului:",
                dev: "Deviere",
                det: "Detalii unitÄÈi terestre",
                prm: "Bonusurile premium",
                sil: "Volumul argintului",
                mov: "MiÈcÄrile trupelor:",
                // WW
                leg: "ML Participare",
                stg: "Stagiu",
                tot: "Total",
                // Simulator
                str: "Puterea unitÄÈilor",
                los: "Pierderi",
                mod: "fÄrÄ modificator de influenÈÄ",
                // Comparison box
                dsc: "Comparare unitÄÈi",
                hck: "NeascuÈit",
                prc: "AscuÈit",
                dst: "DistanÈÄ",
                sea: "Naval",
                att: "Ofensiv",
                def: "Defensiv",
                spd: "VitezÄ",
                bty: "PradÄ de rÄzboi (resurse)",
                cap: "Capacitate de transport",
                res: "Cost (resurse)",
                fav: "Favoruri",
                tim: "Timp de recrutare (s)",
                // Trade
                rat: "Raportul resurselor faÈÄ de tipul de unitate",
                shr: "Ponderarea capacitÄÈii de stocare a oraÈului ÈintÄ",
                per: "Procent resurse",
                // Sent units box
                lab: "UnitÄÈi trimise",
                improved_movement: "MiÈcare Ã®mbunÄtÄÈitÄ a trupelor",
                donat: "DonaÈii",
                Tran: "Traduceri",
                Happy: "An Nou Fericit!",
                Merry: "Ho Ho Ho, CrÄciun fericit!",
                tow: "OraÈul BBCode",
                ingame_name : ["Nu ezita sa ma contactezi daca preferi sa fi numit dupa numele de joc",""]
            },
            tutoriel: {
                tuto: "InformaÈii utile",
                reme: ["MulÈumesc tuturor celor care au contribuit dezvoltÄrii DIO-Tools", ""],

                Trou: ["Tutorial SpecializÄri Trupe Grepolis - Tutorialul lui david1327", "Tot ce trebuie sÄ Èti despre puterile / slÄbiciunile trupelor de pe Grepolis"],
                util: ["Site-uri utilitare pentru Grepolis - Tutorialul lui david1327", "O multitudine de unelte pentru Grepolis: Statisticici, HÄrÈi, Unelte, Scripturi, Forum ... toate sunt listate aici."]
            },
            Quack: {
                // delete multiple forum
                delete : "ÈtergeÈi mai multe mesaje",
                delete_sure : "Esti sigur ca vrei sa stergi acest post?",
                no_selection : "Nici un post selectat",
                mark_All: "MarcheazÄ-le pe toate",
                //select unit shelper
                no_overload : 'Nu supraincarcati',
                delete : 'Sterge',
                //culture Overview
				cityfestivals : 'Festival oras',
				olympicgames : 'Jocuri olimpice',
				triumph : 'Parada triumfala',
				theater : 'Piese de teatru'
            },
            hotkeys : {
				hotkeys : 'Taste',
				Senate : 'Senat',
				city_select : 'Selectare oras',
				last_city : 'Ultimul oras',
				next_city : 'Urmatorul oras',
				jump_city : 'Salt la orasul curent',
				captain : 'Capitan',
				trade_ov : 'Negot',
				command_ov : 'Comenzi',
				recruitment_ov : 'Recrutare',
				troop_ov : 'Privire de ansamblu a trupelor',
				troops_outside : 'Trupe din afara orasului',
				building_ov : 'Constructii',
				culture_ov : 'Cultura',
				gods_ov : 'Zei',
				cave_ov : 'Pesteri',
				city_groups_ov : 'Grupe orase',
				city_list : 'Lista orase',
				attack_planner : 'Planificator atacuri',
				farming_villages : 'Sate de farmat',
				menu : 'Meniu',
				city_view : 'Vezi oras ',
				messages : 'Mesaje',
				reports : 'Rapoarte',
				alliance : 'Alianta',
				alliance_forum : 'Forum Alianta',
				settings : 'Setari',
				profile : 'Profil',
				ranking : 'Clasament',
				notes : 'Notite',
				council : 'Consiliul eroilor'
			},
			messages : {
				ghosttown : 'Oras fantoma',
				no_cities : 'Nici un oras pe aceasta insula',
				all : 'toate',
				export : 'Converteste mesajul in BB-Code'
			},
			caves : {
				stored_silver : 'Monede de argint stocate',
				silver_to_store : 'Monede de argint ce pot fi stocate',
				name : 'Nume',
				wood : 'Lemn',
				stone : 'Piatra',
				silver : 'Monede de argint '
			},
            buttons: {
                sav: "SalvaÈi", ins: "IntroduceÈi", res: "ResetaÈi"
            },
        },
        //////////////////////////////////////////////
        //   NÃ©erlandais Translation by Firebloem   //
        //////////////////////////////////////////////
        nl: {
            settings: {
                dsc: "DIO-Tools biedt onder andere, enkele displays, een smileybox,<br> handelsopties en enkele wijzigingen in de lay-out.",
                act: "Functies van de toolset activeren/deactiveren:",
                prv: "Voorbeeld van verschillende functies:",

                version_old: "Versie is niet actueel",
                version_new: "Versie is bijgewerkt",
                version_dev: "Ontwikkelaarsversie",

                version_update: "Update",

                link_contact: "https://nl.forum.grepolis.com/index.php?threads/dio-tools-david1327.39609/",

                forum: "Tuto de david1327",
                author: "Forum",

                cat_units: "Eenheden",
                cat_icons: "Stad pictogrammen",
                cat_forum: "Forum",
                cat_trade: "Handel",
                cat_wonders: "Wereld Wonder",
                cat_layout: "Lay-out",
                cat_other: "Diversen"
            },
            options: {
                //bir: ["Biremen teller", "Telt de biremen van een stad en somt deze op"],
                ava: ["Eenheden overzicht", "Telt de eenheden van alle steden"],
                ava2: ["Oceaan nummer", "Uitbreidingseenheid"],
                sml: ["Smileys", "Verlengt de bbcodebalk met een smileytabel"],
                str: ["Eenheidssterkte", "Voegt eenheidstabellen toe op verschillende gebieden"],
                tra: ["Transportcapaciteit", "Toont de bezette en beschikbare transportcapaciteit in het eenhedenmenu"],
                per: ["Procentuele handel", "Verlengt het handelsvenster met een procentuele transactie"],
                rec: ["Wervingshandel", "Vergroot het handelsvenster met een wervingshandel"],
                cnt: ["Verovering", "Telt de aanvallen/ondersteuningen in het veroveringsvenster"],
                way: ["Troepen snelheid", "Toont verbeterde troepsnelheid in het aanval/ondersteuningsvenster"],
                sim: ["Simulator", "Aanpassing van de simulatorlay-out & permanente weergave van de uitgebreide modificatietabel"],
                act: ["Activiteit vakken", "Verbeterde weergave van handels- en troep activiteitentabel (positiegeheugen)"],
                pop: ["Gunst pop-up", "Veranderd de gunst pop-up"],
                tsk: ["Taakbalk", "Vergroot de taakbalk"],
                rew: ["Beloning venster", 'Minimaliseert het dagelijkse belonings venster bij het opstarten'],
                bbc: ["Verdedigingsformulier", "Verlengt de bbcode-balk met een automatisch verdedigingsformulier"],
                com: ["Eenheidsvergelijking", "Voegt eenheid vergelijkingstabellen toe"],
                tic: ["Stad pictogrammen", "Elke stad ontvangt een pictogram voor het stadstype (automatische detectie)"," Extra pictogrammen zijn beschikbaar voor handmatige selectie"],
                til: ["Stedenlijst", "Voegt de stadspictogrammen toe aan de stedenlijst"],
                tim: ["Kaart", "Stelt de stadspictogrammen in op de strategische kaart"],
                wwc: ["Calculator", "Deel berekening & grondstoffen teller + vorige & volgende knoppen op voltooide wereldwonderen (momenteel niet deactiveren!)"],
                wwr: ["Ranking", "Vernieuwde ranglijsten voor wereldwonderen"],
                wwi: ["Pictogrammen", 'Voegt wereldwonderpictogrammen toe op de strategische kaart'],
                con: ["Contextmenu", 'Wisselt "Selecteer stad" en "Stadsoverzicht" in het contextmenu'],
                sen: ["Verzonden eenheden", 'Toont verzonden eenheden in het aanval/ondersteuningsvenster'],
                tov: ["Stadsoverzicht", 'Vervangt het nieuwe stadsoverzicht door de oude vensterstijl'],
                scr: ["Muis wiel", 'U kunt de weergaven wijzigen met het muiswiel'],
                Scr: ["Scrollbar", 'Wijzig de stijl van de schuifbalk', 'Beschikbaar op Chrome, opera, safari'],
                tow: ["Stad bbcode", "Voegt de stad bbcode toe aan het stadstabblad"],
                Fdm: ["Selecteer en verwijder meerdere berichten", "U kunt meer dan Ã©Ã©n bericht verwijderen. Quack-functie"],
                Sel: ["Toevoegen (niet overbelasten / Verwijderen)", "Verbetering van nieuwe tools in het aanvals- en ondersteuningsvenster. Quack-functie"],
                Cul: ["Cultuuroverzicht (Bestuurder)", "Voeg een teller toe voor het feest in de cultuurweergave. Kwakelfunctie"],
                Hot: ["Sneltoetsen voor Windows", "Het verandert je leven"],
                Isl: ["Visualisatie van het eiland", "Verhoog de hoogte van de lijst met steden en dorpen. Quack-functie"],
                Ish: ["Overzicht van boerendorpen (kapitein)", "Verberg automatisch de stad. (Functies in ontwikkeling)"],
                Hio: ["Grottenoverzicht (Bestuurder)", "Het sorteren van steden mogelijk maken. Quack-functie"],
                Hid: ["Grot", "Zilver over 15000 automatisch in het invoerveld toevoegen. Quack-functie"],

                err: ["Stuur automatisch bugrapporten", "Als u deze optie activeert, kunt u helpen bij het identificeren van bugs."],
                her: ["Thracische verovering", "Verkleinen van de kaart van de verovering van ThraciÃ«."],
                // Stadspictogrammen
                LandOff: "Landoffensief",
                LandDef: "Landverdediging",
                NavyOff: "Zee-offensief",
                NavyDef: "Zee-verdediging",
                FlyOff: "Vliegend Offensief",
                FlyDef: "Vliegend Verdediging",
                Out: "Buiten",
                Emp: "Leeg"
            },
            labels: {
                uni: "Eenheden overzicht",
                total: "Totaal",
                available: "Beschikbaar",
                outer: "Buiten",
                con: "Stad selecteren",
                // Smileys
                std: "Standaard",
                gre: "Grepolis",
                nat: "Natuur",
                ppl: "Mensen",
                Par: "Feest",
                oth: "Anders",
                hal: "Halloween",
                xma: "Kerstmis",
                eas: "Pasen",
                lov: "Liefde",
                // Verdedigingsformulier
                ttl: "Overzicht: Stadsverdediging",
                inf: "Stadsinformatie:",
                dev: "Afwijking",
                det: "Gedetailleerde landeenheden",
                prm: "Premium bonussen",
                sil: "Zilver volume",
                mov: "Troepenbewegingen:",
                // WW
                leg: "WW Aandeel",
                stg: "Stadium",
                tot: "Totaal",
                // Simulator
                str: "Eenheidssterkte",
                los: "Verloren",
                mod: "zonder invloed van modificator",
                // vergelijkingstabel
                dsc: "Eenheidsvergelijking",
                hck: "Slag",
                prc: "Steek",
                dst: "Afstand",
                sea: "Zee",
                att: "Offensief",
                def: "Defensief",
                spd: "Snelheid",
                bty: "Buit (grondstoffen)",
                cap: "Transportcapaciteit",
                res: "Kosten (grondstoffen)",
                fav: "Gunst",
                tim: "Bouwtijd (s)",
                // Handel
                rat: "Grondstoffenverhouding van een eenheidstype",
                shr: "Deel van de opslagcapaciteit van de doelstad",
                per: "Procentuele handel",
                // Verzonden eenhedentabel
                lab: "Verzonden eenheden",
                improved_movement: "Verbeterde troepbeweging",
                donat: "Doneren",
                Tran: "Vertalingen",
                Happy: "Gelukkig nieuwjaar!",
                Merry: "Ho Ho Ho, Merry Christmas!",
                tow: "BBCode stad",
                ingame_name : ["Aarzel niet om contact met me op te nemen als je liever gebeld wordt met je bijnaam "," Omdat het een grote hoeveelheid werk is die lang kan duren, ben ik altijd erg dankbaar voor elke vorm van ondersteuning. Daarom wil ik iedereen bedanken die ondersteuning heeft geboden voor dit project, hetzij door donaties, kennis, creativiteit, foutmeldingen of slechts enkele bemoedigende woorden."]
            },
            tutoriel: {
                tuto: "=Grepolis Gidsen=",
                reme: "Ik dank iedereen die heeft bijgedragen aan de ontwikkeling van DIO-Tools",

                Trou: ["Grepolis Troepen Specialisatie Tutorial - tuto de david1327", "Wat u moet weten over de troepen van grepolis, Sterke/zwakke punten van de eenheden"],
                util: ["Hulpprogramma's voor grepolis - Tuto de david1327", "Een veelheid aan tools voor Grepolis: Statistieken, Kaarten, Tools, Script, Forum ... ze worden hier allemaal vermeld."]
            },
            Quack: {
                // delete multiple forum
                delete : "Verwijder meerdere berichten",
                delete_sure : "Wil je deze berichten echt verwijderen?",
                no_selection : "Geen berichten geselecteerd",
                mark_All: "Markeer alles",
                //select unit shelper
                no_overload : 'niet overbelasten',
                delete : 'Verwijderen',
                //culture Overview
				cityfestivals : 'Stadsfeest',
				olympicgames : 'Olympische Spelen',
				triumph : 'Zegetocht',
				theater : 'Theatervoorstellingen'
            },
            hotkeys : {
				hotkeys : 'Sneltoetsen',
				Senate : 'Senaat',
				city_select : 'Stedenkeuze',
				last_city : 'Vorige stad',
				next_city : 'Volgende stad',
				jump_city : 'Spring naar de huidige stad',
				administrator : 'Bestuurder',
				captain : 'Kapitein',
				trade_ov : 'Handel',
				command_ov : 'Bevelen',
				recruitment_ov : 'Rekrutering',
				troop_ov : 'Troepenoverzicht',
				troops_outside : 'Troepen buiten',
				building_ov : 'Gebouwen',
				culture_ov : 'Cultuur',
				gods_ov : 'Goden',
				cave_ov : 'Grotten',
				city_groups_ov : 'Stadsgroepen',
				city_list : 'Stedenlijst',
				attack_planner : 'Aanvalsplanner',
				farming_villages : 'Boerendorpen',
				city_view : 'Stadsoverzicht',
				messages : 'Berichten',
				reports : 'Rapporten',
				alliance : 'Alliantie',
				alliance_forum : 'Alliantieforum',
				settings : 'Instellingen',
				profile : 'Profiel',
				ranking : 'Ranglijst',
				notes : 'Notities',
				council : 'Raad van Helden'
			},
			messages : {
				ghosttown : 'Spookstad',
				no_cities : 'Geen steden op dit eiland',
				all : 'alle',
				export : 'Converteer bericht in BB-code'
			},
			caves : {
				stored_silver : 'Opgeslagen zilverstukken',
				silver_to_store : 'Maximaal op te slaan zilverstukken',
				name : 'Naam',
				wood : 'Hout',
				stone : 'Steen',
				silver : 'Zilverstukken'
			},
            buttons: {
                sav: "Opslaan", ins: "Invoegen", res: "Reset"
            }
        }
    };

    LANG.ar = LANG.es;
    LANG.pt = LANG.br;
    LANG.cs = LANG.cz;

    // Create JSON
    // console.log(JSON.stringify(LANG.en));

    // Forum: Choose language
    if (!(location.pathname.indexOf("game") >= 0)) {
        LID = location.host.split(".")[1];
    }

    console.debug("SPRACHE", LID);
    // Translation GET
    function getText(category, name) {
        var txt = "???";
        if (LANG[LID]) {
            if (LANG[LID][category]) {
                if (LANG[LID][category][name]) {
                    txt = LANG[LID][category][name];
                } else {
                    if (LANG.en[category]) {
                        if (LANG.en[category][name]) {
                            txt = LANG.en[category][name];
                        }
                    }
                }
            } else {
                if (LANG.en[category]) {
                    if (LANG.en[category][name]) {
                        txt = LANG.en[category][name];
                    }
                }
            }
        } else {
            if (LANG.en[category]) {
                if (LANG.en[category][name]) {
                    txt = LANG.en[category][name];
                }
            }
        }
        return txt;
    }

    /*******************************************************************************************************************************
     * Settings
     *******************************************************************************************************************************/

    // (De)activation of the features
    var options_def = {
        bir: true, // Biremes counter
        ava: true, // Available units
        ava2: true, // Available units
        sml: true, // Smileys
        str: true, // Unit strength
        tra: true, // Transport capacity
        per: true, // Percentual Trade
        rec: true, // Recruiting Trade
        way: true, // Troop speed
        cnt: true, // Attack/support counter
        sim: true, // Simulator
        act: true, // Activity boxes
        tsk: true, // Task bar
        pop: true, // Favor popup
        bbc: true, // BBCode bar
        com: true, // Unit comparison
        TEST: false, // Unit comparison
        tic: true, // Town icons
        til: true, // Town icons: Town list
        tim: true, // Town icons: Map
        wwc: true, // World wonder counter
        wwr: false, // World wonder ranking
        wwi: false, // World wonder icons
        con: true, // Context menu
        sen: true, // Sent units
        tov: false,// Town overview
        scr: true, // Mausrad,
        Scr: true, // Scrollbar Style
        Tow: true, // town bb
        Rac: false, // Raccourci
        Rew: true, // minimize Daily Reward
        Fdm: true, // ForumDeleteMultiple
        Sel: true, // selectunitshelper
        Cul: true, // cultureOverview
        Hot: false, // hotkeys
        Isl: true, // islandFarmingVillages
        Ish: false, // islandHeader
        Hio: true, // hidesOverview
        Hid: true, // hidesIndexIron
        Tol: true, // townslist

        err: false,// Error Reports
        her: true	// Thrakische Eroberung
    };

    if (location.pathname.indexOf("game") >= 0) {
        for (var opt in options_def) {
            if (options_def.hasOwnProperty(opt)) {
                if (DATA.options[opt] === undefined) {
                    DATA.options[opt] = options_def[opt];
                }
            }
        }
    }
    var Messageversion = '';
    var version_text = '', version_color = 'black';
    $('<script src="https://greasyfork.org/scripts/391969-dio-tools-david1327-version/code/DIO-TOOLS-David1327-Version.js"></script>').appendTo("head");
    /*if (version == latest_version) {
        HumanMessage.error(getText('settings', 'version_new'));
    } else {
        HumanMessage.error(getText('settings', 'version_dev'));
    }*/
    function getLatestVersion() {
        $('<style id="dio_version">' +
          '#version_info .version_icon { background: url(' + dio_sprite + ') -50px -50px no-repeat; width:25px; height:25px; float:left; } ' +// http://666kb.com/i/ct1etaz0uyohw402i.png
          '#version_info .version_icon.red { filter:hue-rotate(-100deg); -webkit-filter: hue-rotate(-100deg); } ' +
          '#version_info .version_icon.green { filter:hue-rotate(0deg); -webkit-filter: hue-rotate(0deg); } ' +
          '#version_info .version_icon.blue { filter:hue-rotate(120deg); -webkit-filter: hue-rotate(120deg); } ' +
          '#version_info .version_text { line-height: 2; margin: 0px 6px 0px 6px; float: left;} ' +
          '</style>').appendTo("head");


        var v_info = $('#version_info');
        if (version_text === '') {
            if (version < latest_version) {
                version_text = "<a href='https://greasyfork.org/" + MID + "/scripts/388235-dio-tools-david1327' target='_blank' style='color:crimson'><div class='version_icon red'></div><div class='version_text'>" + getText('settings', 'version_old') + "</div><div class='version_icon red'></div></a>" +
                    "<a class='version_text' href='https://greasyfork.org/scripts/388235-dio-tools-david1327/code/DIO-TOOLS-David1327.user.js' target='_blank'>--> " + getText('settings', 'version_update') + "</a>";
                version_color = 'crimson';
                Messageversion = HumanMessage.error("DIO-TOOLS " + getText('settings', 'version_old'));
            } else if (version == latest_version) {
                version_text = "<a href='https://greasyfork.org/" + MID + "/scripts/388235-dio-tools-david1327' target='_blank' style='color:darkgreen'><div class='version_icon green'></div><div class='version_text'>" + getText('settings', 'version_new') + "</div><div class='version_icon green'></div></a>";
            } else {
                version_text = "<a href='https://greasyfork.org/fr/scripts/388235-dio-tools-david1327' target='_blank' style='color:darkblue'><div class='version_icon blue'></div><div class='version_text'>" + getText('settings', 'version_dev') + "</div><div class='version_icon blue'></div></a>";
                version_color = 'darkblue';
                Messageversion = HumanMessage.error("DIO-TOOLS " + getText('settings', 'version_dev'));
            }
            v_info.html(version_text).css({color: version_color});
        }
        else {
            v_info.html(version_text).css({color: version_color});
        }
    }

    /*******************************************************************************************************************************
     * Add DIO-Tools to grepo settings
     *******************************************************************************************************************************/

    function settings() {
        var wid = $(".settings-menu").get(0).parentNode.id;

        if (!$("#dio_tools").get(0)) {
            $(".settings-menu ul:last").append('<li id="dio_li"><img id="dio_icon" src="https://www.tuto-de-david1327.com/medias/images/smiley-emoticons-smile.gif"></div> <a id="dio_tools"> DIO-Tools-David1327</a></li>');
        }

        $(".settings-link").click(function () {
            $('.section').each(function () {
                this.style.display = "block";
            });
            $('.settings-container').removeClass("dio_overflow");

            $('#dio_bg_medusa').css({display: "none"});

            if ($('#dio_settings').get(0)) {
                $('#dio_settings').get(0).style.display = "none";
            }
        });

        $("#dio_tools").click(function () {
            if ($('.email').get(0)) {
                $('.settings-container').removeClass("email");
            }

            $('.settings-container').addClass("dio_overflow");

            $('#dio_bg_medusa').css({display: "block"});

            if (!$('#dio_settings').get(0)) {
                // Styles
                $('<style id="dio_settings_style">' +
                  // Chrome Scroollbar Style
                  '#dio_settings ::-webkit-scrollbar { width: 13px; } ' +
                  '#dio_settings ::-webkit-scrollbar-track { background-color: rgba(130, 186, 135, 0.5); border-top-right-radius: 4px; border-bottom-right-radius: 4px; } ' +
                  '#dio_settings ::-webkit-scrollbar-thumb { background-color: rgba(87, 121, 45, 0.5); border-radius: 3px; } ' +
                  '#dio_settings ::-webkit-scrollbar-thumb:hover { background-color: rgba(87, 121, 45, 0.8); } ' +

                  '#dio_settings table tr :first-child { text-align:center; vertical-align:top; } ' +

                  '#dio_settings #version_info { font-weight:bold;height: 35px;margin-top:-5px; } ' +
                  '#dio_settings #version_info img { margin:-1px 2px -8px 0px; } ' +

                  '#dio_settings .icon_types_table { font-size:0.7em; line-height:2.5; border:1px solid green; border-spacing:10px 2px; border-radius:5px; } ' +
                  '#dio_settings .icon_types_table td { text-align:left; } ' +

                  '#dio_settings table p { margin:0.2em 0em; } ' +

                  '#dio_settings .checkbox_new .cbx_caption { white-space:nowrap; margin-right:10px; font-weight:bold; } ' +

                  '#dio_settings .dio_settings_tabs {width:auto; border:2px solid darkgreen; background:#2B241A; padding:1px 1px 0px 1px; right:auto; border-top-left-radius:5px; border-top-right-radius:5px; border-bottom:0px;} ' +

                  '#dio_settings .submenu_link {color: #000;} ' +


                  '#dio_settings .dio_settings_tabs li { float:left; } ' +

                  '#dio_settings .icon_small { margin:0px; } ' +

                  '#dio_settings img { max-width:90px; max-height:90px; margin-right:10px; } ' +

                  '#dio_settings .content { border:2px solid darkgreen; border-radius:5px; border-top-left-radius:0px; background:rgba(31, 25, 12, 0.1); top:23px; position:relative; padding:10px; height:350px; overflow-y:auto; } ' +
                  '#dio_settings .content .content_category { display:none; border-spacing:5px; } ' +

                  '#dio_settings .dio_options_table legend { font-weight:bold; } ' +
                  '#dio_settings .dio_options_table p { margin:0px; } ' +
                  '#dio_settings #donate_btn { filter: hue-rotate(45deg); -webkit-filter: hue-rotate(45deg); } ' +

                  '#donate_btn { background: url(' + dio_sprite + '); width:92px; height:26px; background-position: 0px -228px; } ' +
                  '#donate_btn.de { background-position: 0px -264px; width:98px; } ' +
                  '#donate_btn.fr { background-position: 0px -300px; width:124px; } ' +
                  '#donate_btn.it { background-position: -96px -228px; width:109px; } ' +
                  '#donate_btn.pt { background-position: -128px -300px; width:71px; } ' +
                  '#donate_btn.es { background-position: -102px -264px; width:79px; } ' +

                  '#dio_hall table { border-spacing: 9px 3px; } ' +
                  '#dio_hall table th { text-align:left !important;color:green;text-decoration:underline;padding-bottom:10px; } ' +
                  '#dio_hall table td.value { text-align: right; } ' +

                  '#dio_hall table td.laurel.green { background: url("/images/game/ally/founder.png") no-repeat; height:18px; width:18px; background-size:100%; } ' +
                  '#dio_hall table td.laurel.green2 { background: url("https://www.tuto-de-david1327.com/medias/images/laurel-sprite.png") no-repeat 0%; height:18px; width:18px; } ' +
                  '#dio_hall table td.laurel.bronze { background: url("https://www.tuto-de-david1327.com/medias/images/laurel-sprite.png") no-repeat 25%; height:18px; width:18px; } ' +
                  '#dio_hall table td.laurel.silver { background: url("https://www.tuto-de-david1327.com/medias/images/laurel-sprite.png") no-repeat 50%; height:18px; width:18px; } ' +
                  '#dio_hall table td.laurel.gold { background: url("https://www.tuto-de-david1327.com/medias/images/laurel-sprite.png") no-repeat 75%; height:18px; width:18px; } ' +
                  '#dio_hall table td.laurel.blue { background: url("https://www.tuto-de-david1327.com/medias/images/laurel-sprite.png") no-repeat 100%; height:18px; width:18px; } ' +
                  '</style>').appendTo('head');


                $('.settings-container').append(
                    '<div id="dio_settings" class="player_settings section"><div id="dio_bg_medusa"></div><div id="dio_bg_david1327"></div>' +
                    '<div class="game_header bold"><a href="https://greasyfork.org/' + MID + '/scripts/388235-dio-tools-david1327" target="_blank" style="color:white">DIO-TOOLS-David1327 (v' + version + ')</a></div>' +

                    // Check latest version
                    '<div id="version_info"><img src="https://thumbs.gfycat.com/UnfoldedCleverGermanspitz-size_restricted.gif" /></div>' +

                    // Donate button
                    '<div style="position:absolute; right: 10px;top: 40px;"><a href="https://www.paypal.com/cgi-bin/webscr?cmd=_s-xclick&hosted_button_id=7X8R9RK3TWGNN&source=url" target="_blank">' +
                    '<div id="donate_btn" class="' + LID + '" alt="Donate"></div></a></div>' +

                    // Settings navigation
                    '<ul class="menu_inner dio_settings_tabs">' +
                    '<li><a class="submenu_link active" id="dio_units"><span class="left"><span class="right"><span class="middle">' + getText("settings", "cat_units") + '</span></span></span></a></li>' +
                    '<li><a class="submenu_link" id="dio_icons"><span class="left"><span class="right"><span class="middle">' + getText("settings", "cat_icons") + '</span></span></span></a></li>' +
                    '<li><a class="submenu_link" id="dio_forum"><span class="left"><span class="right"><span class="middle">' + getText("settings", "cat_forum") + '</span></span></span></a></li>' +
                    '<li><a class="submenu_link" id="dio_trade"><span class="left"><span class="right"><span class="middle">' + getText("settings", "cat_trade") + '</span></span></span></a></li>' +
                    '<li><a class="submenu_link" id="dio_wonder"><span class="left"><span class="right"><span class="middle">' + getText("settings", "cat_wonders") + '</span></span></span></a></li>' +
                    '<li><a class="submenu_link" id="dio_layout"><span class="left"><span class="right"><span class="middle">' + getText("settings", "cat_layout") + '</span></span></span></a></li>' +
                    '<li><a class="submenu_link" id="dio_other"><span class="left"><span class="right"><span class="middle">' + getText("settings", "cat_other") + '</span></span></span></a></li>' +
                    '<li><a class="submenu_link" id="dio_Quack"><span class="left"><span class="right"><span class="middle">Quack</span></span></span></a></li>' +
                    '</ul>' +

                    // Settings content
                    '<DIV class="content">' +

                    // Units tab
                    '<table id="dio_units_table" class="content_category visible"><tr>' +
                    '<td><img src="https://www.tuto-de-david1327.com/medias/images/available-units.png" alt="available_units" /></td>' +
                    '<td><div id="ava" class="checkbox_new"><div class="cbx_icon"></div><div class="cbx_caption">' + getText("options", "ava")[0] + '</div></div>' +
                    '<p>' + getText("options", "ava")[1] + '</p></td>' +
                    '<td><div></div><img src="https://www.tuto-de-david1327.com/medias/images/numero-ocean.png" alt="unit_comparison" />' +
                    '<div id="ava2" class="checkbox_new"><div class="cbx_icon"></div><div class="cbx_caption">' + getText("options", "ava2")[0] + '</div></div>' +
                    '<p>' + getText("options", "ava2")[1] + '</p></td>' +
                    '</tr><tr>' +
                    '<td><img src="https://www.tuto-de-david1327.com/medias/images/unites-envoyees.png" alt="sent_units" /></td>' +
                    '<td><div id="sen" class="checkbox_new"><div class="cbx_icon"></div><div class="cbx_caption">' + getText("options", "sen")[0] + '</div></div>' +
                    '<p>' + getText("options", "sen")[1] + '</p></td>' +
                    '</tr><tr>' +
                    '<td><img src="https://www.tuto-de-david1327.com/medias/images/force-unitaire.png" alt="unit_strength" /></td>' +
                    '<td><div id="str" class="checkbox_new"><div class="cbx_icon"></div><div class="cbx_caption">' + getText("options", "str")[0] + '</div></div>' +
                    '<p>' + getText("options", "str")[1] + '</p></td>' +
                    '</tr><tr>' +
                    '<td><img src="https://www.tuto-de-david1327.com/medias/images/transport-capacity.png" alt="transport_capacity" /></td>' +
                    '<td><div id="tra" class="checkbox_new"><div class="cbx_icon"></div><div class="cbx_caption">' + getText("options", "tra")[0] + '</div></div>' +
                    '<p>' + getText("options", "tra")[1] + '</p></td>' +
                    '</tr><tr>' +
                    '<td><img src="https://www.tuto-de-david1327.com/medias/images/comparaison-des-unites.png" alt="unit_comparison" /></td>' +
                    '<td><div id="com" class="checkbox_new"><div class="cbx_icon"></div><div class="cbx_caption">' + getText("options", "com")[0] + '</div></div>' +
                    '<p>' + getText("options", "com")[1] + '</p></td>' +
                    '</tr></table>'+

                    // Icons tab
                    '<table id="dio_icons_table" class="content_category"><tr>' +
                    '<td><img src="https://www.tuto-de-david1327.com/medias/images/icones-des-villes.gif" alt="townicons" style="transform: scale(1.25)" /></td>' +
                    '<td><div id="tic" class="checkbox_new"><div class="cbx_icon"></div><div class="cbx_caption">' + getText("options", "tic")[0] + '</div></div>' +
                    '<p>' + getText("options", "tic")[1] + '</p>' +
                    '<table class="icon_types_table">' +
                    '<tr><td style="width:115px"><div class="icon_small townicon_lo"></div>' + getText("options", "LandOff") + '</td>' + '<td><div class="icon_small townicon_fo"></div>' + getText("options", "FlyOff")+ '</td>' + '<td><div class="icon_small townicon_so"></div>' + getText("options", "NavyOff") + '</td>' + '<td><div class="icon_small townicon_no"></div>' + getText("options", "Out") +  '</td></tr>' +
                    '<tr><td><div class="icon_small townicon_ld"></div>' + getText("options", "LandDef") + '</td>' + '<td><div class="icon_small townicon_fd"></div>' + getText("options", "FlyDef") + '<td><div class="icon_small townicon_sd"></div>' + getText("options", "NavyDef") + '</td>' + '<td><div class="icon_small townicon_po"></div>' + getText("options", "Emp") + '</td></tr>' +
                    '</table><br>' +
                    '<p>' + getText("options", "tic")[2] + ':</p>' +
                    '<div class="icon_small townicon_sh"></div><div class="icon_small townicon_di"></div><div class="icon_small townicon_un"></div><div class="icon_small townicon_ko"></div>' +
                    '<div class="icon_small townicon_ti"></div><div class="icon_small townicon_gr"></div><div class="icon_small townicon_dp"></div><div class="icon_small townicon_re"></div>' +
                    '<div class="icon_small townicon_wd"></div><div class="icon_small townicon_st"></div><div class="icon_small townicon_si"></div><div class="icon_small townicon_bu"></div>' +
                    '<div class="icon_small townicon_he"></div><div class="icon_small townicon_ch"></div><div class="icon_small townicon_bo"></div><div class="icon_small townicon_fa"></div>' +
                    '<div class="icon_small townicon_wo"></div>' +
                    '</td>' +
                    '</tr><tr>' +
                    '<td><img src="https://www.tuto-de-david1327.com/medias/images/liste-de-ville-1.png" alt="townlist" style="border: 1px solid rgb(158, 133, 78);" /></td>' +
                    '<td><div id="til" class="checkbox_new"><div class="cbx_icon"></div><div class="cbx_caption">' + getText("options", "til")[0] + '</div></div>' +
                    '<p>' + getText("options", "til")[1] + '</p></td>' +
                    '</tr><tr>' +
                    '<td><img src="https://www.tuto-de-david1327.com/medias/images/map-1.png" alt="map" /></td>' +
                    '<td><div id="tim" class="checkbox_new"><div class="cbx_icon"></div><div class="cbx_caption">' + getText("options", "tim")[0] + '</div></div>' +
                    '<p>' + getText("options", "tim")[1] + '</p></td>' +
                    '</tr><tr>' +
                    '<td><img src="https://www.tuto-de-david1327.com/medias/images/bbcode-ville.jpg" alt="map" style="transform: scale(1.25);" /></td>' +
                    '<td><div id="Tow" class="checkbox_new"><div class="cbx_icon"></div><div class="cbx_caption">' + getText("options", "tow")[0] + '</div></div>' +
                    '<p>' + getText("options", "tow")[1] + '</p></td>' +
                    '</tr></table>' +

                    // Forum tab
                    '<table id="dio_forum_table" class="content_category"><tr>' +
                    '<td><img src="https://www.tuto-de-david1327.com/medias/images/smiley-box.1.png" alt="smiley_box" style="max-width:120px !important;"/></td>' +
                    '<td><div id="sml" class="checkbox_new"><div class="cbx_icon"></div><div class="cbx_caption">' + getText("options", "sml")[0] + '</div></div>' +
                    '<p>' + getText("options", "sml")[1] + '</p>' +
                    '<img src="https://www.tuto-de-david1327.com/medias/images/smiley-emoticons-mttao-wassermann.gif" /> <img src="https://www.tuto-de-david1327.com/medias/images/smiley-emoticons-cigrqlp2odi2kqo24.gif" /> ' +
                    '<img src="https://www.tuto-de-david1327.com/medias/images/icon.gif" alt="" /> <img src="https://www.tuto-de-david1327.com/medias/images/smiley-emoticons-cigmv8wnffb3v0ifg.gif" /> ' +
                    '<img src="https://www.tuto-de-david1327.com/medias/images/smiley-emoticons-cj2byjendffymp88t.gif" alt="" /> <img src="https://www.tuto-de-david1327.com/medias/images/smiley-emoticons-cj1l9gndtu3nduyvi.gif" /> ' +
                    '<img src="https://www.tuto-de-david1327.com/medias/images/smiley-emoticons-cigrmpfofys5xtiks.gif" alt="" />' + //'<img src="https://www.tuto-de-david1327.com/medias/images/smiley-emoticons-i-lovo-grepolis.gif" />'+
                    '<br><br><br></td>' +
                    '</tr><tr>' +
                    '<td><img src="https://www.tuto-de-david1327.com/medias/images/formulaire-de-defense.png" alt="def_formular" style="max-height:none; max-width:120px !important; "/></td>' +
                    '<td><div id="bbc" class="checkbox_new"><div class="cbx_icon"></div><div class="cbx_caption">' + getText("options", "bbc")[0] + '</div></div>' +
                    '<p>' + getText("options", "bbc")[1] + '</p><br><img src="https://www.tuto-de-david1327.com/medias/images/formulaire-de-defense-1.png" alt="" style="max-width:none !important;" /></td>' + //https://s1.directupload.net/images/140401/9b2ydh82.png
                    '</tr><tr>' +
                    '<td><img src="https://www.tuto-de-david1327.com/medias/images/deletemultiple.png" alt="def_formular" style="max-height:none; max-width:120px !important; "/></td>' +
                    '<td><div id="Fdm" class="checkbox_new"><div class="cbx_icon"></div><div class="cbx_caption">' + getText("options", "Fdm")[0] + '</div></div>' +
                    '<p>' + getText("options", "Fdm")[1] + '</p><br></td>' +
                    '</tr></table>' +

                    // Trade tab
                    '<table id="dio_trade_table" class="content_category"><tr>' +
                    '<td><img src="https://www.tuto-de-david1327.com/medias/images/recruiting-trade.png" alt="recruiting_trade" /></td>' +
                    '<td><div id="rec" class="checkbox_new"><div class="cbx_icon"></div><div class="cbx_caption">' + getText("options", "rec")[0] + '</div></div>' +
                    '<p>' + getText("options", "rec")[1] + '</p><br><img src="https://www.tuto-de-david1327.com/medias/images/commerce-de-pourcentage.png" style="border: 2px solid rgb(158, 133, 78); max-height:none; max-width:250px !important;" /></td>' +

                    '</tr><tr>' +
                    '<td><img src="https://www.tuto-de-david1327.com/medias/images/percentage-trade.png" alt="percentage_trade" /></td>' +
                    '<td><div id="per" class="checkbox_new"><div class="cbx_icon"></div><div class="cbx_caption">' + getText("options", "per")[0] + '</div></div>' +
                    '<p>' + getText("options", "per")[1] + '</p><br></td>' +
                    /*
                         '</tr><tr>'+
                         '<td><img src="https://s7.directupload.net/images/140917/tveb5n33.png" /></td>'+
                         '<td><div id="trd2" class="checkbox_new"><div class="cbx_icon"></div><div class="cbx_caption">Trade Limit Marker</div></div>'+
                         '<p></p></td>'+
                         */
                    '</tr></table>' +

                    // World wonder tab
                    '<table id="dio_wonder_table" class="content_category"><tr>' +
                    '<td><img src="https://www.tuto-de-david1327.com/medias/images/temple-d-artemiss.gif" alt="share" /></td>' +
                    '<td><div id="wwc" class="checkbox_new"><div class="cbx_icon"></div><div class="cbx_caption">' + getText("options", "wwc")[0] + '</div></div>' +
                    '<p>' + getText("options", "wwc")[1] + '</p><br/>' +
                    '<img src="https://www.tuto-de-david1327.com/medias/images/merveille-du-monde.png" alt="share_calculator" style="max-width:none !important; border: 2px solid rgb(158, 133, 78);" /></td>' +
                    '</tr><tr>' +
                    /*'<td><img src="https://gpfr.innogamescdn.com/images/transparent.png" alt="ranking" /></td>' +
                    '<td><div id="wwr" class="checkbox_new"><div class="cbx_icon"></div><div class="cbx_caption">' + getText("options", "wwr")[0] + '</div></div>' +
                    '<p>' + getText("options", "wwr")[1] + '</p></td>' +
                    '</tr><tr>' +
                    '<td><img src="https://gpfr.innogamescdn.com/images/transparent.png" alt="icons" /></td>' +
                    '<td><div id="wwi" class="checkbox_new"><div class="cbx_icon"></div><div class="cbx_caption">' + getText("options", "wwi")[0] + '</div></div>' +
                    '<p>' + getText("options", "wwi")[1] + '</p></td>' +*/
                    '</tr></table>' +

                    // Layout tab
                    '<table id="dio_layout_table" class="content_category"><tr>' +
                    '<td><img src="https://www.tuto-de-david1327.com/medias/images/simulateur.png" alt="simulator" style="max-width:120px !important;"/></td>' +
                    '<td><div id="sim" class="checkbox_new"><div class="cbx_icon"></div><div class="cbx_caption">' + getText("options", "sim")[0] + '</div></div>' +
                    '<p>' + getText("options", "sim")[1] + '</p></td>' +
                    '</tr><tr>' +
                    '<td><img src="https://www.tuto-de-david1327.com/medias/images/barre-de-taches.png" alt="taskbar" style="max-width:120px !important;"/></td>' +
                    '<td><div id="tsk" class="checkbox_new"><div class="cbx_icon"></div><div class="cbx_caption">' + getText("options", "tsk")[0] + '</div></div>' +
                    '<p>' + getText("options", "tsk")[1] + '</p></td>' +
                    '</tr><tr>' +
                    '<td><img src="https://www.tuto-de-david1327.com/medias/images/popup-de-faveur-1.png" alt="favor_popup" style="max-width:120px !important;"/></td>' +
                    '<td><div id="pop" class="checkbox_new"><div class="cbx_icon"></div><div class="cbx_caption">' + getText("options", "pop")[0] + '</div></div>' +
                    '<p>' + getText("options", "pop")[1] + '</p></td>' +
                    '</tr><tr>' +
                    '<td><img src="https://www.tuto-de-david1327.com/medias/images/contextmenu.png" alt="contextmenu" /></td>' +
                    '<td><div id="con" class="checkbox_new"><div class="cbx_icon"></div><div class="cbx_caption">' + getText("options", "con")[0] + '</div></div>' +
                    '<p>' + getText("options", "con")[1] + '</p></td>' +
                    '</tr><tr>' +
                    '<td><img src="https://www.tuto-de-david1327.com/medias/images/scrollbar.blue-1.png" alt="scrollbar" style="border: 1px solid rgb(158, 133, 78);"/></td>' +
                    '<td><div id="Scr" class="checkbox_new"><div class="cbx_icon"></div><div class="cbx_caption">' + getText("options", "Scr")[0] + '</div></div>' +
                    '<p>' + getText("options", "Scr")[1] + '</p>' +
                    '<p>' + getText("options", "Scr")[2] + '</p></td>' +
                    '</tr><tr>' +
                    '<td><img src="https://www.tuto-de-david1327.com/medias/images/boites-d-activites.png" alt="activity_boxes" style="max-width:120px !important;"/></td>' +
                    '<td><div id="act" class="checkbox_new"><div class="cbx_icon"></div><div class="cbx_caption">' + getText("options", "act")[0] + '</div></div>' +
                    '<p>' + getText("options", "act")[1] + '</p><br></br></td>' +
                    '</tr></table>' +

                    // Other Stuff tab
                    '<table id="dio_other_table" class="content_category"><tr>' +
                    '<td><img src="https://www.tuto-de-david1327.com/medias/images/troop-speed.png" style="border: 1px solid rgb(158, 133, 78);" alt="troop_speed" /></td>' +
                    '<td><div id="way" class="checkbox_new"><div class="cbx_icon"></div><div class="cbx_caption">' + getText("options", "way")[0] + '</div></div>' +
                    '<p>' + getText("options", "way")[1] + '</p></td>' +
                    '</tr><tr>' +
                    '<td><img src="https://www.tuto-de-david1327.com/medias/images/compteur-conquete.png" style="border: 1px solid rgb(158, 133, 78);" alt="conquer_counter" /></td>' +
                    '<td><div id="cnt" class="checkbox_new"><div class="cbx_icon"></div><div class="cbx_caption">' + getText("options", "cnt")[0] + '</div></div>' +
                    '<p>' + getText("options", "cnt")[1] + '</p>' +
                    '<img src="https://www.tuto-de-david1327.com/medias/images/conquests-1.png" style="max-height:none; max-width:300px !important;" /></td>' +
                    '</tr><tr>' +
                    '<td><img src="https://www.tuto-de-david1327.com/medias/images/mousewheel-zoom.png" alt="" /></td>' +
                    '<td><div id="scr" class="checkbox_new"><div class="cbx_icon"></div><div class="cbx_caption">' + getText("options", "scr")[0] + '</div></div>' +
                    '<p>' + getText("options", "scr")[1] + '</p></td>' +
                    '</tr><tr>' +
                    '<td><img src="https://www.tuto-de-david1327.com/medias/images/smiley-emoticons-kciuki.gif" alt="" /></td>' +
                    '<td><div id="Rew" class="checkbox_new"><div class="cbx_icon"></div><div class="cbx_caption">' + getText("options", "rew")[0] + '</div></div>' +
                    '<p>' + getText("options", "rew")[1] + '</p></td>' +
                    '</tr><tr>' +
                    ((david1327) ? (
                        '<td><img src="https://www.tuto-de-david1327.com/medias/images/smiley-emoticons-kciuki.gif" alt="scrollbar"/></td>' +
                        '<td><div id="Rac" class="checkbox_new"><div class="cbx_icon"></div><div class="cbx_caption">Raccourcis</div></div>' +
                        '<p>Raccourcis</p></td>' +
                        '</tr><tr>'
                    ) : "") +
                    /*'<td><img src="" alt="" /></td>' +
                    '<td><div id="err" class="checkbox_new"><div class="cbx_icon"></div><div class="cbx_caption">' + getText("options", "err")[0] + '</div></div>' +
                    '<p>' + getText("options", "err")[1] + '</p></td>' +*/
                    '</tr></table>' +

                    // Quack
                    '<table id="dio_Quack_table" class="content_category"><tr>' +
                    '<td><img src="https://www.tuto-de-david1327.com/medias/images/sans-surcharge.png" alt="" style="border: 1px solid rgb(158, 133, 78);" /></td>' +
                    '<td><div id="Sel" class="checkbox_new"><div class="cbx_icon"></div><div class="cbx_caption">' + getText("options", "Sel")[0] + '</div></div>' +
                    '<p>' + getText("options", "Sel")[1] + '</p></td>' +
                    '</tr><tr>' +
                    '<td><img src="https://www.tuto-de-david1327.com/medias/images/culture.png" alt="" style="max-height:none; max-width:100px !important;" /></td>' +
                    '<td><div id="Cul" class="checkbox_new"><div class="cbx_icon"></div><div class="cbx_caption">' + getText("options", "Cul")[0] + '</div></div>' +
                    '<p>' + getText("options", "Cul")[1] + '</p></td>' +
                    '</tr><tr>' +
                    '<td><img src="https://up.picr.de/37974851jj.png" alt="" /></td>' +
                    '<td><div id="Hot" class="checkbox_new"><div class="cbx_icon"></div><div class="cbx_caption">' + getText("options", "Hot")[0] + '</div></div>' +
                    '<p>' + getText("options", "Hot")[1] + '</p></td>' +
                    '</tr><tr>' +
                    '<td><img src="" alt="" /></td>' +
                    '<td><div id="Isl" class="checkbox_new"><div class="cbx_icon"></div><div class="cbx_caption">' + getText("options", "Isl")[0] + '</div></div>' +
                    '<p>' + getText("options", "Isl")[1] + '</p></td>' +
                    '</tr><tr>' +
                    '<td><img src="" alt="" /></td>' +
                    '<td><div id="Hio" class="checkbox_new"><div class="cbx_icon"></div><div class="cbx_caption">' + getText("options", "Hio")[0] + '</div></div>' +
                    '<p>' + getText("options", "Hio")[1] + '</p></td>' +
                    '</tr><tr>' +
                    '<td><img src="" alt="" /></td>' +
                    '<td><div id="Hid" class="checkbox_new"><div class="cbx_icon"></div><div class="cbx_caption">' + getText("options", "Hid")[0] + '</div></div>' +
                    '<p>' + getText("options", "Hid")[1] + '</p></td>' +
                    '</tr><tr>' +
                    '<td><img src="https://www.tuto-de-david1327.com/medias/images/en-construction.png" alt="" /></td>' +
                    '<td><div id="Tol" class="checkbox_new"><div class="cbx_icon"></div><div class="cbx_caption">' + getText("options", "Tol")[0] + '</div></div>' +
                    '<p>' + getText("options", "Tol")[1] + '</p></td>' +
                    '</tr><tr>' +
                    ((david1327) ? (
                    '<td><img src="https://www.tuto-de-david1327.com/medias/images/en-construction.png" alt="" /></td>' +
                    '<td><div id="Ish" class="checkbox_new"><div class="cbx_icon"></div><div class="cbx_caption">' + getText("options", "Ish")[0] + '</div></div>' +
                    '<p>' + getText("options", "Ish")[1] + '</p></td>' ) : "")+
                    '</tr></table>'+

                    // =Tuto Troupes Grepolis= tab
                    '<div id="dio_hall" class="content_category">'+
                    '<div align="center"><img src="https://www.tuto-de-david1327.com/medias/site/logos/coollogo-com-63481423.png" style="max-height:none; max-width:350px !important;" /></div></td>' +
                    '<div>' + getText("tutoriel", "reme") + '</div>'+
                    '<div>' + getText("tutoriel", "reme")[1] + '</div>'+
                    '<p></p>'+
                    '<a id="link_utile" href=' + getText("tutoriel", "link_utile") + ' target="_blank">' +
                    '<img src="https://www.tuto-de-david1327.com/medias/album/lien-1-png" alt="" style="margin: 0px 5px -3px 5px;" /><span>' + getText('tutoriel', 'util')[0]  + '</span></a>' +
                    '<p>' + getText("tutoriel", "util")[1] + '</p></td>' +
                    '<a id="link_troupes" href=' + getText("tutoriel", "link_troupes") + ' target="_blank">' +
                    '<img src="https://www.tuto-de-david1327.com/medias/album/lien-1-png" alt="" style="margin: 0px 5px -3px 5px;" /><span>' + getText('tutoriel', 'Trou')[0]  + '</span></a>' +
                    '<p>' + getText("tutoriel", "Trou")[1] + '</p></td>' +
                    '<table style="float:left;margin-right: 75px;">'+
                    '<tr><th colspan="3">' + getText("labels", "donat") + '</th></tr>'+
                    (function(){
                        var donations = [
                            ["Christiane G", 30],
                            ["Cordula H", 10],
                            ["Doris H", 10],
                            ["Rabello", 5.50],
                            ["Kornelia M", 5],
                            ["Max P", 5],
                        ];
                        var donation_table = "";

                        for(var d = 0; d < donations.length; d++){

                            var donation_class = "";

                            switch(donations[d][1]){
                                case 30: donation_class = "gold"; break;
                                case 10: donation_class = "silver"; break;
                                case 5.5: donation_class = "bronze"; break;
                                case 5: donation_class = "green2"; break;
                                default: donation_class = "green"; break;
                            }

                            donation_table += '<tr class="donation"><td class="laurel '+ donation_class +'"></td><td>' + donations[d][0] + '</td><td class="value">' + donations[d][1] + 'â¬</td></tr>';
                        }

                        return donation_table;
                    })() +
                    '</table>'+
                    '<table>'+
                    '<tr><th colspan="3">' + getText("labels", "Tran") + '</th></tr>'+
                    (function(){
                        var translations = [
                            ["Diony", "DE"],
                            ["eclat49", "FR"],
                            ["MrBobr", "RU"],
                            ["anpu", "PL"],
                            ["Juana de Castilla", "ES"],
                            ["HELL", "BR"],
                            ["Piwus", "CZ"],
                            ["amliam", "IT"],
                            ["Nicolae01", "RO"],
                            ["Firebloem ", "NL"]
                        ];

                        var translation_table = "";

                        for(var d = 0; d < translations.length; d++){
                            translation_table += '<tr class="translation"><td class="laurel blue"></td><td >' + translations[d][0] + '</td><td class="value">' + translations[d][1] + '</td></tr>';
                        }

                        return translation_table;
                    })() +
                    '</table>'+
                    '<p>' + getText("labels", "ingame_name")[0] + '</p></td>' +
                    '<p>' + getText("labels", "ingame_name")[1] + '</p><br></br></td>' +
                    '</div>' +

                    '</DIV>' +

                    // Links (Forum, PM, ...)
                    '<div style="bottom: -50px;font-weight: bold;position: absolute;width: 99%;">' +

                    '<a id="tuto" style="font-weight:bold; float:left">' +
                    '<img src="/images/game/ally/founder.png" alt="" style="float:left;height:19px;margin:0px 5px -3px;"><span>' + getText("tutoriel", "tuto") + '</span></a>'+

                    '<span class="" style="font-weight:bold; float:right; margin-left:20px;">' + getText("settings", "author") + ': ' +
                    '<a id="link_contact" href=' + getText("settings", "link_contact") + ' target="_blank">DIO-TOOLS-David1327</a></span>' +

                    '<a id="link_forum" href=' + getText("settings", "link_forum") + ' target="_blank" style="font-weight:bold; float:right">' +
                    '<img src="https://www.tuto-de-david1327.com/medias/album/lien-1-png" alt="" style="margin: 0px 5px -3px 5px;" /><span>' + getText("settings", "forum") + '</span></a>' +

                    '</div>' +

                    '</div></div>');

                getLatestVersion();

                // Tab event handler
                $('#dio_settings .dio_settings_tabs .submenu_link').click(function () {
                    if (!$(this).hasClass("active")) {
                        $('#dio_settings .dio_settings_tabs .submenu_link.active').removeClass("active");
                        $(this).addClass("active");
                        $("#dio_settings .visible").removeClass("visible");
                        $("#" + this.id + "_table").addClass("visible");
                    }
                });

                //
                $('#tuto').click(function () {
                    $('#dio_settings .dio_settings_tabs .submenu_link.active').removeClass("active");

                    $("#dio_settings .visible").removeClass("visible");
                    $("#dio_hall").addClass("visible");
                });

                $("#dio_settings .checkbox_new").click(function () {
                    $(this).toggleClass("checked").toggleClass("disabled").toggleClass("green");
                    toggleActivation(this.id);

                    DATA.options[this.id] = $(this).hasClass("checked");

                    saveValue("options", JSON.stringify(DATA.options));
                });
                for (var e in DATA.options) {
                    if (DATA.options.hasOwnProperty(e)) {
                        if (DATA.options[e] === true) {
                            $("#" + e).addClass("checked").addClass("green");
                        } else {
                            $("#" + e).addClass("disabled");
                        }
                    }
                }

                $('#dio_save').click(function () {
                    $('#dio_settings .checkbox_new').each(function () {
                        var act = false;
                        if ($("#" + this.id).hasClass("checked")) {
                            act = true;
                        }
                        DATA.options[this.id] = act;
                    });
                    saveValue("options", JSON.stringify(DATA.options));
                });
            }
            $('.section').each(function () {
                this.style.display = "none";
            });
            $('#dio_settings').get(0).style.display = "block";
        });
    }

    function toggleActivation(opt) {
        var FEATURE, activation = true;
        switch (opt) {
            case "sml":
                FEATURE = SmileyBox;
                break;
            case "bir":
                FEATURE = BiremeCounter;
                break;
            case "str":
                FEATURE = UnitStrength.Menu;
                break;
            case "tra":
                FEATURE = TransportCapacity;
                break;
            case "ava":
                FEATURE = AvailableUnits;
                break;
            case "ava2":
                FEATURE = AvailableUnits.ocean;
                break;
            case "sim":
                FEATURE = Simulator;
                break;
            case "tsk":
                FEATURE = Taskbar;
                break;
            case "scr":
                FEATURE = MouseWheelZoom;
                break;
            case "com":
                FEATURE = UnitComparison;
                break;
            case "pop":
                FEATURE = FavorPopup;
                break;
            case "con":
                FEATURE = ContextMenu;
                break;
            case "tic":
                FEATURE = TownIcons;
                break;
            case "tim":
                FEATURE = TownIcons.Map;
                break;
            case "til":
                FEATURE = TownList;
                break;
            case "sen":
                FEATURE = SentUnits;
                break;
            case "act":
                FEATURE = ActivityBoxes;
                break;
            case "wwc":
                FEATURE = WorldWonderCalculator;
                break;
            case "wwr":
                FEATURE = WorldWonderRanking;
                break;
            case "wwi":
                FEATURE = WorldWonderIcons;
                break;
            case "pom":
                FEATURE = PoliticalMap;
                break;
            case "rec":
                FEATURE = RecruitingTrade;
                break;
            case "way":
                FEATURE = ShortDuration;
                break;
            case "Scr":
                FEATURE = Scrollbar;
                break;
            case "Tow":
                FEATURE = Townbb;
                break;
            case "Rac":
                FEATURE = Raccourci;
                break;
            case "Rew":
                FEATURE = Reward;
                break;
            case "Fdm":
                FEATURE = ForumDeleteMultiple;
                break;
            case "Sel":
                FEATURE = selectunitshelper;
                break;
            case "Cul":
                FEATURE = cultureOverview;
                break;
            case "Hot":
                FEATURE = hotkeys;
                break;
            case "Isl":
                FEATURE = islandFarmingVillages;
                break;
            case "Ish":
                FEATURE = islandHeader;
                break;
            case "Hio":
                FEATURE = hidesOverview;
                break;
            case "Hid":
                FEATURE = hidesIndexIron;
                break;
            case "Tol":
                FEATURE = townslist;
                break;

            default:
                activation = false;
                break;
        }
        if (activation) {
            if (DATA.options[opt]) {
                FEATURE.deactivate();
            } else {
                FEATURE.activate();
            }
        }
    }

    function addSettingsButton() {
        var tooltip_str = "DIO-Tools-David1327: " + (DM.getl10n("layout", "config_buttons").settings || "Settings");

        $('<div class="btn_settings circle_button dio_settings"><div class="dio_icon js-caption"></div></div>').appendTo(".gods_area");

        // Style
        $('<style id="dio_settings_button" type="text/css">' +
          '#ui_box .btn_settings.dio_settings { top:95px; right:103px; z-index:10; } ' +
          '#ui_box .dio_settings .dio_icon { margin:7px 0px 0px 4px; width:24px; height:24px; background:url(https://www.tuto-de-david1327.com/medias/images/icon.gif) no-repeat 0px 0px; background-size:100% } ' +
          '#ui_box .dio_settings .dio_icon.click { margin-top:8px; }' +
          '</style>').appendTo('head');

        // Tooltip
        $('.dio_settings').tooltip(tooltip_str);

        // Mouse Events
        $('.dio_settings').on('mousedown', function () {
            $('.dio_icon').addClass('click');
        });
        $('.dio_settings').on('mouseup', function () {
            $('.dio_icon').removeClass('click');
        });
        $('.dio_settings').click(openSettings);
    }

    var diosettings = false;

    function openSettings() {
        if (!GPWindowMgr.getOpenFirst(Layout.wnd.TYPE_PLAYER_SETTINGS)) {
            diosettings = true;
        }
        Layout.wnd.Create(GPWindowMgr.TYPE_PLAYER_SETTINGS, 'Settings');
    }

    var exc = false, sum = 0, ch = ["IGCCJB"], alpha = 'ABCDEFGHIJ';

    function a() {
        var pA = PID.toString(), pB = "";

        for (var c in pA) {
            if (pA.hasOwnProperty(c)) {
                pB += alpha[pA[parseInt(c, 10)]];
            }
        }

        sum = 0;
        for (var b in ch) {
            if (ch.hasOwnProperty(b)) {
                if (pB !== ch[b]) {
                    exc = true;
                } else {
                    exc = false;
                    return;
                }
                for (var s in ch[b]) {
                    if (ch[b].hasOwnProperty(s)) {
                        sum += alpha.indexOf(ch[b][s]);
                    }
                }
            }
        }
    }


    var autoTownTypes, manuTownTypes, population, sentUnitsArray, biriArray, spellbox, commandbox, tradebox, wonder, wonderTypes;

    function setStyle() {
        // Settings
        $('<style id="dio_settings_style" type="text/css">' +
          '#dio_bg_david1327{ background: url(' + dio_sprite + '); background-position: -211px -300px; height: 33px; width: 412px; left: 200px; top:433px; z-index: -1; position: absolute;} ' +
          '#dio_bg_medusa { background:url(https://www.tuto-de-david1327.com/medias/images/medusa-transp.png) no-repeat; height: 510px; width: 380px; right: -10px; top:6px; z-index: -1; position: absolute;} ' +
          '.dio_overflow  { overflow: hidden; } ' +
          '#dio_icon  { width:15px; vertical-align:middle; margin-top:-2px; } ' +
          '#quackicon { width:15px !important; vertical-align:middle !important; margin-top:-2px; height:12px !important; } ' +
          '#dio_settings .green { color: green; } ' +
          '#dio_settings .visible { display:block !important; } ' +
          '</style>').appendTo('head');

        // Town Icons
        $('<style id="dio_icons" type="text/css">.icon_small { position:relative; right:-2px; height:20px; width:25px; }</style>').appendTo('head');

        // Tutorial-Quest Container
        $('<style id="dio_quest_container" type="text/css"> #tutorial_quest_container { top: 130px } </style>').appendTo('head');

        // Velerios
        $('<style id="dio_velerios" type="text/css"> #ph_trader_image { background-image: url(https://www.tuto-de-david1327.com/medias/images/marchand-phenicien.jpg); } </style>').appendTo('head');
        // https://s14.directupload.net/images/140826/mh8k8nyw.jpg  // https://s7.directupload.net/images/140826/bgqlsdrf.jpg

        // Specific player wishes
        if (PID == 1212083) {
            $('<style id="dio_wishes" type="text/css"> #world_end_info { display: none; } </style>').appendTo('head');
        }
    }

    function loadFeatures() {
        if (typeof(ITowns) !== "undefined") {

            autoTownTypes = {};
            manuTownTypes = DATA.townTypes;
            population = {};

            sentUnitsArray = DATA.sentUnits;
            biriArray = DATA.biremes;

            spellbox = DATA.spellbox;
            commandbox = DATA.commandbox;
            tradebox = DATA.tradebox;

            wonder = DATA.worldWonder;
            wonderTypes = DATA.worldWonderTypes;

            var DIO_USER = {'name': Game.player_name, 'market': MID};
            saveValue("dio_user", JSON.stringify(DIO_USER));


            $.Observer(GameEvents.game.load).subscribe('DIO_START', function (e, data) {
                a();

                // English => default language
                if (!LANG[LID]) {
                    LID = "en";
                }

                if ((ch.length == 1) && exc && (sum == 28)) {
                    // AJAX-EVENTS
                    setTimeout(function () {
                        ajaxObserver();
                    }, 0);

                    addSettingsButton();

                    addFunctionToITowns();

                    if (DATA.options.tsk) {
                        setTimeout(function () {
                            Taskbar.activate();
                        }, 0);
                    }
                    //addStatsButton();

                    fixUnitValues();

                    setTimeout(function () {

                        var waitCount = 0;

                        // No comment... it's Grepolis... i don't know... *rolleyes*
                        function waitForGrepoLazyLoading() {
                            if (typeof(ITowns.townGroups.getGroupsDIO()[-1]) !== "undefined" && typeof(ITowns.getTown(Game.townId).getBuildings) !== "undefined") {

                                try {
                                    // Funktion wird manchmal nicht ausgefÃ¼hrt:
                                    var units = ITowns.getTown(Game.townId).units();


                                    getAllUnits();

                                    setInterval(function () {
                                        getAllUnits();
                                    }, 900000); // 15min

                                    setInterval(function () {
                                        UnitCounter.count();
                                    }, 600000); // 10min
                                    setTimeout(function () {
                                        getLatestVersion();
                                    }, 2000);
                                    if (DATA.options.ava) {
                                        setTimeout(function () {
                                            AvailableUnits.activate();
                                        }, 0);
                                    }
                                    if (DATA.options.ava2) {
                                        setTimeout(function () {
                                            AvailableUnits.ocean.activate();
                                        }, 100);
                                    }
                                    if (DATA.options.tic) {
                                        setTimeout(function () {
                                            TownIcons.activate();
                                            TownPopup.activate();
                                        }, 0);
                                    }
                                    if (DATA.options.tim) {
                                        setTimeout(function () {
                                            TownIcons.Map.activate();
                                        }, 0);
                                    }
                                    if (DATA.options.til) {
                                        setTimeout(function () {
                                            TownList.activate();
                                        }, 0);
                                    }
                                    if (DATA.options.Scr) {
                                        setTimeout(function () {
                                            Scrollbar.activate();
                                        }, 0);
                                    }
                                    if (DATA.options.Tow) {
                                        setTimeout(function () {
                                            Townbb.activate();
                                        }, 0);
                                    }
                                    if (DATA.options.Fdm) {
                                        setTimeout(function () {
                                            ForumDeleteMultiple.activate();
                                        }, 100);
                                    }
                                    if (DATA.options.Sel) {
                                        setTimeout(function () {
                                            selectunitshelper.activate();
                                        }, 100);
                                    }
                                    if (DATA.options.Cul) {
                                        setTimeout(function () {
                                            cultureOverview.activate();
                                        }, 100);
                                    }
                                    if (DATA.options.Hot) {
                                        setTimeout(function () {
                                            hotkeys.activate();
                                        }, 100);
                                    }
                                    if (DATA.options.Isl) {
                                        setTimeout(function () {
                                            islandFarmingVillages.activate();
                                        }, 100);
                                    }
                                    if (DATA.options.Ish) {
                                        setTimeout(function () {
                                            islandHeader.activate();
                                        }, 100);
                                    }
                                    if (david1327) {
                                        if (DATA.options.Rac) {
                                            setTimeout(function () {
                                                Raccourci.activate();
                                            }, 0);
                                        }}
                                    if (DATA.options.Rew) {
                                        setTimeout(function () {
                                            Reward.activate();
                                        }, 10);
                                    }
                                    if (DATA.options.Hio) {
                                        setTimeout(function () {
                                            hidesOverview.activate();
                                        }, 10);
                                    }
                                    if (DATA.options.Hid) {
                                        setTimeout(function () {
                                            hidesIndexIron.activate();
                                        }, 0);
                                    }
                                    if (DATA.options.Tol) {
                                        setTimeout(function () {
                                            townslist.activate();
                                        }, 0);
                                    }



                                    HiddenHighlightWindow.activate();


                                } catch(e){
                                    if(waitCount < 12) {
                                        waitCount++;

                                        console.warn("DIO-Tools | Fehler | getAllUnits | units() fehlerhaft ausgefÃ¼hrt?", e);

                                        // AusfÃ¼hrung wiederholen
                                        setTimeout(function () {
                                            waitForGrepoLazyLoading();
                                        }, 5000); // 5s
                                    }
                                    else {
                                        errorHandling(e, "waitForGrepoLazyLoading2");
                                    }
                                }
                            }
                            else {
                                var e = { "stack": "getGroups() = " + typeof(ITowns.townGroups.getGroupsDIO()[-1]) + ", getBuildings() = " + typeof(ITowns.getTown(Game.townId).getBuildings) };

                                if(waitCount < 12) {
                                    waitCount++;

                                    console.warn("DIO-Tools | Fehler | getAllUnits | " + e.stack);

                                    // AusfÃ¼hrung wiederholen
                                    setTimeout(function () {
                                        waitForGrepoLazyLoading();
                                    }, 5000); // 5s
                                }
                                else {


                                    errorHandling(e, "waitForGrepoLazyLoading2");
                                }
                            }
                        }

                        waitForGrepoLazyLoading();

                    }, 0);

                    if (DATA.options.pop) {
                        setTimeout(function () {
                            FavorPopup.activate();
                        }, 0);
                    }

                    imageSelectionProtection();

                    if (DATA.options.con) {
                        setTimeout(function () {
                            ContextMenu.activate();
                        }, 0);
                    }

                    if (DATA.options.act) {
                        setTimeout(function () {
                            ActivityBoxes.activate();
                        }, 0);
                    }

                    if (DATA.options.str) {
                        setTimeout(function () {
                            UnitStrength.Menu.activate();
                            hideNavElements();
                        }, 0);
                    }

                    if (DATA.options.tra) {
                        setTimeout(function () {
                            TransportCapacity.activate();
                        }, 0);
                    }

                    if (DATA.options.com) {
                        setTimeout(function () {
                            UnitComparison.activate();
                        }, 0);
                    }

                    if (DATA.options.sml) {
                        setTimeout(function () {
                            SmileyBox.activate();
                        }, 0);
                    }

                    if (DATA.options.scr) {
                        setTimeout(function () {
                            MouseWheelZoom.activate();
                        }, 0);
                    }

                    if (DATA.options.sim) {
                        setTimeout(function () {
                            Simulator.activate();
                        }, 0);
                    }

                    if (DATA.options.sen) {
                        setTimeout(function () {
                            SentUnits.activate();
                        }, 0);
                    }

                    if (DATA.options.wwc) {
                        setTimeout(function () {
                            WorldWonderCalculator.activate();
                        }, 0);
                    }

                    if(DATA.options.rec) {
                        setTimeout(function () {
                            RecruitingTrade.activate();
                        }, 0);
                    }

                    if(DATA.options.way) {
                        setTimeout(function () {
                            ShortDuration.activate();
                        }, 0);
                    }

                    if (PID === 84367 || PID === 104769 || PID === 1291505) {
                        setTimeout(function() {
                            PoliticalMap.activate();

                            //PoliticalMap.getAllianceColors();

                            //Statistics.activate();
                        }, 0);
                    }

                    /*setTimeout(function () {
                        counter(Timestamp.server());
                        setInterval(function () {
                            counter(Timestamp.server());
                        }, 21600000);
                    }, 60000);*/

                    // Notifications
                    setTimeout(function () {
                        Notification.init();
                    }, 0);

                    setTimeout(function(){ HolidaySpecial.activate(); }, 0);


                    // Execute once to get the world wonder types and coordinates
                    /*setTimeout(function () {
                        if (!wonderTypes.great_pyramid_of_giza) {
                            getWorldWonderTypes();
                        }
                        if (wonderTypes.great_pyramid_of_giza) {
                            setTimeout(function () {
                                if (!wonder.map.mausoleum_of_halicarnassus) {
                                    getWorldWonders();
                                } else {
                                    if (DATA.options.wwi) {
                                        WorldWonderIcons.activate();
                                    }
                                }
                            }, 2000);
                        }
                    }, 3000);*/

                    // Execute once to get alliance ratio
                    if (wonder.ratio[AID] == -1 || !$.isNumeric(wonder.ratio[AID])) {
                        setTimeout(function () {
                            getPointRatioFromAllianceProfile();
                        }, 5000);
                    }
                }
                time_b = Timestamp.client();
                //console.log("Gebrauchte Zeit:" + (time_b - time_a));
            });
        } else {
            setTimeout(function () {
                loadFeatures();
            }, 100);
        }
    }

    if (location.pathname.indexOf("game") >= 0) {
        setStyle();

        loadFeatures();
    }

    /*******************************************************************************************************************************
     * HTTP-Requests
     * *****************************************************************************************************************************/
    function ajaxObserver() {
        $(document).ajaxComplete(function (e, xhr, opt) {

            var url = opt.url.split("?"), action = "";
            //console.debug("0: ", url[0]);
            //console.debug("1: ", url[1]);

            if(typeof(url[1]) !== "undefined" && typeof(url[1].split(/&/)[1]) !== "undefined") {

                action = url[0].substr(5) + "/" + url[1].split(/&/)[1].substr(7);
            }


            if (PID == 84367 || PID == 104769 || PID == 1577066) {
                console.log(action);
                //console.log((JSON.parse(xhr.responseText).json));
            }
            switch (action) {
                case "/frontend_bridge/fetch": // Daily Reward
                    //$('.daily_login').find(".minimize").click();
                    if (DATA.options.Hid) {
                        hidesIndexIron.activate();
                    }
                    break;
                case "/player/index":
                    settings();
                    if (diosettings) {
                        $('#dio_tools').click();
                        diosettings = false;
                    }
                    break;
                    // Ab Grepolis Version 2.114 ist der Ajax-Request: /frontend_bridge/execute
                case "/frontend_bridge/execute":
                case "/index/switch_town":
                    if (DATA.options.str) {
                        setTimeout(function () {
                            UnitStrength.Menu.update();
                        }, 0);
                    }
                    if (DATA.options.tra) {
                        setTimeout(function () {
                            TransportCapacity.update();
                        }, 0);
                    }
                    if (DATA.options.bir) {
                        //BiremeCounter.get();
                    }
                    if (DATA.options.tic) {
                        setTimeout(function () {
                            TownIcons.changeTownIcon();
                        }, 0);
                    }
                    if (DATA.options.Hid) {
                        hidesIndexIron.activate();
                    }
                    break;
                case "/building_hide/index":
                    if (DATA.options.Hid) {
                        hidesIndexIron.activate();
                    }
                    break;
                case "/building_docks/index":
                    if (DATA.options.bir) {
                        //BiremeCounter.getDocks();
                    }
                    break;
                case "/building_place/units_beyond":
                    if (DATA.options.bir) {
                        //BiremeCounter.getAgora();
                    }
                    //addTransporterBackButtons();
                    break;
                case "/building_place/simulator":
                    if (DATA.options.sim) {
                        Simulator.change();
                    }
                    break;
                case "/building_place/simulate":
                    if (DATA.options.sim) {
                        afterSimulation();
                    }
                    break;
				case "/town_overviews/culture_overview":
				case "/town_overviews/start_celebration":
				case "/town_overviews/start_all_celebrations":
                    if (DATA.options.Cul) {
                        cultureOverview.activate();
                    }
                    break;
				case "/farm_town_overviews/index":
                    if (DATA.options.Ish) {
                        islandHeader.activate();
                    }
                    break;
                case "/island_info/index":
                    if (DATA.options.Isl) {
                        islandFarmingVillages.activate();
                    }
                    break;

                case "/alliance_forum/forum":
                case "/message/new":
                case "/message/forward":
                case "/message/view":
                case "/player_memo/load_memo_content":
                    if (DATA.options.sml) {
                        SmileyBox.add(action);
                    }
                    if (DATA.options.bbc) {
                        addForm(action);
                    }
                    if (DATA.options.Fdm) {
                        ForumDeleteMultiple.activate();
                    }
                    break;
                case "/wonders/index":
                    if (DATA.options.per) {
                        WWTradeHandler();
                    }
                    if (DATA.options.wwc) {
                        getResWW();
                    }
                    break;
                case "/wonders/send_resources":
                    if (DATA.options.wwc) {
                        getResWW();
                    }
                    break;
                case "/ranking/alliance":
                    getPointRatioFromAllianceRanking();
                    break;
                case "/ranking/wonder_alliance":
                    getPointRatioFromAllianceRanking();
                    if (DATA.options.wwr) {
                        WorldWonderRanking.change(JSON.parse(xhr.responseText).plain.html);
                    }
                    if (DATA.options.wwi) {
                        WorldWonderIcons.activate();
                    }
                    break;
                case "/alliance/members_show":
                    getPointRatioFromAllianceMembers();
                    break;
                case "/town_info/trading":
                    addTradeMarks(15, 18, 15, "red");
                    TownTabHandler(action.split("/")[2]);
                    break;
                case "/town_overviews/trade_overview":
                    addPercentTrade(1234, false); // TODO
                    break;
                case "/farm_town_overviews/get_farm_towns_for_town":
                    changeResColor();
                    break;
                case "/command_info/conquest_info":
                    if (DATA.options.str) {
                        UnitStrength.Conquest.add();
                    }
                    break;
                case "/command_info/conquest_movements":
                case "/conquest_info/getinfo":
                    if (DATA.options.cnt) {
                        countMovements();
                    }
                    break;
                case "/building_barracks/index":
                case "/building_barracks/build":
                    if (DATA.options.str) {
                        UnitStrength.Barracks.add();
                    }
                    break;
                case "/town_info/attack":
                case "/town_info/support":
                    //console.debug(JSON.parse(xhr.responseText));
                    TownTabHandler(action.split("/")[2]);
                    if (DATA.options.Sel) {
                        selectunitshelper.activate();
                    }

                    break;
                case "/report/index":
                    changeDropDownButton();
                    loadFilter();
                    saveFilter();
                    //removeReports();
                    break;
                case "/report/view":
                    Statistics.LuckCounter.count();
                    break;
                case "/message/default":
                case "/message/index":
                    break;
                case "/town_info/go_to_town":
                    /*
                     //console.log(Layout.wnd);
                     var windo = GPWindowMgr.getOpenFirst(Layout.wnd.TYPE_TOWNINDEX).getID();
                     //console.log(GPWindowMgr.getOpenFirst(Layout.wnd.TYPE_TOWNINDEX));
                     GPWindowMgr.getOpenFirst(Layout.wnd.TYPE_TOWNINDEX).setPosition([100,400]);
                     //console.log(windo);
                     //console.log(GPWindowMgr.getOpenFirst(Layout.wnd.TYPE_TOWNINDEX).getPosition());
                     */
                    break;

                case "/town_overviews/store_iron":
                    if (DATA.options.Hio) {
                        hidesOverview.refresh_silver_total(xhr);
                    }
                    break;
                case "/town_overviews/hides_overview":
                    if (DATA.options.Hio) {
                        hidesOverview.init();
                    }
                    if (DATA.options.Hid) {
                        hidesIndexIron.activate();
                    }
                    break;
            }
        });
    }


    function test() {
        //https://gpde.innogamescdn.com/images/game/temp/island.png

        //console.log(WMap);
        //console.log(WMap.getSea(WMap.getXCoord(), WMap.getYCoord()));

        //console.log(GameControllers.LayoutToolbarActivitiesController().prototype.getActivityTypes());
        //console.log(GameViews);
        //console.log(GameViews.BarracksUnitDetails());

        //console.log(ITowns.getTown(Game.townId).unitsOuter().sword);
        //console.log(ITowns.getCurrentTown().unitsOuter().sword);

        //console.log(ITowns.getTown(Game.townId).researches().attributes);
        //console.log(ITowns.getTown(Game.townId).hasConqueror());
        //console.log(ITowns.getTown(Game.townId).allUnits());
        //console.log(ITowns.all_units.fragments[Game.townId]._byId);
        //console.log("Zeus: " + ITowns.player_gods.zeus_favor_delta_property.lastTriggeredVirtualPropertyValue);
        //console.log(ITowns.player_gods.attributes);

        //console.log(ITowns.getTown('5813').createTownLink());
        //console.log(ITowns.getTown(5813).unitsOuterTown);

        //console.log(ITowns.getTown(Game.townId).getLinkFragment());

        //console.log(ITowns.getTown(Game.townId).allGodsFavors());

        console.debug("STADTGRUPPEN", Game.constants.ui.town_group);
    }

    /*******************************************************************************************************************************
     * Helping functions
     * ----------------------------------------------------------------------------------------------------------------------------
     * | â fixUnitValues: Get unit values and overwrite some wrong values
     * | â getMaxZIndex: Get the highest z-index of "ui-dialog"-class elements
     * ----------------------------------------------------------------------------------------------------------------------------
     *******************************************************************************************************************************/

    // Fix buggy grepolis values
    function fixUnitValues() {
        //GameData.units.small_transporter.attack = GameData.units.big_transporter.attack = GameData.units.demolition_ship.attack = GameData.units.militia.attack = 0;
        //GameData.units.small_transporter.defense = GameData.units.big_transporter.defense = GameData.units.demolition_ship.defense = GameData.units.colonize_ship.defense = 0;
        GameData.units.militia.resources = {wood: 0, stone: 0, iron: 0};
    }

    function getMaxZIndex() {
        var maxZ = Math.max.apply(null, $.map($("div[class^='ui-dialog']"), function (e, n) {
            if ($(e).css('position') == 'absolute') {
                return parseInt($(e).css('z-index'), 10) || 1000;
            }
        }));
        return (maxZ !== -Infinity) ? maxZ + 1 : 1000;
    }

    function getBrowser() {
        var ua = navigator.userAgent,
            tem,
            M = ua.match(/(opera|maxthon|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i) || [];
        if (/trident/i.test(M[1])) {
            tem = /\brv[ :]+(\d+)/g.exec(ua) || [];
            M[1] = 'IE';
            M[2] = tem[1] || '';
        }
        if (M[1] === 'Chrome') {
            tem = ua.match(/\bOPR\/(\d+)/);
            if (tem !== null) {
                M[1] = 'Opera';
                M[2] = tem[1];
            }
        }
        M = M[2] ? [M[1], M[2]] : [navigator.appName, navigator.appVersion, '-?'];
        if ((tem = ua.match(/version\/(\d+)/i)) !== null) M.splice(1, 1, tem[1]);

        return M.join(' ');
    }

    // Error Handling / Remote diagnosis / Automatic bug reports
    /*function errorHandling(e, fn) {
        if (PID == 84367 || PID == 104769 || PID === 1291505 || PID === 1538932) {
            HumanMessage.error("DIO-TOOLS(" + version + ")-ERROR: " + e.message);
            console.log("DIO-TOOLS | Error-Stack | ", e.stack);
        } else {
            if (!DATA.error[version]) {
                DATA.error[version] = {};
            }*/

    /*if (DATA.options.err && !DATA.error[version][fn]) {
                $.ajax({
                    type: "POST",
                    url: "https://diotools.de/game/error.php",
                    data: {error: e.stack.replace(/'/g, '"'), "function": fn, browser: getBrowser(), version: version},
                    success: function (text) {
                        DATA.error[version][fn] = true;
                        saveValue("error", JSON.stringify(DATA.error));
                    }
                });
            }*/
    //}
    //}

    function createWindowType(name, title, width, height, minimizable, position) {
        $('<style id="dio_window">' +
          '.dio_title_img { height:18px; float:left; margin-right:3px; } ' +
          '.dio_title { margin:1px 6px 13px 23px; color:rgb(126,223,126); } ' +
          '</style>').appendTo('head');

        // Create Window Type
        function WndHandler(wndhandle) {
            this.wnd = wndhandle;
        }

        Function.prototype.inherits.call(WndHandler, WndHandlerDefault);
        WndHandler.prototype.getDefaultWindowOptions = function () {
            return {
                position: position,
                width: width,
                height: height,
                minimizable: minimizable,
                title: "<img class='dio_title_img' src='https://www.tuto-de-david1327.com/medias/images/icon.gif' /><div class='dio_title'>" + title + "</div>"
            };
        };
        GPWindowMgr.addWndType(name, "", WndHandler, 1);
    }

    // Notification
    var Notification = {
        init: function () {
            // NotificationType
            NotificationType.DIO_TOOLS = "diotools";

            // Style
            $('<style id="dio_notification" type="text/css">' +
              '#notification_area .diotools .icon { background: url(https://www.tuto-de-david1327.com/medias/images/icon.gif) 4px 7px no-repeat !important;} ' +
              '#notification_area .diotools { cursor:pointer; } ' +
              '</style>').appendTo('head');

            var notif = DATA.notification;
            if (notif <= 7) {
                //Notification.create(1, 'Swap context menu buttons ("Select town" and "City overview")');
                //Notification.create(2, 'Town overview (old window mode)');
                //Notification.create(3, 'Mouse wheel: You can change the views with the mouse wheel');
                //Notification.create(4, 'Town icons on the strategic map');
                //Notification.create(5, 'Percentual unit population in the town list');
                //Notification.create(6, 'New world wonder ranking');
                //Notification.create(7, 'World wonder icons on the strategic map');

                // Click Event
                $('.diotools .icon').click(function () {
                    openSettings();
                    $(this).parent().find(".close").click();
                });

                saveValue('notif', '8');
            }
        },
        create: function (nid, feature) {
            var Notification = new NotificationHandler();
            Notification.notify($('#notification_area>.notification').length + 1, NotificationType.DIO_TOOLS,
                                "<span style='color:rgb(8, 207, 0)'><b><u>New Feature!</u></b></span>" + feature + "<span class='small notification_date'>DIO-Tools: v" + version + "</span>");
        }
    };

    /*******************************************************************************************************************************
     * Mousewheel Zoom
     *******************************************************************************************************************************/

    var MouseWheelZoom = {
        activate: function () {
            // Agora
            $('<style id="dio_Agora_style">#dio_Agora {position: absolute; width: 144px; height: 26px; left: 1px; z-index: 5;}</style>').appendTo('head');
            $('<a id="dio_Agora"></a>').appendTo('.nui_battlepoints_container');
            $("#dio_Agora").click(function () {PlaceWindowFactory.openPlaceWindow();});

            // Scroll trough the views
            $('#main_area, #dio_political_map, .viewport, .sjs-city-overview-viewport').bind('mousewheel', function (e) {
                e.stopPropagation();
                var current = $('.bull_eye_buttons .checked').get(0).getAttribute("name"), delta = 0, scroll, sub_scroll = 6;

                switch (current) {
                    case 'political_map':
                        scroll = 4;
                        break;
                    case 'strategic_map':
                        scroll = 3;
                        break;
                    case 'island_view':
                        scroll = 2;
                        break;
                    case 'city_overview':
                        scroll = 1;
                        break;
                }
                delta = -e.originalEvent.detail || e.originalEvent.wheelDelta; // Firefox || Chrome & Opera

                //console.debug("cursor_pos", e.pageX, e.pageY);

                if (scroll !== 4) {
                    if (delta < 0) {
                        scroll += 1;
                    } else {
                        scroll -= 1;
                    }
                } else {
                    // Zoomstufen bei der Politischen Karte
                    sub_scroll = $('.zoom_select').get(0).selectedIndex;

                    if (delta < 0) {
                        sub_scroll -= 1;
                    } else {
                        sub_scroll += 1;
                    }
                    if (sub_scroll === -1) {
                        sub_scroll = 0;
                    }
                    if (sub_scroll === 7) {
                        scroll = 3;
                    }
                }
                switch (scroll) {
                    case 4:
                        if (!$('.bull_eye_buttons .btn_political_map').hasClass("checked")) {
                            $('.bull_eye_buttons .btn_political_map').click();
                        }

                        // onChange wird aufgerufen, wenn sich die Selektierung Ã¤ndert
                        //$('.zoom_select option').eq(sub_scroll).prop('selected', true);
                        $('.zoom_select').get(0)[sub_scroll].selected = true;
                        //$('.zoom_select').get(0).change();
                        //$('.zoom_select').get(0).val(sub_scroll);


                        PoliticalMap.zoomToCenter();
                        //PoliticalMap.zoomToCenterToCursorPosition($('.zoom_select').get(0)[sub_scroll].value, [e.pageX, e.pageY]);

                        break;
                    case 3:
                        $('.bull_eye_buttons .strategic_map').click();
                        $('#popup_div').css('display', 'none');
                        break;
                    case 2:
                        $('.bull_eye_buttons .island_view').click();
                        TownPopup.remove();
                        break;
                    case 1:
                        $('.bull_eye_buttons .city_overview').click();
                        break;
                }

                // Prevent page from scrolling
                return false;
            });
        },
        deactivate: function () {
            $('#main_area, .ui_city_overview').unbind('mousewheel');
            $('#dio_Agora').remove();
            $('#dio_Agora_style').remove();
        }
    };


    /*******************************************************************************************************************************
     * Statistics
     * ----------------------------------------------------------------------------------------------------------------------------
     * | â Expansion of towns?
     * | â Occupancy of the farms?
     * | â Mouseclick-Counter?
     * | â Resource distribution (%)?
     * | â Building level counter ?
     * ----------------------------------------------------------------------------------------------------------------------------
     *******************************************************************************************************************************/
    //$('<script src="https://github.com/mbostock/d3/blob/master/d3.js"></script>').appendTo("head");
    // https://mbostock.github.com/d3/d3.v2.js
    var Statistics = {
        activate: function () {
            Statistics.addButton();

            $('<style id="dio_statistic">' +
              'path { stroke: steelblue; stroke-width: 1; fill: none; } ' +
              '.axis { shape-rendering: crispEdges; } ' +
              '.x.axis line { stroke: lightgrey; } ' +
              '.x.axis .minor { stroke-opacity: .5; } ' +
              '.x.axis path { display: none; } ' +
              '.y.axis line, .y.axis path { fill: none; stroke: #000; } ' +
              '</style>').appendTo('head');

            Statistics.ClickCounter.activate();

            // Create Window Type
            createWindowType("DIO_STATISTICS", "Statistics", 300, 250, true, ["center", "center", 100, 100]);
        },
        deactivate: function () {
            $('#dio_statistic_button').remove();
            $('#dio_statistic').remove();
            Statistics.ClickCounter.deactivate();
        },
        addButton: function () {
            $('<div id="dio_statistic_button" class="circle_button"><div class="ico_statistics js-caption"></div></div>').appendTo(".gods_area");

            // Style
            $('<style id="dio_statistic_style">' +
              '#dio_statistic_button { top:56px; left:-4px; z-index:10; position:absolute; } ' +

              '#dio_statistic_button .ico_statistics { margin:7px 0px 0px 8px; width:17px; height:17px; background:url(https://www.tuto-de-david1327.com/medias/images/statistique.png) no-repeat 0px 0px; background-size:100%; } ' +
              // https://s1.directupload.net/images/140408/pltgqlaw.png  // https://s14.directupload.net/images/140408/k4wikrlq.png // https://s7.directupload.net/images/140408/ahfr8227.png
              '#dio_statistic_button .ico_statistics.checked { margin-top:8px; } ' +
              '</style>').appendTo('head');

            // Tooltip
            $('#dio_statistic_button').tooltip(getText("labels", "uni")); // TODO

            // Events
            $('#dio_statistic_button').on('mousedown', function () {
                $('#dio_statistic_button, .ico_statistics').addClass("checked");
            }).on('mouseup', function () {
                $('#dio_statistic_button, .ico_statistics').removeClass("checked");
            });

            $('#dio_statistic_button').click(function () {
                if (!Layout.wnd.getOpenFirst(GPWindowMgr.TYPE_DIO_STATISTICS)) {
                    Statistics.openWindow();
                    $('#dio_statistic_button, .ico_statistics').addClass("checked");
                } else {
                    Statistics.closeWindow();
                    $('#dio_statistic_button, .ico_statistics').removeClass("checked");
                }
            });
        },
        openWindow: function () {
            var content =
                '<div id="dio_mouseclicks" style="margin-bottom:5px; font-style:italic;">' +
                '<span style="text-decoration:underline;">Insgesamt:</span> <span></span>' +
                '<span style="float:right;"></span><span style="text-decoration:underline;float:right;">Heute:</span> ' +
                '</div><canvas id="dio_graph" width="290" height="150" style="margin-top:15px;"></canvas>';

            Layout.wnd.Create(GPWindowMgr.TYPE_DIO_STATISTICS).setContent(content);

            Statistics.ClickCounter.onOpenWindow();

            // Draw diagram
            var graph, xPadding = 35, yPadding = 25;

            var data = {values: [{X: "Jan", Y: 0}]};

            //console.log(DATA.clickCount);
            for (var o in DATA.clickCount) {
                data.values.push({X: "opp", Y: DATA.clickCount[o]});
            }

            function getMaxY() {
                var max = 0;
                for (var i = 0; i < data.values.length; i++) {
                    if (data.values[i].Y > max) {
                        max = data.values[i].Y;
                    }
                }
                max += 10 - max % 10;
                return max + 10;
            }

            function getXPixel(val) {
                return ((graph.width() - xPadding) / data.values.length) * val + (xPadding + 10);
            }

            function getYPixel(val) {
                return graph.height() - (((graph.height() - yPadding) / getMaxY()) * val) - yPadding;
            }

            graph = $('#dio_graph');
            var c = graph[0].getContext('2d');

            c.lineWidth = 2;
            c.strokeStyle = '#333';
            c.font = 'italic 8pt sans-serif';
            c.textAlign = "center";

            // Axis
            c.beginPath();
            c.moveTo(xPadding, 0);
            c.lineTo(xPadding, graph.height() - yPadding);
            c.lineTo(graph.width(), graph.height() - yPadding);
            c.stroke();

            // X-Axis caption
            for (var x = 0; x < data.values.length; x++) {
                c.fillText(data.values[x].X, getXPixel(x), graph.height() - yPadding + 20);
            }

            // Y-Axis caption
            c.textAlign = "right";
            c.textBaseline = "middle";

            var maxY = getMaxY(), maxYscala = Math.ceil(maxY / 1000) * 1000;
            //console.log(maxY);
            for (var y = 0; y < maxY; y += maxYscala / 10) {
                c.fillText(y, xPadding - 10, getYPixel(y));
            }

            // Graph
            c.strokeStyle = 'rgb(0,150,0)';
            c.beginPath();
            c.moveTo(getXPixel(0), getYPixel(data.values[0].Y));

            for (var i = 1; i < data.values.length; i++) {
                c.lineTo(getXPixel(i), getYPixel(data.values[i].Y));
            }
            c.stroke();

            // Points
            c.fillStyle = '#333';

            for (var p = 0; p < data.values.length; p++) {
                c.beginPath();
                c.arc(getXPixel(p), getYPixel(data.values[p].Y), 2, 0, Math.PI * 2, true);
                c.fill();
            }
        },
        closeWindow: function () {
            Layout.wnd.getOpenFirst(GPWindowMgr.TYPE_DIO_STATISTICS).close();
        },

        ClickCounter: {
            today: "00000000",
            activate: function () {
                Statistics.ClickCounter.updateDate();

                $(document).on("mousedown", function () {
                    DATA.clickCount[Statistics.ClickCounter.today]++;
                });

                window.onbeforeunload = function () {
                    Statistics.ClickCounter.save();
                };

                // TODO: Update date
                setTimeout(function () {
                    Statistics.ClickCounter.updateDate();
                }, 0);
            },
            deactivate: function () {
                $(document).off("mousedown");
            },
            save: function () {
                saveValue(WID + "_click_count", JSON.stringify(DATA.clickCount));
            },
            updateDate: function () {
                var today = new Date((window.Timestamp.server() + 7200) * 1000);

                Statistics.ClickCounter.today = today.getUTCFullYear() + ((today.getUTCMonth() + 1) < 10 ? "0" : "") + (today.getUTCMonth() + 1) + (today.getUTCDate() < 10 ? "0" : "") + today.getUTCDate();

                DATA.clickCount[Statistics.ClickCounter.today] = DATA.clickCount[Statistics.ClickCounter.today] || 0;
            },
            onOpenWindow: function () {
                $('#dio_mouseclicks span:eq(2)').get(0).innerHTML = DATA.clickCount[Statistics.ClickCounter.today];
                $(document).off("mousedown");
                $(document).on("mousedown", function () {
                    if ($('#dio_mouseclicks').get(0)) {
                        $('#dio_mouseclicks span:eq(2)').get(0).innerHTML = ++DATA.clickCount[Statistics.ClickCounter.today];
                    } else {
                        DATA.clickCount[Statistics.ClickCounter.today]++;
                        $(document).off("mousedown");
                        $(document).on("mousedown", function () {
                            DATA.clickCount[Statistics.ClickCounter.today]++;
                        });
                    }
                });
            }
        },
        LuckCounter: {
            luckArray: {},
            count: function () {
                if ($('.fight_bonus.luck').get(0)) {
                    var report_id = $('#report_report_header .game_arrow_delete').attr("onclick").split(",")[1].split(")")[0].trim(),
                        luck = parseInt($('.fight_bonus.luck').get(0).innerHTML.split(":")[1].split("%")[0].trim(), 10);

                    Statistics.LuckCounter.luckArray[report_id] = luck;

                    //console.log(Statistics.LuckCounter.calcAverage());
                }
            },
            calcAverage: function () {
                var sum = 0, count = 0;
                for (var report_id in Statistics.LuckCounter.luckArray) {
                    if (Statistics.LuckCounter.luckArray.hasOwnProperty(report_id)) {
                        sum += parseInt(Statistics.LuckCounter.luckArray[report_id], 10);
                        count++;
                    }
                }
                return (parseFloat(sum) / parseFloat(count));
            }
        }
    };

    /*******************************************************************************************************************************
     * Body Handler
     * ----------------------------------------------------------------------------------------------------------------------------
     * | â Town icon
     * | â Town list: Adds town type to the town list
     * | â Swap Context Icons
     * | â City overview
     * ----------------------------------------------------------------------------------------------------------------------------
     *******************************************************************************************************************************/

    // Fix icon update when switching cities
    function updateIcon() {
        setTimeout(function() {
            var townType = (manuTownTypes[Game.townId] || ((autoTownTypes[Game.townId] || "no")));
            $('#town_icon .icon_big').removeClass().addClass('icon_big townicon_' + townType + " auto");
            $('#town_icon .icon_big').css({
                backgroundPosition: TownIcons.types[townType] * -25 + 'px 0px'
            });
        },200);
        if (DATA.options.Hid) {
            setTimeout(function () {
                hidesIndexIron.activate();
            }, 200);
        };
        if (DATA.options.Tol) {
            townslist.activate();
        };
        if (DATA.options.Cul) {
            cultureOverview.activate();
        }
    };

    $(".btn_next_town").click(function () {
        updateIcon();
    });
    $(".btn_prev_town").click(function () {
        updateIcon();
    });
    $(".btn_prev_town").click(function () {
        updateIcon();
    });
    // END of Fix

    function imageSelectionProtection() {
        $('<style id="dio_image_selection" type="text/css"> img { -moz-user-select: -moz-none; -khtml-user-select: none; -webkit-user-select: none;} </style>').appendTo('head');
    }

    var worldWonderIcon = {
        colossus_of_rhodes: "url(https://gpall.innogamescdn.com/images/game/map/wonder_colossus_of_rhodes.png) 38px -1px;",
        great_pyramid_of_giza: "url(https://gpall.innogamescdn.com/images/game/map/wonder_great_pyramid_of_giza.png) 34px -6px;",
        hanging_gardens_of_babylon: "url(https://gpall.innogamescdn.com/images/game/map/wonder_hanging_gardens_of_babylon.png) 34px -5px;",
        lighthouse_of_alexandria: "url(https://gpall.innogamescdn.com/images/game/map/wonder_lighthouse_of_alexandria.png) 37px -1px;",
        mausoleum_of_halicarnassus: "url(https://gpall.innogamescdn.com/images/game/map/wonder_mausoleum_of_halicarnassus.png) 37px -4px;",
        statue_of_zeus_at_olympia: "url(https://gpall.innogamescdn.com/images/game/map/wonder_statue_of_zeus_at_olympia.png) 36px -3px;",
        temple_of_artemis_at_ephesus: "url(https://gpall.innogamescdn.com/images/game/map/wonder_temple_of_artemis_at_ephesus.png) 34px -5px;"
    };

    var WorldWonderIcons = {
        activate: function () {
            try {
                if (!$('#dio_wondericons').get(0)) {
                    var color = "orange";

                    // style for world wonder icons
                    var style_str = "<style id='dio_wondericons' type='text/css'>";
                    for (var ww_type in wonder.map) {
                        if (wonder.map.hasOwnProperty(ww_type)) {
                            for (var ww in wonder.map[ww_type]) {
                                if (wonder.map[ww_type].hasOwnProperty(ww)) {
                                    /*
                                     if(wonder.map[ww_type][ww] !== AID){
                                     color = "rgb(192, 109, 54)";
                                     } else {
                                     color = "orange";
                                     }
                                     */
                                    style_str += "#mini_i" + ww + ":before {" +
                                        "content: '';" +
                                        "background:" + color + " " + worldWonderIcon[ww_type] +
                                        "background-size: auto 97%;" +
                                        "padding: 8px 16px;" +
                                        "top: 50px;" +
                                        "position: relative;" +
                                        "border-radius: 40px;" +
                                        "z-index: 200;" +
                                        "cursor: pointer;" +
                                        "box-shadow: 1px 1px 0px rgba(0, 0, 0, 0.5);" +
                                        "border: 2px solid green; } " +
                                        "#mini_i" + ww + ":hover:before { z-index: 201; " +
                                        "filter: url(#Brightness12);" +
                                        "-webkit-filter: brightness(1.2); } ";
                                }
                            }
                        }
                    }
                    $(style_str + "</style>").appendTo('head');

                    // Context menu on mouseclick
                    $('#minimap_islands_layer').on('click', '.m_island', function (e) {
                        var ww_coords = this.id.split("i")[3].split("_");
                        Layout.contextMenu(e, 'wonder', {ix: ww_coords[0], iy: ww_coords[1]});
                    });


                }
            } catch (error) {
                errorHandling(error, "setWonderIconsOnMap");
            }
        },
        deactivate: function () {
            $('#dio_wondericons').remove();
        }
    };
    // Modif position Quack Toolsammlung
    $('<style id="dio_Quack">'+
      //TownBB
      '#BTN_TownBB {top: -30px !important; left: 50px;}'+
      // Chat im MenÃ¼ ausblenden
      '.nui_main_menu ul { height:auto !important; }'+
      '</style>').appendTo('head');
    var TownIcons = {
        types: {
            // Automatic Icons
            lo: 0,
            ld: 3,
            so: 6,
            sd: 7,
            fo: 10,
            fd: 9,
            bu: 14, /* Building */
            po: 22,
            no: 12,

            // Manual Icons
            fa: 20, /* Favor */
            re: 15, /* Resources */
            di: 2, /* Distance */
            sh: 1, /* Pierce */
            lu: 13, /* ?? */
            dp: 11, /* Diplomacy */
            ha: 15, /* ? */
            si: 18, /* Silber */
            ra: 17,
            ch: 19, /* Research */
            ti: 23, /* Time */
            un: 5,
            wd: 16, /* Wood */
            wo: 24, /* World */
            bo: 13, /* Booty */
            gr: 21, /* Lorbeer */
            st: 17, /* Stone */
            is: 26, /* ?? */
            he: 4, /* Helmet */
            ko: 8 /* Kolo */

        },
        deactivate: function () {
            $('#town_icon').remove();
            $('#dio_townicons_field').remove();

            TownPopup.deactivate();
        },
        activate: function () {
            try {
                $('<div id="town_icon"><div class="town_icon_bg"><div class="icon_big townicon_' +
                  (manuTownTypes[Game.townId] || ((autoTownTypes[Game.townId] || "no") + " auto")) + '"></div></div></div>').appendTo('.town_name_area');

                // Town Icon Style
                $('#town_icon .icon_big').css({
                    backgroundPosition: TownIcons.types[(manuTownTypes[Game.townId] || ((autoTownTypes[Game.townId] || "no")))] * -25 + 'px 0px'
                });
                //console.debug(dio_sprite);
                $('<style id="dio_townicons_field" type="text/css">' +
                  '#town_icon { background:url(' + dio_sprite + ') 0 -125px no-repeat; position:absolute; width:69px; height:61px; left:-47px; top:0px; z-index: 10; } ' +
                  '#town_icon .town_icon_bg { background:url(' + dio_sprite + ') -76px -129px no-repeat; width:43px; height:43px; left:25px; top:4px; cursor:pointer; position: relative; } ' +
                  '#town_icon .town_icon_bg:hover { filter:url(#Brightness11); -webkit-filter:brightness(1.1); box-shadow: 0px 0px 15px rgb(1, 197, 33); } ' +
                  '#town_icon .icon_big	{ position:absolute; left:9px; top:9px; height:25px; width:25px; } ' +

                  '#town_icon .select_town_icon {position: absolute; top:47px; left:23px; width:145px; display:none; padding:2px; border:3px inset rgb(7, 99, 12); box-shadow:rgba(0, 0, 0, 0.5) 4px 4px 6px; border-radius:0px 10px 10px 10px;' +
                  'background:url(https://gpall.innogamescdn.com/images/game/popup/middle_middle.png); } ' +
                  '#town_icon .item-list { max-height:400px; max-width:200px; align:right; overflow-x:hidden; } ' +

                  '#town_icon .option_s { cursor:pointer; width:20px; height:20px; margin:0px; padding:2px 2px 3px 3px; border:2px solid rgba(0,0,0,0); border-radius:5px; background-origin:content-box; background-clip:content-box;} ' +
                  '#town_icon .option_s:hover { border: 2px solid rgb(59, 121, 81) !important;-webkit-filter: brightness(1.3); } ' +
                  '#town_icon .sel { border: 2px solid rgb(202, 176, 109); } ' +
                  '#town_icon hr { width:145px; margin:0px 0px 7px 0px; position:relative; top:3px; border:0px; border-top:2px dotted #000; float:left} ' +
                  '#town_icon .auto_s { width:136px; height:16px; float:left} ' +

                  // Quickbar modification
                  '.ui_quickbar .left, .ui_quickbar .right { width:46%; } ' +

                  // because of Kapsonfires Script and Beta Worlds bug report bar:
                  '.town_name_area { z-index:11; left:52%; } ' +
                  '.town_name_area .left { z-index:20; left:-39px; } ' +
                  '</style>').appendTo('head');


                var icoArray = ['ld', 'lo', 'sh', 'di', 'un',
                                'sd', 'so', 'ko', 'ti', 'gr',
                                'fd', 'fo', 'dp', 'no', 'po',
                                're', 'wd', 'st', 'si', 'bu',
                                'he', 'ch', 'bo', 'fa', 'wo'];

                // Fill select box with town icons
                $('<div class="select_town_icon dropdown-list default active"><div class="item-list"></div></div>').appendTo("#town_icon");
                for (var i in icoArray) {
                    if (icoArray.hasOwnProperty(i)) {
                        $('.select_town_icon .item-list').append('<div class="option_s icon_small townicon_' + icoArray[i] + '" name="' + icoArray[i] + '"></div>');
                    }
                }
                $('<hr><div class="option_s auto_s" name="auto"><b>Auto</b></div>').appendTo('.select_town_icon .item-list');

                $('#town_icon .option_s').click(function () {
                    $("#town_icon .sel").removeClass("sel");
                    $(this).addClass("sel");

                    if ($(this).attr("name") === "auto") {
                        delete manuTownTypes[Game.townId];
                    } else {
                        manuTownTypes[Game.townId] = $(this).attr("name");
                    }
                    TownIcons.changeTownIcon();

                    // Update town icons on the map
                    TownIcons.Map.activate(); //setOnMap();

                    saveValue(WID + "_townTypes", JSON.stringify(manuTownTypes));
                });

                // Show & hide drop menus on click
                $('#town_icon .town_icon_bg').click(function () {
                    var el = $('#town_icon .select_town_icon').get(0);
                    if (el.style.display === "none") {
                        el.style.display = "block";
                    } else {
                        el.style.display = "none";
                    }
                });

                $('#town_icon .select_town_icon [name="' + (manuTownTypes[Game.townId] || (autoTownTypes[Game.townId] ? "auto" : "" )) + '"]').addClass("sel");

            } catch (error) {
                errorHandling(error, "addTownIcon");
            }
        },
        changeTownIcon: function () {
            var townType = (manuTownTypes[Game.townId] || ((autoTownTypes[Game.townId] || "no")));
            $('#town_icon .icon_big').removeClass().addClass('icon_big townicon_' + townType + " auto");
            $('#town_icon .sel').removeClass("sel");
            $('#town_icon .select_town_icon [name="' + (manuTownTypes[Game.townId] || (autoTownTypes[Game.townId] ? "auto" : "" )) + '"]').addClass("sel");

            $('#town_icon .icon_big').css({
                backgroundPosition: TownIcons.types[townType] * -25 + 'px 0px'
            });

            $('#town_icon .select_town_icon').get(0).style.display = "none";
        },
        Map: {
            // TODO: activate aufspliten in activate und add
            activate: function () {
                try {
                    // if town icon changed
                    if ($('#dio_townicons_map').get(0)) {
                        $('#dio_townicons_map').remove();
                    }

                    // Style for own towns (town icons)
                    var start = (new Date()).getTime(), end, style_str = "<style id='dio_townicons_map' type='text/css'>";
                    for (var e in autoTownTypes) {
                        if (autoTownTypes.hasOwnProperty(e)) {
                            style_str += "#mini_t" + e + ", #town_flag_"+ e + " .flagpole {"+
                                "background: rgb(255, 187, 0) url(" + dio_sprite + ") " + (TownIcons.types[(manuTownTypes[e] || autoTownTypes[e])] * -25) + "px -27px repeat !important; } ";
                        }
                    }

                    style_str += ".own_town .flagpole, #main_area .m_town.player_"+ PID +" { z-index: 100 !important; cursor: pointer; width:19px; height:19px; border-radius: 11px; border: 2px solid rgb(16, 133, 0); margin: -4px !important; font-size: 0em !important; box-shadow: 1px 1px 0px rgba(0, 0, 0, 0.5); } ";

                    // Mouseover Effect
                    style_str += ".own_town .flagpole:hover, .m_town:hover { z-index: 101 !important; filter: brightness(1.2); -webkit-filter: brightness(1.2); font-size: 2em; margin-top: -1px; } ";


                    // Context menu on mouse click
                    style_str += "#minimap_islands_layer .m_town { z-index: 99; cursor: pointer; } ";

                    $('#minimap_islands_layer').off('click', '.m_town');
                    $('#minimap_islands_layer').on('click', '.m_town', function (z) {
                        var id = parseInt(this.id.substring(6), 10);

                        // Town names of foreign towns are unknown
                        if(typeof(ITowns.getTown(id)) !== "undefined") {
                            Layout.contextMenu(z, 'determine', {"id": id, "name": ITowns.getTown(id).name});
                        }
                        else {
                            // No town name in the title of the window
                            Layout.contextMenu(z, 'determine', {"id": id });
                        }

                        // Prevent parent world wonder event
                        z.stopPropagation();
                    });

                    $('#minimap_islands_layer').off("mousedown");
                    $('#minimap_islands_layer').on("mousedown", function(){

                        if(typeof($('#context_menu').get(0)) !== "undefined"){
                            $('#context_menu').get(0).remove();
                        }
                    });


                    // Town Popup for own towns
                    style_str += "#dio_town_popup .count { position: absolute; bottom: 1px; right: 1px; font-size: 10px; } ";

                    // Town Popups on Strategic map
                    $('#minimap_islands_layer').off('mouseout', '.m_town');
                    $('#minimap_islands_layer').on('mouseout', '.m_town', function () {
                        TownPopup.remove();
                    });
                    $('#minimap_islands_layer').off('mouseover', '.m_town');
                    $('#minimap_islands_layer').on('mouseover', '.m_town', function () {
                        TownPopup.add(this);
                    });

                    // Town Popups on island view
                    $('#map_towns').off('mouseout', '.own_town .flagpole');
                    $('#map_towns').on('mouseout', '.own_town .flagpole', function () {
                        TownPopup.remove();
                    });
                    $('#map_towns').off('mouseover', '.own_town .flagpole');
                    $('#map_towns').on('mouseover', '.own_town .flagpole', function () {
                        TownPopup.add(this);
                    });


                    // Style for foreign cities (shadow)
                    style_str += "#minimap_islands_layer .m_town { text-shadow: 1px 1px 0px rgba(0, 0, 0, 0.7); } ";

                    // Style for night mode
                    style_str += "#minimap_canvas.expanded.night, #map.night .flagpole { filter: brightness(0.7); -webkit-filter: brightness(0.7); } ";
                    style_str += "#minimap_click_layer { display:none; }";

                    style_str += "</style>";
                    $(style_str).appendTo('head');


                } catch (error) {
                    errorHandling(error, "TownIcons.Map.activate");
                }
            },
            deactivate: function () {
                $('#dio_townicons_map').remove();

                // Events entfernen
                $('#minimap_islands_layer').off('click', '.m_town');
                $('#minimap_islands_layer').off("mousedown");

                $('#minimap_islands_layer').off('mouseout', '.m_town');
                $('#minimap_islands_layer').off('mouseover', '.m_town');
            }
        }
    };

    var TownPopup = {
        activate : function(){

            $('<style id="dio_town_popup_style" type="text/css">' +
              '#dio_town_popup { position:absolute; z-index:99;max-width: 173px;} ' +

              '#dio_town_popup .title { margin:5px;font-weight: bold; } ' +

              '#dio_town_popup .dio_branding { position:absolute; right:12px; top:8px; height: 20px; filter:sepia(1); -webkit-filter:sepia(1); opacity:0.5; } ' +

              '#dio_town_popup .unit_content, ' +
              '#dio_town_popup .spy_content, ' +
              '#dio_town_popup .god_content, ' +
              '#dio_town_popup .resources_content { background-color: #ffe2a1; border: 1px solid #e1af55; margin-top:2px; padding: 4px; font-family: Arial;font-weight: 700;font-size: 0.8em; } ' +
              '#dio_town_popup .resources_content { text-align: right; margin-top:3px; } ' +

              '#dio_town_popup .resources_content table { min-width:95% } ' +

              '#dio_town_popup .footer_content { margin-top:3px;  } ' +
              '#dio_town_popup .footer_content table { width:100%; } ' +

              '#dio_town_popup .spy_content { height:25px; margin-right:3px; } ' +
              '#dio_town_popup .god_content { width:25px; } ' +

              '#dio_town_popup .god_mini { height: 25px; width: 25px; background-size: 98%; background-position: 0px -125px; margin-right: -6px; } ' +

              // God Icon
              '#dio_town_popup .god_mini.zeus { background-position: 0px 0px; } ' +
              '#dio_town_popup .god_mini.athena { background-position: 0px -25px; } ' +
              '#dio_town_popup .god_mini.poseidon { background-position: 0px -50px; } ' +
              '#dio_town_popup .god_mini.hera { background-position: 0px -75px; } ' +
              '#dio_town_popup .god_mini.hades { background-position: 0px -100px; } ' +
              '#dio_town_popup .god_mini.artemis { background-position: 0px -150px; } ' +

              '#dio_town_popup .count { position: absolute; bottom: -2px; right: 2px; font-size: 10px; font-family: Verdana,Arial,Helvetica,sans-serif; } ' +
              '#dio_town_popup .four_digit_number .count { font-size:8px !important; } ' +
              '#dio_town_popup .unit_icon25x25 { border: 1px solid #6e4b0b; margin: 1px; } ' +
              '#dio_town_popup .wall { width:25px; height:25px; background-image:url(https://gpde.innogamescdn.com/images/game/main/wall.png); border: 1px solid #6e4b0b; margin: 1px; display: inline-block; vertical-align: middle; background-size: 100%; } ' +

              // Spy Icon
              '#dio_town_popup .support_filter { margin: 0px 4px 0px 0px; float:left; } ' +
              '#dio_town_popup .spy_text { line-height: 2.3em; float:left; } ' +

              // Bei langen Stadtnamen wird sonst der Rand abgeschnitten:
              '#dio_town_popup .popup_middle_right { min-width: 11px; } ' +

              '</style>').appendTo('head');

        },
        deactivate : function(){
            $("#dio_town_popup_style").remove();
        },
        add : function(that){
            var townID = 0;
            //console.debug("TOWN", $(that).offset(), that.id);

            if(that.id === ""){
                // Island view
                townID = parseInt($(that).parent()[0].id.substring(10), 10);
            }
            else {
                // Strategic map
                townID = parseInt(that.id.substring(6), 10);
            }

            // Own town?
            if (typeof(ITowns.getTown(townID)) !== "undefined") {

                var units = ITowns.getTowns()[townID].units();

                TownPopup.remove();

                // var popup = "<div id='dio_town_popup' style='left:" + ($(that).offset().left + 20) + "px; top:" + ($(that).offset().top + 20) + "px; '>";
                var popup = "<table class='popup' id='dio_town_popup' style='left:" + ($(that).offset().left + 20) + "px; top:" + ($(that).offset().top + 20) + "px; ' cellspacing='0px' cellpadding='0px'>";

                popup += "<tr class='popup_top'><td class='popup_top_left'></td><td class='popup_top_middle'></td><td class='popup_top_right'></td></tr>";

                popup += "<tr><td class='popup_middle_left'>&nbsp;</td><td style='width: auto;' class='popup_middle_middle'>";

                // Title (town name)
                popup += "<h4><span style='white-space: nowrap;margin-right:35px;'>" + ITowns.getTown(townID).name + "</span><img class='dio_branding' src='https://www.tuto-de-david1327.com/medias/images/icon.gif'></h4>";

                // Unit Container
                popup += "<div class='unit_content'>";
                if(!$.isEmptyObject(units)) {

                    for (var unit_id in units) {
                        if (units.hasOwnProperty(unit_id)) {

                            var classSize = "";

                            if(units[unit_id] > 1000){
                                classSize = "four_digit_number";
                            }

                            // Unit
                            popup += '<div class="unit_icon25x25 ' + unit_id + ' '+ classSize +'"><span class="count text_shadow">' + units[unit_id] + '</span></div>';
                        }
                    }
                }

                // - Wall
                var wallLevel = ITowns.getTowns()[townID].getBuildings().attributes.wall;
                popup += '<div class="wall image bold"><span class="count text_shadow">'+ wallLevel +'</span></div>';

                popup += "</div>";

                // Resources Container
                popup += "<div class='resources_content'><table cellspacing='2px' cellpadding='0px'><tr>";

                var resources = ITowns.getTowns()[townID].resources();
                var storage = ITowns.getTowns()[townID].getStorage();

                // - Wood
                var textColor = (resources.wood === storage) ? textColor = "color:red;" : textColor = "";
                popup += '<td class="resources_small wood"></td><td style="'+ textColor +'; width:1%;">' + resources.wood + '</td>';

                popup += '<td style="min-width:15px;"></td>';

                // - Population
                popup += '<td class="resources_small population"></td><td style="width:1%">' + resources.population + '</td>';

                popup += '</tr><tr>';

                // - Stone
                textColor = (resources.stone === storage) ? textColor = "color:red;" : textColor = "";
                popup += '<td class="resources_small stone"></td><td style="'+ textColor +'">' + resources.stone + '</td>';

                popup += '</tr><tr>';

                // - Iron
                textColor = (resources.iron === storage) ? textColor = "color:red;" : textColor = "";
                popup += '<td class="resources_small iron"></td><td style="'+ textColor +'">' + resources.iron + '</td>';


                popup += "</tr></table></div>";

                // console.debug("TOWNINFO", ITowns.getTowns()[townID]);

                // Spy and God Container
                popup += "<div class='footer_content'><table cellspacing='0px'><tr>";

                var spy_storage = ITowns.getTowns()[townID].getEspionageStorage();

                // - Spy content
                popup += "<td class='spy_content'>";
                popup += '<div class="support_filter attack_spy"></div><div class="spy_text">'+ pointNumber(spy_storage) +'</div>';
                popup += "</td>";

                popup += "<td></td>";

                // - God Content
                var god = ITowns.getTowns()[townID].god();

                popup += "<td class='god_content'>";
                popup += '<div class="god_mini '+ god +'"></div>';
                popup += "</td>";

                popup += "</tr></table></div>";



                popup += "</td><td class='popup_middle_right'>&nbsp;</td></tr>";

                popup += "<tr class='popup_bottom'><td class='popup_bottom_left'></td><td class='popup_bottom_middle'></td><td class='popup_bottom_right'></td></tr>";

                popup += "</table>";

                $(popup).appendTo("#popup_div_curtain");
            }
        },
        remove : function(){
            $('#dio_town_popup').remove();
        }
    };

    // Style for town icons
    var style_str = '<style id="dio_townicons" type="text/css">';
    for (var s in TownIcons.types) {
        if (TownIcons.types.hasOwnProperty(s)) {
            style_str += '.townicon_' + s + ' { background:url(' + dio_sprite + ') ' + (TownIcons.types[s] * -25) + 'px -26px repeat;float:left;} ';
        }
    }
    style_str += '</style>';
    $(style_str).appendTo('head');


    var ContextMenu = {
        activate: function () {
            // Set context menu event handler
            $.Observer(GameEvents.map.context_menu.click).subscribe('DIO_CONTEXT', function (e, data) {
                if (DATA.options.con && $('#context_menu').children().length == 4) {
                    // Clear animation
                    $('#context_menu div#goToTown').css({
                        left: '0px',
                        top: '0px',
                        WebkitAnimation: 'none', //'A 0s linear',
                        animation: 'none' //'B 0s linear'
                    });
                }
                // Replace german label of 'select town' button
                if (LID === "de" && $('#select_town').get(0)) {
                    $("#select_town .caption").get(0).innerHTML = "Selektieren";
                }
                $("#select_town").click(updateIcon);
            });

            // Set context menu animation
            $('<style id="dio_context_menu" type="text/css">' +
              // set fixed position of 'select town' button
              '#select_town { left: 0px !important; top: 0px !important; z-index: 6; } ' +
              // set animation of 'goToTown' button
              '#context_menu div#goToTown { left: 30px; top: -51px; ' +
              '-webkit-animation: A 0.115s linear; animation: B 0.2s;} ' +
              '@-webkit-keyframes A { from {left: 0px; top: 0px;} to {left: 30px; top: -51px;} }' +
              '@keyframes B { from {left: 0px; top: 0px;} to {left: 30px; top: -51px;} }' +
              '</style>').appendTo('head');
            updateIcon();
        },
        deactivate: function () {
            $.Observer(GameEvents.map.context_menu.click).unsubscribe('DIO_CONTEXT');

            $('#dio_context_menu').remove();
        }
    };


    var TownList = {
        activate: function () {
            // Style town list
            $('<style id="dio_town_list" type="text/css">' +
              '#town_groups_list .item { text-align: left; } ' +
              '#town_groups_list .inner_column { border: 1px solid rgba(100, 100, 0, 0.3);margin: -2px 0px 0px 2px; } ' +
              '#town_groups_list .island_quest_icon { position: absolute; right: 37px; top: 3px; } ' +
              '#town_groups_list .island_quest_icon.hidden_icon { display:none; } ' +
              // Quacks Zentrier-Button verschieben
              '#town_groups_list .jump_town { right: 36px !important; } ' +
              // Population percentage
              '#town_groups_list .pop_percent { position: absolute; right: 6px; top:0px; font-size: 0.7em; display:block !important;} ' +
              '#town_groups_list .full { color: green; } ' +
              '#town_groups_list .threequarter { color: darkgoldenrod; } ' +
              '#town_groups_list .half { color: darkred; } ' +
              '#town_groups_list .quarter { color: red; } ' +
              '</style>').appendTo('head');


            // Open town list: hook to grepolis function render()
            var i = 0;
            while (layout_main_controller.sub_controllers[i].name != 'town_name_area') {
                i++;
            }

            layout_main_controller.sub_controllers[i].controller.town_groups_list_view.render_old = layout_main_controller.sub_controllers[i].controller.town_groups_list_view.render;

            layout_main_controller.sub_controllers[i].controller.town_groups_list_view.render = function () {
                layout_main_controller.sub_controllers[i].controller.town_groups_list_view.render_old();
                TownList.change();
            };

            // Town List open?
            if ($('#town_groups_list').get(0)) {
                TownList.change();
            }
        },
        deactivate: function () {
            var i = 0;
            while (layout_main_controller.sub_controllers[i].name != 'town_name_area') {
                i++;
            }

            layout_main_controller.sub_controllers[i].controller.town_groups_list_view.render = layout_main_controller.sub_controllers[i].controller.town_groups_list_view.render_old;

            $('#dio_town_list').remove();

            $('#town_groups_list .small_icon, #town_groups_list .pop_percent').css({display: 'none'});

            //$.Observer(GameEvents.town.town_switch).unsubscribe('DIO_SWITCH_TOWN');

            $("#town_groups_list .town_group_town").unbind('mouseenter mouseleave');
        },
        change: function () {
            if (!$('#town_groups_list .icon_small').get(0) && !$('#town_groups_list .pop_percent').get(0)) {
                $("#town_groups_list .town_group_town").each(function () {
                    try {
                        var town_item = $(this), town_id = town_item.attr('name'), townicon_div, percent_div = "", percent = -1, pop_space = "full";

                        if (population[town_id]) {
                            percent = population[town_id].percent;
                        }
                        if (percent < 75) {
                            pop_space = "threequarter";
                        }
                        if (percent < 50) {
                            pop_space = "half";
                        }
                        if (percent < 25) {
                            pop_space = "quarter";
                        }

                        if (!town_item.find('icon_small').length) {
                            townicon_div = '<div class="icon_small townicon_' + (manuTownTypes[town_id] || autoTownTypes[town_id] || "no") + '"></div>';
                            // TODO: NotlÃ¶sung...
                            if (percent != -1) {
                                percent_div = '<div class="pop_percent ' + pop_space + '">' + percent + '%</div>';
                            }
                            town_item.prepend(townicon_div + percent_div);
                        }

                        // opening context menu
                        /*
                         $(this).click(function(e){
                         console.log(e);
                         Layout.contextMenu(e, 'determine', {"id": town_id,"name": ITowns[town_id].getName()});
                         });
                         */

                        updateIcon();

                    } catch (error) {
                        errorHandling(error, "TownList.change");
                    }
                });

            }

            // Hover Effect for Quacks Tool:
            $("#town_groups_list .town_group_town").hover(function () {
                $(this).find('.island_quest_icon').addClass("hidden_icon");
            }, function () {
                $(this).find('.island_quest_icon').removeClass("hidden_icon");
            });

            // Add change town list event handler
            //$.Observer(GameEvents.town.town_switch).subscribe('DIO_SWITCH_TOWN', function () {
            //TownList.change();
            //});
        }
    };

    var HiddenHighlightWindow = {
        activate : function(){
            // Style town list
            $('<style id="dio_hidden_highlight_window" type="text/css">' +
              '.strategic_map_filter { z-index:6 !important; } ' +
              //'#cb_TL { sel="1" !important; } ' +
              '</style>').appendTo('head');
        },
        deactivate : function (){
            $('#dio_hidden_highlight_window').remove();
        }
    };

    /*******************************************************************************************************************************
     * Available units
     * ----------------------------------------------------------------------------------------------------------------------------
     * | â GetAllUnits
     * | â Shows all available units
     * ----------------------------------------------------------------------------------------------------------------------------
     *******************************************************************************************************************************/
    var groupUnitArray = {};
    // TODO: split Function (getUnits, calcUnitsSum, availableUnits, countBiremes, getTownTypes)?

    // Alter EinheitenzÃ¤hler
    function getAllUnits() {
        try {
            var townArray = ITowns.getTowns(), groupArray = ITowns.townGroups.getGroupsDIO(),

                unitArray = {
                    "sword": 0,
                    "archer": 0,
                    "hoplite": 0,
                    "chariot": 0,
                    "godsent": 0,
                    "rider": 0,
                    "slinger": 0,
                    "catapult": 0,
                    "small_transporter": 0,
                    "big_transporter": 0,
                    "manticore": 0,
                    "harpy": 0,
                    "pegasus": 0,
                    "cerberus": 0,
                    "minotaur": 0,
                    "medusa": 0,
                    "zyklop": 0,
                    "centaur": 0,
                    "fury": 0,
                    "sea_monster": 0
                },

                unitArraySea = {"bireme": 0, "trireme": 0, "attack_ship": 0, "demolition_ship": 0, "colonize_ship": 0};

            //console.debug("DIO-TOOLS | getAllUnits | GROUP ARRAY", groupArray);


            if (Game.hasArtemis) {
                unitArray = $.extend(unitArray, {"griffin": 0, "calydonian_boar": 0});
            }
            unitArray = $.extend(unitArray, unitArraySea);

            for (var group in groupArray) {
                if (groupArray.hasOwnProperty(group)) {
                    // Clone Object "unitArray"
                    groupUnitArray[group] = Object.create(unitArray);

                    for (var town in groupArray[group].towns) {
                        if (groupArray[group].towns.hasOwnProperty(town)) {
                            var type = {lo: 0, ld: 0, so: 0, sd: 0, fo: 0, fd: 0}; // Type for TownList

                            for (var unit in unitArray) {
                                if (unitArray.hasOwnProperty(unit)) {
                                    // All Groups: Available units
                                    var tmp = parseInt(ITowns.getTown(town).units()[unit], 10);
                                    groupUnitArray[group][unit] += tmp || 0;
                                    // Only for group "All"
                                    if (group == -1) {
                                        // Bireme counter // old
                                        if (unit === "bireme" && ((biriArray[townArray[town].id] || 0) < (tmp || 0))) {
                                            biriArray[townArray[town].id] = tmp;
                                        }
                                        //TownTypes
                                        if (!GameData.units[unit].is_naval) {
                                            if (GameData.units[unit].flying) {
                                                type.fd += ((GameData.units[unit].def_hack + GameData.units[unit].def_pierce + GameData.units[unit].def_distance) / 3 * (tmp || 0));
                                                type.fo += (GameData.units[unit].attack * (tmp || 0));
                                            } else {
                                                type.ld += ((GameData.units[unit].def_hack + GameData.units[unit].def_pierce + GameData.units[unit].def_distance) / 3 * (tmp || 0));
                                                type.lo += (GameData.units[unit].attack * (tmp || 0));
                                            }
                                        } else {
                                            type.sd += (GameData.units[unit].defense * (tmp || 0));
                                            type.so += (GameData.units[unit].attack * (tmp || 0));
                                        }
                                    }
                                }
                            }
                            // Only for group "All"
                            if (group == -1) {
                                // Icon: DEF or OFF?
                                var z = ((type.sd + type.ld + type.fd) <= (type.so + type.lo + type.fo)) ? "o" : "d",
                                    temp = 0;

                                for (var t in type) {
                                    if (type.hasOwnProperty(t)) {
                                        // Icon: Land/Sea/Fly (t[0]) + OFF/DEF (z)
                                        if (temp < type[t]) {
                                            autoTownTypes[townArray[town].id] = t[0] + z;
                                            temp = type[t];
                                        }
                                        // Icon: Troops Outside (overwrite)
                                        if (temp < 1000) {
                                            autoTownTypes[townArray[town].id] = "no";
                                        }
                                    }
                                }
                                // Icon: Empty Town (overwrite)
                                var popBuilding = 0, buildVal = GameData.buildings, levelArray = townArray[town].buildings().getLevels(),
                                    popMax = Math.floor(buildVal.farm.farm_factor * Math.pow(townArray[town].buildings().getBuildingLevel("farm"), buildVal.farm.farm_pow)), // Population from farm level
                                    popPlow = townArray[town].getResearches().attributes.plow ? 200 : 0,
                                    popFactor = townArray[town].getBuildings().getBuildingLevel("thermal") ? 1.1 : 1.0, // Thermal
                                    popExtra = townArray[town].getPopulationExtra();

                                for (var b in levelArray) {
                                    if (levelArray.hasOwnProperty(b)) {
                                        popBuilding += Math.round(buildVal[b].pop * Math.pow(levelArray[b], buildVal[b].pop_factor));
                                    }
                                }
                                population[town] = {};

                                population[town].max = popMax * popFactor + popPlow + popExtra;
                                population[town].buildings = popBuilding;
                                population[town].units = parseInt((population[town].max - (popBuilding + townArray[town].getAvailablePopulation()) ), 10);

                                if (population[town].units < 300) {
                                    autoTownTypes[townArray[town].id] = "po";
                                }

                                population[town].percent = Math.round(100 / (population[town].max - popBuilding) * population[town].units);
                            }
                        }
                    }
                }
            }

            // Update Available Units
            AvailableUnits.updateBullseye();
            if (GPWindowMgr.TYPE_DIO_UNITS) {
                if (Layout.wnd.getOpenFirst(GPWindowMgr.TYPE_DIO_UNITS)) {
                    AvailableUnits.updateWindow();
                }
            }
        } catch (error) {
            errorHandling(error, "getAllUnits"); // TODO: Eventueller Fehler in Funktion
        }
    }

    function addFunctionToITowns() {
        // Copy function and prevent an error
        ITowns.townGroups.getGroupsDIO = function () {
            var town_groups_towns, town_groups, groups = {};

            // #Grepolis Fix: 2.75 -> 2.76
            if (MM.collections) {
                town_groups_towns = MM.collections.TownGroupTown[0];
                town_groups = MM.collections.TownGroup[0];
            } else {
                town_groups_towns = MM.getCollections().TownGroupTown[0];
                town_groups = MM.getCollections().TownGroup[0];
            }

            town_groups_towns.each(function (town_group_town) {
                var gid = town_group_town.getGroupId(),
                    group = groups[gid],
                    town_id = town_group_town.getTownId();

                if (!group) {
                    groups[gid] = group = {
                        id: gid,
                        //name: town_groups.get(gid).getName(), // hier tritt manchmal ein Fehler auf: TypeError: Cannot read property "getName" of undefined at https://_.grepolis.com/cache/js/merged/game.js?1407322916:8298:525
                        towns: {}
                    };
                }

                group.towns[town_id] = {id: town_id};
                //groups[gid].towns[town_id]={id:town_id};
            });
            //console.log(groups);
            return groups;
        };
    }


    // Neuer EinheitenzÃ¤hler
    var UnitCounter = {
        units : {"total":{}, "available":{}, "outer":{}, "foreign":{}},

        count : function(){
            var tooltipHelper = require("helpers/units_tooltip_helper");

            var groups = ITowns.townGroups.getGroupsDIO();

            for (var groupId in groups) {
                if (groups.hasOwnProperty(groupId)) {

                    UnitCounter.units.total[groupId] = {};
                    UnitCounter.units.available[groupId] = {};
                    UnitCounter.units.outer[groupId] = {};


                    for (var townId in groups[groupId].towns) {
                        if (groups[groupId].towns.hasOwnProperty(townId)) {

                            // Einheiten gesamt
                            UnitCounter.units.total[groupId][townId] = ITowns.towns[townId].units();

                            // Einheiten verfÃ¼gbar
                            UnitCounter.units.available[groupId][townId] = ITowns.towns[townId].units();

                            // Einheiten auÃerhalb
                            UnitCounter.units.outer[groupId][townId] = {};

                            var supports = tooltipHelper.getDataForSupportingUnitsInOtherTownFromCollection(MM.getTownAgnosticCollectionsByName("Units")[1].fragments[townId], MM.getOnlyCollectionByName("Town"));

                            for (var supportId in supports) {
                                if (supports.hasOwnProperty(supportId)) {

                                    for (var attributeId in supports[supportId].attributes) {
                                        if (supports[supportId].attributes.hasOwnProperty(attributeId)) {

                                            // Attribut ist eine Einheit?
                                            if (typeof(GameData.units[attributeId]) !== "undefined" && supports[supportId].attributes[attributeId] > 0) {

                                                UnitCounter.units.outer[groupId][townId][attributeId] = (UnitCounter.units.outer[groupId][townId][attributeId] || 0) + supports[supportId].attributes[attributeId];

                                                UnitCounter.units.total[groupId][townId][attributeId] = (UnitCounter.units.total[groupId][townId][attributeId] || 0) + supports[supportId].attributes[attributeId];
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }

                    // Summen aller StÃ¤dte berechnen
                    UnitCounter.summarize(groupId);
                }
            }

            return UnitCounter.units;
        },

        summarize : function(groupId){
            var tooltipHelper = require("helpers/units_tooltip_helper");

            UnitCounter.units.total[groupId]["all"] = {};
            UnitCounter.units.available[groupId]["all"] = {};
            UnitCounter.units.outer[groupId]["all"] = {};

            for(var townId in UnitCounter.units.total[groupId]){
                if(UnitCounter.units.total[groupId].hasOwnProperty(townId) && townId !== "all"){

                    // Einheiten gesamt
                    for(var unitId in UnitCounter.units.total[groupId][townId]){
                        if(UnitCounter.units.total[groupId][townId].hasOwnProperty(unitId)){

                            UnitCounter.units.total[groupId]["all"][unitId] = (UnitCounter.units.total[groupId]["all"][unitId] || 0) + UnitCounter.units.total[groupId][townId][unitId];
                        }
                    }

                    // Einheiten verfÃ¼gbar
                    for(var unitId in UnitCounter.units.available[groupId][townId]){
                        if(UnitCounter.units.available[groupId][townId].hasOwnProperty(unitId)){

                            UnitCounter.units.available[groupId]["all"][unitId] = (UnitCounter.units.available[groupId]["all"][unitId] || 0) + UnitCounter.units.available[groupId][townId][unitId];
                        }
                    }

                    // Einheiten auÃerhalb
                    for(var unitId in UnitCounter.units.outer[groupId][townId]){
                        if(UnitCounter.units.outer[groupId][townId].hasOwnProperty(unitId)){

                            UnitCounter.units.outer[groupId]["all"][unitId] = (UnitCounter.units.outer[groupId]["all"][unitId] || 0) + UnitCounter.units.outer[groupId][townId][unitId];
                        }
                    }
                }
            }
        }
    };

    var AvailableUnits = {
        activate: function () {
            var default_title = DM.getl10n("place", "support_overview").options.troop_count + " (" + DM.getl10n("hercules2014", "available") + ")";

            $(".picomap_container").prepend("<div id='available_units_bullseye' class='unit_icon90x90 " + (DATA.bullseyeUnit[DATA.bullseyeUnit.current_group] || "bireme") + "'><div class='amount'></div></div>");

            $('.picomap_overlayer').tooltip(getText("options", "ava")[0]);

            // Ab version 2.115
            if($(".topleft_navigation_area").get(0)) {

                $(".topleft_navigation_area").prepend("<div id='available_units_bullseye_addition' class='picomap_area'><div class='picomap_container'><div id='available_units_bullseye' class='unit_icon90x90 " + (DATA.bullseyeUnit[DATA.bullseyeUnit.current_group] || "bireme") + "'><div class='amount'></div></div></div><div class='picomap_overlayer'></div></div>");

                $('<style id="dio_available_units_style_addition">' +
                  '.coords_box { top: 117px !important; } ' +
                  '.nui_grepo_score { top: 150px !important; } ' +
                  '.nui_left_box { top: 102px ; } ' +
                  '#grcrt_mnu_list .nui_main_menu {top: 0px !important; }'+
                  '.bull_eye_buttons, .rb_map { height:38px !important; }' +

                  '#HMoleM {top: 253px !important;}'+
                  '#ui_box .btn_change_colors { top: 31px !important; }' +

                  '.picomap_area { position: absolute; overflow: visible; top: 0; left: 0; width: 156px; height: 161px; z-index: 5; }' +
                  '.picomap_area .picomap_container, .picomap_area .picomap_overlayer { position: absolute; top: 33px; left: -3px; width: 147px; height: 101px; }' +
                  //'.picomap_area .picomap_overlayer { background: url(https://gpde.innogamescdn.com/images/game/autogenerated/layout/layout_2.107.png) -145px -208px no-repeat; width: 147px; height: 101px; z-index: 5;} '+
                  '.picomap_area .picomap_overlayer { background: url(' + dio_sprite + '); background-position: 473px 250px; width: 147px; height: 101px; z-index: 5;} ' +
                  '</style>').appendTo('head');

                if (DATA.options.ava1) {
                    $('<style id="dio_available_units_style_addition_main_menu">.nui_main_menu { top: 276px ; }</style>').appendTo('head')}
                else {
                    $('<style id="dio_available_units_style_addition_main_menu">.nui_main_menu { top: 260px ; }</style>').appendTo('head')}
            }

            // Style
            $('<style id="dio_available_units_style">' +

              '@-webkit-keyframes Z { 0% { opacity: 0; } 100% { opacity: 1; } } ' +
              '@keyframes Z { 0% { opacity: 0; } 100% { opacity: 1; } } ' +

              '@-webkit-keyframes blurr { 0% { -webkit-filter: blur(5px); } 100% { -webkit-filter: blur(0px); } } ' +

              '.picomap_overlayer { cursor:pointer; } ' +

              '.picomap_area .bull_eye_buttons { height: 55px; } ' +

              '#sea_id { background: none; font-size:25px; cursor:default; height:50px; width:50px; position:absolute; top:70px; left:157px; z-index: 30; } ' +

              // Available bullseye unit
              '#available_units_bullseye { margin: 10px 28px 0px 28px; -webkit-animation: blur 2s; animation: Z 1s; } ' +

              '#available_units_bullseye .amount { color:#826021; position:relative; top:28px; font-style:italic; width:79px; font-weight: bold; text-shadow: 0px 0px 2px black, 1px 1px 2px black, 0px 2px 2px black; -webkit-animation: blur 3s; } ' +

              '#available_units_bullseye.big_number { font-size: 0.90em; line-height: 1.4; } ' +

              '#available_units_bullseye.blur { -webkit-animation: blurr 0.6s; } ' +



              // Land units
              '#available_units_bullseye.sword	.amount	{ color:#E2D9C1; top:57px; width:90px;	} ' +
              '#available_units_bullseye.hoplite	.amount	{ color:#E2D9C1; top:57px; width:90px;	} ' +
              '#available_units_bullseye.archer	.amount	{ color:#E2D0C1; top:47px; width:70px;	} ' +
              '#available_units_bullseye.chariot			{ margin-top: 15px; } ' +
              '#available_units_bullseye.chariot	.amount	{ color:#F5E8B4; top:38px; width:91px;  } ' +
              '#available_units_bullseye.rider	.amount	{ color:#DFCC6C; top:52px; width:105px;	} ' +
              '#available_units_bullseye.slinger	.amount	{ color:#F5E8B4; top:53px; width:91px;	} ' +
              '#available_units_bullseye.catapult	.amount	{ color:#F5F6C5; top:36px; width:87px;	} ' +
              '#available_units_bullseye.godsent	.amount	{ color:#F5F6C5; top:57px; width:92px;	} ' +

              // Mythic units
              '#available_units_bullseye.medusa			.amount	{ color:#FBFFBB; top:50px; width:65px;	} ' +
              '#available_units_bullseye.manticore		.amount	{ color:#ECD181; top:50px; width:55px; 	} ' +
              '#available_units_bullseye.pegasus					{ margin-top: 16px;	} ' +
              '#available_units_bullseye.pegasus			.amount	{ color:#F7F8E3; top:36px; width:90px;	} ' +
              '#available_units_bullseye.minotaur			        { margin-top: 10px; } ' +
              '#available_units_bullseye.minotaur		    .amount	{ color:#EAD88A; top:48px; width:78px;	} ' +
              '#available_units_bullseye.zyklop					{ margin-top: 3px;	} '+
              '#available_units_bullseye.zyklop			.amount	{ color:#EDE0B0; top:50px; width:95px;	} ' +
              '#available_units_bullseye.harpy					{ margin-top: 16px;	} ' +
              '#available_units_bullseye.harpy			.amount	{ color:#E7DB79; top:30px; width:78px;	} ' +
              '#available_units_bullseye.sea_monster		.amount	{ color:#D8EA84; top:58px; width:91px;	} ' +
              '#available_units_bullseye.cerberus		    .amount	{ color:#EC7445; top:25px; width:101px;	} ' +
              '#available_units_bullseye.centaur					{ margin-top: 15px;	} ' +
              '#available_units_bullseye.centaur			.amount	{ color:#ECE0A8; top:29px; width:83px;	} ' +
              '#available_units_bullseye.fury			    .amount	{ color:#E0E0BC; top:57px; width:95px;	} ' +
              '#available_units_bullseye.griffin					{ margin-top: 15px;	} ' +
              '#available_units_bullseye.griffin			.amount	{ color:#FFDC9D; top:40px; width:98px;	} ' +
              '#available_units_bullseye.calydonian_boar	.amount	{ color:#FFDC9D; top:17px; width:85px;	} ' +

              // Naval units
              '#available_units_bullseye.attack_ship		    .amount	{ color:#FFCB00; top:26px; width:99px;	} ' +
              '#available_units_bullseye.bireme			    .amount	{ color:#DFC677; color:azure; top:28px; width:79px;	} ' +
              '#available_units_bullseye.trireme			    .amount	{ color:#F4FFD4; top:24px; width:90px;	} ' +
              '#available_units_bullseye.small_transporter	.amount { color:#F5F6C5; top:26px; width:84px;	} ' +
              '#available_units_bullseye.big_transporter	    .amount { color:#FFDC9D; top:27px; width:78px;	} ' +
              '#available_units_bullseye.colonize_ship		.amount { color:#F5F6C5; top:29px; width:76px;	} ' +
              '#available_units_bullseye.colonize_ship		.amount { color:#F5F6C5; top:29px; width:76px;	} ' +
              '#available_units_bullseye.demolition_ship	    .amount { color:#F5F6C5; top:35px; width:90px;	} ' +

              // Available units window
              '#available_units { overflow: auto;  } ' +
              '#available_units .unit { margin: 5px; cursor:pointer; overflow:visible; display: -webkit-inline-box; float: none; } ' +
              '#available_units .unit.active { border: 2px solid #7f653a; border-radius:30px; margin:4px; } ' +
              '#available_units .unit span { text-shadow: 1px 1px 1px black, 1px 1px 2px black;} ' +
              '#available_units hr { margin: 5px 0px 5px 0px; } ' +
              '#available_units .drop_box .option { float: left; margin-right: 30px; width:100%; } ' +
              '#available_units .drop_box { position:absolute; top: -38px; right: 83px; width:90px; z-index:10; } ' +
              '#available_units .drop_box .drop_group { width: 120px; } ' +
              '#available_units .drop_box .select_group.open { display:block; } ' +
              '#available_units .drop_box .item-list { overflow: auto; overflow-x: hidden; } ' +
              '#available_units .drop_box .arrow { width:18px; height:18px; background:url(' + drop_out.src + ') no-repeat -1px -1px; position:absolute; } ' +

              // Available units button
              '#btn_available_units { top:84px; left:120px; z-index:10; position:absolute; } ' +
              '#btn_available_units .ico_available_units { margin:5px 0px 0px 4px; width:24px; height:24px; ' +
              'background:url(https://www.tuto-de-david1327.com/medias/images/couteau.png) no-repeat 0px 0px;background-size:100%; filter:url(#Hue1); -webkit-filter:hue-rotate(100deg);  } ' +

              '</style>').appendTo('head');

            createWindowType("DIO_UNITS", (LANG.hasOwnProperty(LID) ? getText("options", "ava")[0] : default_title), 365, 310, true, [240, 70]);

            // Set Sea-ID beside the bull eye
            $('#sea_id').prependTo('#ui_box');

            AvailableUnits.addButton();

            UnitCounter.count();
            AvailableUnits.updateBullseye();
        },

        ocean: {
            activate: function () {
                if (DATA.options.ava) {
                    $('<style id="dio_available_units_style_ocean">' +
                      '.coords_box { top: 115px !important; } ' +
                      '.nui_grepo_score { top: 166px !important; } ' +
                      '.nui_left_box { top: 119px !important; } ' +
                      '.nui_main_menu { top: 276px ; }' +

                      '#HMoleM {top: 270px !important;}'+
                      '#ui_box .ocean_number_box { position: absolute; top: 151px !important; left: 45px; }' +
                      '#ui_box .ocean_number_box .ocean_number { font-weight: 500; z-index: 5;}' +
                      '.picomap_area .picomap_overlayer { background-position: 473px 250px; width: 147px; height: 135px; } ' +
                      '</style>').appendTo('head');
                }
            },
            deactivate: function () {
                $('#dio_available_units_style_ocean').remove()
            },
        },
        deactivate: function () {
            $('#available_units_bullseye').remove();
            $('#available_units_bullseye_addition').remove();
            $('#dio_available_units_style_addition_main_menu').remove();
            $('#dio_available_units_style_ocean').remove();

            $('<style id="dio_HMoleM">#HMoleM {top: 210px !important;}</style>').appendTo('head');
            $('#dio_available_units_style').remove();
            $('#dio_available_units_style_addition').remove();

            $('#btn_available_units').remove();

            if (Layout.wnd.getOpenFirst(GPWindowMgr.TYPE_DIO_UNITS)) {
                Layout.wnd.getOpenFirst(GPWindowMgr.TYPE_DIO_UNITS).close();
            }

            $('.picomap_overlayer').unbind();

            $('#sea_id').appendTo('.picomap_container')
        },
        addButton: function () {
            var default_title = DM.getl10n("place", "support_overview").options.troop_count + " (" + DM.getl10n("hercules2014", "available") + ")";

            $('<div id="btn_available_units" class="circle_button"><div class="ico_available_units js-caption"></div></div>').appendTo(".bull_eye_buttons");

            // Events
            $('#btn_available_units').on('mousedown', function () {
                $('#btn_available_units, .ico_available_units').addClass("checked");
            }).on('mouseup', function () {
                $('#btn_available_units, .ico_available_units').removeClass("checked");
            });

            $('#btn_available_units, .picomap_overlayer').click(function () {
                if (!Layout.wnd.getOpenFirst(GPWindowMgr.TYPE_DIO_UNITS)) {
                    AvailableUnits.openWindow();
                    $('#btn_available_units, .ico_available_units').addClass("checked");
                } else {
                    AvailableUnits.closeWindow();
                    $('#btn_available_units, .ico_available_units').removeClass("checked");
                }
            });

            // Tooltip
            $('#btn_available_units').tooltip(LANG.hasOwnProperty(LID) ? getText("labels", "uni") : default_title);
        },
        openWindow: function () {
            var groupArray = ITowns.townGroups.getGroupsDIO(),

                unitArray = {
                    "sword": 0,
                    "archer": 0,
                    "hoplite": 0,
                    "slinger": 0,
                    "rider": 0,
                    "chariot": 0,
                    "catapult": 0,
                    "godsent": 0,
                    "manticore": 0,
                    "harpy": 0,
                    "pegasus": 0,
                    "griffin": 0,
                    "cerberus": 0,
                    "minotaur": 0,
                    "medusa": 0,
                    "zyklop": 0,
                    "centaur": 0,
                    "calydonian_boar": 0,
                    "fury": 0,
                    "sea_monster": 0,
                    "small_transporter": 0,
                    "big_transporter": 0,
                    "bireme": 0,
                    "attack_ship": 0,
                    "trireme": 0,
                    "demolition_ship": 0,
                    "colonize_ship": 0
                };

            if (!Game.hasArtemis) {
                delete unitArray.calydonian_boar;
                delete unitArray.griffin;
            }

            var land_units_str = "", content =
                '<div id="available_units">' +
                // Dropdown menu
                '<div class="drop_box">' +
                '<div class="drop_group dropdown default">' +
                '<div class="border-left"></div><div class="border-right"></div>' +
                '<div class="caption" name="' + groupArray[DATA.bullseyeUnit.current_group].id + '">' + ITowns.town_groups._byId[groupArray[DATA.bullseyeUnit.current_group].id].attributes.name + '</div>' +
                '<div class="arrow"></div>' +
                '</div>' +
                '<div class="select_group dropdown-list default active"><div class="item-list"></div></div>' +
                '</div>' +
                '<table width="100%" class="radiobutton horizontal rbtn_visibility"><tr>'+
                '<td width="40%"><div class="option js-option" name="total"><div class="pointer"></div>'+ getText("labels", "total") +'</div></td>'+
                '<td width="40%"><div class="option js-option" name="available"><div class="pointer"></div>'+ getText("labels", "available") +'</div></td>'+
                '<td width="20%"><div class="option js-option" name="outer"><div class="pointer"></div>'+ getText("labels", "outer") +'</div></td>'+
                '</tr></table>'+
                '<hr>'+
                // Content
                '<div class="box_content">';

            for (var unit in unitArray) {
                if (unitArray.hasOwnProperty(unit)) {
                    land_units_str += '<div class="unit index_unit bold unit_icon40x40 ' + unit + '"></div>';
                    if (unit == "sea_monster") {
                        land_units_str += '<div style="clear:left;"></div>'; // break
                    }
                }
            }
            content += land_units_str + '</div></div>';

            AvailableUnits.wnd = Layout.wnd.Create(GPWindowMgr.TYPE_DIO_UNITS);

            AvailableUnits.wnd.setContent(content);

            if (Game.premium_features.curator <= Timestamp.now()) {
                $('#available_units .drop_box').css({display: 'none'});
                DATA.bullseyeUnit.current_group = -1;
            }

            // Add groups to dropdown menu
            for (var group in groupArray) {
                if (groupArray.hasOwnProperty(group)) {
                    var group_name = ITowns.town_groups._byId[group].attributes.name;
                    $('<div class="option' + (group == -1 ? " sel" : "") + '" name="' + group + '">' + group_name + '</div>').appendTo('#available_units .item-list');
                }
            }

            // Set active mode
            if(typeof(DATA.bullseyeUnit.mode) !== "undefined"){
                $('.radiobutton .option[name="'+ DATA.bullseyeUnit.mode +'"]').addClass("checked");
            }
            else{
                $('.radiobutton .option[name="available"]').addClass("checked");
            }

            // Update
            AvailableUnits.updateWindow();

            // Dropdown menu Handler
            $('#available_units .drop_group').click(function () {
                $('#available_units .select_group').toggleClass('open');
            });
            // Change group
            $('#available_units .select_group .option').click(function () {
                DATA.bullseyeUnit.current_group = $(this).attr("name");
                $('#available_units .select_group').removeClass('open');
                $('#available_units .select_group .option.sel').removeClass("sel");
                $(this).addClass("sel");

                $('#available_units .drop_group .caption').attr("name", DATA.bullseyeUnit.current_group);
                $('#available_units .drop_group .caption').get(0).innerHTML = this.innerHTML;

                $('#available_units .unit.active').removeClass("active");
                $('#available_units .unit.' + (DATA.bullseyeUnit[DATA.bullseyeUnit.current_group] || "bireme")).addClass("active");

                UnitCounter.count();

                AvailableUnits.updateWindow();
                AvailableUnits.updateBullseye();
                AvailableUnits.save();
            });

            // Change mode (total, available, outer)
            $('.radiobutton .option').click(function(){

                DATA.bullseyeUnit.mode = $(this).attr("name");

                $('.radiobutton .option.checked').removeClass("checked");
                $(this).addClass("checked");

                UnitCounter.count();

                AvailableUnits.updateWindow();
                AvailableUnits.updateBullseye();
                AvailableUnits.save();
            });

            // Set active bullseye unit
            $('#available_units .unit.' + (DATA.bullseyeUnit[DATA.bullseyeUnit.current_group] || "bireme")).addClass("active");

            // Change bullseye unit
            $('#available_units .unit').click(function () {
                DATA.bullseyeUnit[DATA.bullseyeUnit.current_group] = this.className.split(" ")[4].trim();

                $('#available_units .unit.active').removeClass("active");
                $(this).addClass("active");

                AvailableUnits.updateBullseye();
                AvailableUnits.save();

            });

            // Close button event - uncheck available units button
            Layout.wnd.getOpenFirst(GPWindowMgr.TYPE_DIO_UNITS).getJQCloseButton().get(0).onclick = function () {
                $('#btn_available_units, .ico_available_units').removeClass("checked");
            };
        },
        closeWindow: function () {
            Layout.wnd.getOpenFirst(GPWindowMgr.TYPE_DIO_UNITS).close();
        },
        save: function () {
            // console.debug("BULLSEYE SAVE", DATA.bullseyeUnit);

            saveValue(WID + "_bullseyeUnit", JSON.stringify(DATA.bullseyeUnit));
        },
        updateBullseye: function () {

            var sum = 0, str = "", fsize = ['1.4em', '1.2em', '1.15em', '1.1em', '1.0em', '0.95em'], i;

            if ($('#available_units_bullseye').get(0)) {
                $('#available_units_bullseye').get(0).className = "unit_icon90x90 " + (DATA.bullseyeUnit[DATA.bullseyeUnit.current_group] || "bireme");

                if (UnitCounter.units[DATA.bullseyeUnit.mode || "available"][DATA.bullseyeUnit.current_group]) {
                    sum = UnitCounter.units[DATA.bullseyeUnit.mode || "available"][DATA.bullseyeUnit.current_group]["all"][(DATA.bullseyeUnit[DATA.bullseyeUnit.current_group] || "bireme" )] || 0;
                }
                sum = sum.toString();

                for (i = 0; i < sum.length; i++) {
                    str += "<span style='font-size:" + fsize[i] + "'>" + sum[i] + "</span>";
                }
                $('#available_units_bullseye .amount').get(0).innerHTML = str;

                if (sum >= 100000) {
                    $('#available_units_bullseye').addClass("big_number");
                } else {
                    $('#available_units_bullseye').removeClass("big_number");
                }
            }
        },
        updateWindow: function () {

            $('#available_units .box_content .unit').each(function () {
                var unit = this.className.split(" ")[4];

                // TODO: Alte Variante entfernen
                // Alte Variante:
                //this.innerHTML = '<span style="font-size:0.9em">' + groupUnitArray[DATA.bullseyeUnit.current_group][unit] + '</span>';

                // Neue Variante
                this.innerHTML = '<span style="font-size:0.9em">' + (UnitCounter.units[DATA.bullseyeUnit.mode || "available"][DATA.bullseyeUnit.current_group]["all"][unit] || 0) + '</span>';
            });
        }
    };

    /*******************************************************************************************************************************
     * Comparison box
     * ----------------------------------------------------------------------------------------------------------------------------
     * | â Compares the units of each unit type
     * ----------------------------------------------------------------------------------------------------------------------------
     *******************************************************************************************************************************/
    var UnitComparison = {
        activate: function () {
            //UnitComparison.addBox();
            UnitComparison.addButton();

            // Create Window Type
            createWindowType("DIO_COMPARISON", getText("labels", "dsc"), 480, 315, true, ["center", "center", 100, 100]);

            // Style
            $('<style id="dio_comparison_style"> ' +

              // Button
              '#dio_comparison_button { top:51px; left:120px; z-index:10; position:absolute; } ' +
              '#dio_comparison_button .ico_comparison { margin:5px 0px 0px 4px; width:24px; height:24px; ' +
              'background:url(https://www.tuto-de-david1327.com/medias/images/casque.png) no-repeat 0px 0px; background-size:100%; filter:url(#Hue1); -webkit-filter:hue-rotate(60deg); } ' +
              '#dio_comparison_button.checked .ico_comparison { margin-top:6px; } ' +

              // Window
              '#dio_comparison a { float:left; background-repeat:no-repeat; background-size:25px; line-height:2; margin-right:10px; } ' +
              '#dio_comparison .box_content { text-align:center; font-style:normal; } ' +

              // Menu tabs
              '#dio_comparison_menu .tab_icon { left: 23px;} ' +
              '#dio_comparison_menu .tab_label { margin-left: 18px; } ' +

              // Content
              '#dio_comparison .hidden { display:none; } ' +
              '#dio_comparison table { width:480px; } ' +
              '#dio_comparison .hack .t_hack, #dio_comparison .pierce .t_pierce, #dio_comparison .distance .t_distance, #dio_comparison .sea .t_sea { display:inline-table; } ' +

              '#dio_comparison .box_content { background:url(https://www.tuto-de-david1327.com/medias/images/casque-1.png) 94% 94% no-repeat; background-size:140px; } ' + // https://s1.directupload.net/images/140206/8jd9d3ec.png

              '#dio_comparison .compare_type_icon { height:25px; width:25px; background:url(https://gpall.innogamescdn.com/images/game/units/units_info_sprite2.51.png); background-size:100%; } ' +
              '#dio_comparison .compare_type_icon.booty { background:url(https://www.tuto-de-david1327.com/medias/images/butin-sac.png); background-size:100%; } ' + // https://s14.directupload.net/images/140404/ki4gwd7x.png
              '#dio_comparison .compare_type_icon.time { background:url(https://www.tuto-de-david1327.com/medias/images/time.png); background-size:100%; } ' + // https://gpall.innogamescdn.com/images/game/res/time.png
              '#dio_comparison .compare_type_icon.favor { background:url(https://www.tuto-de-david1327.com/medias/images/faveur.png); background-size:100%; } ' + // https://gpall.innogamescdn.com/images/game/res/favor.png
              '.icon_small2 { position:relative; height:20px; width:25px; margin-left:-25px; }' +
              '</style>').appendTo("head");
        },
        deactivate: function () {
            $('#dio_comparison_button').remove();
            $('#dio_comparison_style').remove();

            if (Layout.wnd.getOpenFirst(GPWindowMgr.TYPE_DIO_COMPARISON)) {
                Layout.wnd.getOpenFirst(GPWindowMgr.TYPE_DIO_COMPARISON).close();
            }
        },
        addButton: function () {
            $('<div id="dio_comparison_button" class="circle_button"><div class="ico_comparison js-caption"></div></div>').appendTo(".bull_eye_buttons");

            // Events
            /*
             $('#dio_comparison_button').on('mousedown', function(){
             $('#dio_comparison_button').addClass("checked");
             }, function(){
             $('#dio_comparison_button').removeClass("checked");
             });
             */
            $('#dio_comparison_button').on('click', function () {
                if (!Layout.wnd.getOpenFirst(GPWindowMgr.TYPE_DIO_COMPARISON)) {
                    UnitComparison.openWindow();
                    $('#dio_comparison_button').addClass("checked");
                } else {
                    UnitComparison.closeWindow();
                    $('#dio_comparison_button').removeClass("checked");
                }
            });

            // Tooltip
            $('#dio_comparison_button').tooltip(getText("labels", "dsc"));
        },
        openWindow: function () {
            var content =
                // Title tabs
                '<ul id="dio_comparison_menu" class="menu_inner" style="top: -36px; right: 35px;">' +
                '<li><a class="submenu_link sea" href="#"><span class="left"><span class="right"><span class="middle">' +
                '<span class="tab_icon icon_small2 townicon_so"></span><span class="tab_label">' + getText("labels", "sea") + '</span>' +
                '</span></span></span></a></li>' +
                '<li><a class="submenu_link distance" href="#"><span class="left"><span class="right"><span class="middle">' +
                '<span class="tab_icon icon_small2 townicon_di"></span><span class="tab_label">' + getText("labels", "dst") + '</span>' +
                '</span></span></span></a></li>' +
                '<li><a class="submenu_link pierce" href="#"><span class="left"><span class="right"><span class="middle">' +
                '<span class="tab_icon icon_small2 townicon_sh"></span><span class="tab_label">' + getText("labels", "prc") + '</span>' +
                '</span></span></span></a></li>' +
                '<li><a class="submenu_link hack active" href="#"><span class="left"><span class="right"><span class="middle">' +
                '<span class="tab_icon icon_small2 townicon_lo"></span><span class="tab_label">' + getText("labels", "hck") + '</span>' +
                '</span></span></span></a></li>' +
                '</ul>' +
                // Content
                '<div id="dio_comparison" style="margin-bottom:5px; font-style:italic;"><div class="box_content hack"></div></div>';

            Layout.wnd.Create(GPWindowMgr.TYPE_DIO_COMPARISON).setContent(content);

            UnitComparison.addComparisonTable("hack");
            UnitComparison.addComparisonTable("pierce");
            UnitComparison.addComparisonTable("distance");
            UnitComparison.addComparisonTable("sea");

            // Tooltips
            var labelArray = DM.getl10n("barracks"),
                labelAttack = DM.getl10n("context_menu", "titles").attack,
                labelDefense = DM.getl10n("place", "tabs")[0];

            $('.tr_att').tooltip(labelAttack);
            $('.tr_def').tooltip(labelDefense + " (Ã)");
            $('.tr_def_sea').tooltip(labelDefense);
            $('.tr_spd').tooltip(labelArray.tooltips.speed);
            $('.tr_bty').tooltip(labelArray.tooltips.booty.title);
            $('.tr_bty_sea').tooltip(labelArray.tooltips.ship_transport.title);
            $('.tr_res').tooltip(labelArray.costs + " (" +
                                 labelArray.cost_details.wood + " + " +
                                 labelArray.cost_details.stone + " + " +
                                 labelArray.cost_details.iron + ")"
                                );
            $('.tr_fav').tooltip(labelArray.costs + " (" + labelArray.cost_details.favor + ")");
            $('.tr_tim').tooltip(labelArray.cost_details.buildtime_barracks + " (s)");
            $('.tr_tim_sea').tooltip(labelArray.cost_details.buildtime_docks + " (s)");

            UnitComparison.switchComparisonTables();

            // Close button event - uncheck available units button
            Layout.wnd.getOpenFirst(GPWindowMgr.TYPE_DIO_COMPARISON).getJQCloseButton().get(0).onclick = function () {
                $('#dio_comparison_button').removeClass("checked");
                $('.ico_comparison').get(0).style.marginTop = "5px";
            };
        },
        closeWindow: function () {
            Layout.wnd.getOpenFirst(GPWindowMgr.TYPE_DIO_COMPARISON).close();
        },
        switchComparisonTables: function () {
            $('#dio_comparison_menu .hack, #dio_comparison_menu .pierce, #dio_comparison_menu .distance, #dio_comparison_menu .sea').click(function () {
                $('#dio_comparison .box_content').removeClass($('#dio_comparison .box_content').get(0).className.split(" ")[1]);
                //console.debug(this.className.split(" ")[1]);
                $('#dio_comparison .box_content').addClass(this.className.split(" ")[1]);

                $('#dio_comparison_menu .active').removeClass("active");
                $(this).addClass("active");
            });
        },

        tooltips: [], t: 0,

        addComparisonTable: function (type) {
            var pos = {
                att: {hack: "36%", pierce: "27%", distance: "45.5%", sea: "72.5%"},
                def: {hack: "18%", pierce: "18%", distance: "18%", sea: "81.5%"}
            };
            var unitIMG = "https://gpall.innogamescdn.com/images/game/units/units_info_sprite2.51.png";
            var strArray = [
                "<td></td>",
                '<td><div class="compare_type_icon" style="background-position: 0% ' + pos.att[type] + ';"></div></td>',
                '<td><div class="compare_type_icon" style="background-position: 0% ' + pos.def[type] + ';"></div></td>',
                '<td><div class="compare_type_icon" style="background-position: 0% 63%;"></div></td>',
                (type !== "sea") ? '<td><div class="compare_type_icon booty"></div></td>' : '<td><div class="compare_type_icon" style="background-position: 0% 91%;"></div></td>',
                '<td><div class="compare_type_icon" style="background-position: 0% 54%;"></div></td>',
                '<td><div class="compare_type_icon favor"></div></td>',
                '<td><div class="compare_type_icon time"></div></td>'
            ];

            for (var e in GameData.units) {
                if (GameData.units.hasOwnProperty(e)) {
                    var valArray = [];

                    if (type === (GameData.units[e].attack_type || "sea") && (e !== "militia")) {
                        valArray.att = Math.round(GameData.units[e].attack * 10 / GameData.units[e].population) / 10;
                        valArray.def = Math.round(((GameData.units[e].def_hack + GameData.units[e].def_pierce + GameData.units[e].def_distance) * 10) / (3 * GameData.units[e].population)) / 10;
                        valArray.def = valArray.def || Math.round(GameData.units[e].defense * 10 / GameData.units[e].population) / 10;
                        valArray.speed = GameData.units[e].speed;
                        valArray.booty = Math.round(((GameData.units[e].booty) * 10) / GameData.units[e].population) / 10;
                        valArray.booty = valArray.booty || Math.round(((GameData.units[e].capacity ? GameData.units[e].capacity + 6 : 0) * 10) / GameData.units[e].population) / 10;
                        valArray.favor = Math.round((GameData.units[e].favor * 10) / GameData.units[e].population) / 10;
                        valArray.res = Math.round((GameData.units[e].resources.wood + GameData.units[e].resources.stone + GameData.units[e].resources.iron) / (GameData.units[e].population));
                        valArray.time = Math.round(GameData.units[e].build_time / GameData.units[e].population);

                        // World without Artemis? -> grey griffin and boar
                        valArray.heroStyle = "";
                        valArray.heroStyleIMG = "";

                        if (!Game.hasArtemis && ((e === "griffin") || (e === "calydonian_boar"))) {
                            valArray.heroStyle = "color:black;opacity: 0.4;";
                            valArray.heroStyleIMG = "filter: url(#GrayScale); -webkit-filter:grayscale(100%);";
                        }

                        strArray[0] += '<td class="un' + (UnitComparison.t) + '"><span class="unit index_unit unit_icon40x40 ' + e + '" style="' + valArray.heroStyle + valArray.heroStyleIMG + '"></span></td>';
                        strArray[1] += '<td class="bold" style="color:' + ((valArray.att > 19) ? 'green;' : ((valArray.att < 10 && valArray.att !== 0 ) ? 'red;' : 'black;')) + valArray.heroStyle + '">' + valArray.att + '</td>';
                        strArray[2] += '<td class="bold" style="color:' + ((valArray.def > 19) ? 'green;' : ((valArray.def < 10 && valArray.def !== 0 ) ? 'red;' : 'black;')) + valArray.heroStyle + '">' + valArray.def + '</td>';
                        strArray[3] += '<td class="bold" style="' + valArray.heroStyle + '">' + valArray.speed + '</td>';
                        strArray[4] += '<td class="bold" style="' + valArray.heroStyle + '">' + valArray.booty + '</td>';
                        strArray[5] += '<td class="bold" style="' + valArray.heroStyle + '">' + valArray.res + '</td>';
                        strArray[6] += '<td class="bold" style="color:' + ((valArray.favor > 0) ? 'rgb(0, 0, 214);' : 'black;') + valArray.heroStyle + ';">' + valArray.favor + '</td>';
                        strArray[7] += '<td class="bold" style="' + valArray.heroStyle + '">' + valArray.time + '</td>';

                        UnitComparison.tooltips[UnitComparison.t] = GameData.units[e].name;
                        UnitComparison.t++;
                    }
                }
            }

            $('<table class="hidden t_' + type + '" cellpadding="1px">' +
              '<tr>' + strArray[0] + '</tr>' +
              '<tr class="tr_att">' + strArray[1] + '</tr><tr class="tr_def' + (type == "sea" ? "_sea" : "") + '">' + strArray[2] + '</tr>' +
              '<tr class="tr_spd">' + strArray[3] + '</tr><tr class="tr_bty' + (type == "sea" ? "_sea" : "") + '">' + strArray[4] + '</tr>' +
              '<tr class="tr_res">' + strArray[5] + '</tr><tr class="tr_fav">' + strArray[6] + '</tr><tr class="tr_tim' + (type == "sea" ? "_sea" : "") + '">' + strArray[7] + '</tr>' +
              '</table>').appendTo('#dio_comparison .box_content');

            for (var i = 0; i <= UnitComparison.t; i++) {
                $('.un' + i).tooltip(UnitComparison.tooltips[i]);
            }
        }
    };

    /*******************************************************************************************************************************
     * Reports and Messages
     * ----------------------------------------------------------------------------------------------------------------------------
     * | â Storage of the selected filter (only in German Grepolis yet)
     * ----------------------------------------------------------------------------------------------------------------------------
     *******************************************************************************************************************************/

    var filter = "all";

    function saveFilter() {
        $('#dd_filter_type_list .item-list div').each(function () {
            $(this).click(function () {
                filter = $(this).attr("name");
            });
        });
        /*
         var i = 0;
         $("#report_list a").each(function () {
         //console.log((i++) +" = " + $(this).attr('data-reportid'));
         });
         */
    }

    function loadFilter() {
        if ($('#dd_filter_type_list .selected').attr("name") !== filter) {
            $('#dd_filter_type .caption').click();
            $('#dd_filter_type_list .item-list div[name=' + filter + ']').click();
        }
    }

    function removeReports() {
        $("#report_list li:contains('spioniert')").each(function () {
            //$(this).remove();
        });
    }

    var zut = 0;
    var messageArray = {};

    function filterPlayer() {
        if (!$('#message_filter_list').get(0)) {
            $('<div id="message_filter_list" style="height:300px;overflow-y:scroll; width: 790px;"></div>').appendTo('#folder_container');
            $("#message_list").get(0).style.display = "none";
        }
        if (zut < parseInt($('.es_last_page').get(0).value, 10) - 1) {
            $('.es_page_input').get(0).value = zut++;
            $('.jump_button').click();
            $("#message_list li:contains('')").each(function () {
                $(this).appendTo('#message_filter_list');
            });
        } else {
            zut = 1;
        }
    }


    /*******************************************************************************************************************************
     * World Wonder Ranking - Change
     *******************************************************************************************************************************/

    /*function getWorldWonderTypes() {
        $.ajax({
            type: "GET",
            url: "/game/alliance?town_id=" + Game.town_id + "&action=world_wonders&h=" + Game.csrfToken + "&json=%7B%22town_id%22%3A" + Game.town_id + "%2C%22nlreq_id%22%3A" + Game.notification_last_requested_id +
            "%7D&_=" + Game.server_time,
            success: function (text) {
                try {
                    //console.log(JSON.parse(text));
                    temp = JSON.parse(text).json.data.world_wonders;
                    for (var t in temp) {
                        if (temp.hasOwnProperty(t)) {
                            wonderTypes[temp[t].wonder_type] = temp[t].full_name;
                        }
                    }
                    temp = JSON.parse(text).json.data.buildable_wonders;
                    for (var x in temp) {
                        if (temp.hasOwnProperty(x)) {
                            wonderTypes[x] = temp[x].name;
                        }
                    }
                    saveValue(MID + "_wonderTypes", JSON.stringify(wonderTypes));
                } catch (error) {
                    errorHandling(error, "getWorldWonderTypes");
                }
            }
        });
    }

    function getWorldWonders() {
        $.ajax({
            type: "GET",
            url: "/game/ranking?town_id=" + Game.town_id + "&action=wonder_alliance&h=" + Game.csrfToken + "&json=%7B%22type%22%3A%22all%22%2C%22town_id%22%3A" + Game.town_id + "%2C%22nlreq_id%22%3A3" + Game.notification_last_requested_id +
            "%7D&_=" + Game.server_time
        });
    }

    var WorldWonderRanking = {
        activate: function () {
            if ($('#dio_wonder_ranking').get(0)) {
                $('#dio_wonder_ranking').remove();
            }
            $('<style id="dio_wonder_ranking" type="text/css"> .wonder_ranking { display: none; } </style>').appendTo('head');
        },
        deactivate: function () {
            if ($('#dio_wonder_ranking').get(0)) {
                $('#dio_wonder_ranking').remove();
            }
            $('<style id="dio_wonder_ranking" type="text/css"> .wonder_ranking { display: block; } </style>').appendTo('head');
        },
        change: function (html) {
            if ($('#ranking_inner tr', html)[0].children.length !== 1) { // world wonders exist?
                try {
                    var ranking = {}, temp_ally, temp_ally_id, temp_ally_link;

                    // Save world wonder ranking into array
                    $('#ranking_inner tr', html).each(function () {
                        try {
                            if (this.children[0].innerHTML) {
                                temp_ally = this.children[1].children[0].innerHTML; // das hier

                                temp_ally_id = this.children[1].children[0].onclick.toString();
                                temp_ally_id = temp_ally_id.substring(temp_ally_id.indexOf(",") + 1);
                                temp_ally_id = temp_ally_id.substring(0, temp_ally_id.indexOf(")"));

                                temp_ally_link = this.children[1].innerHTML;

                            } else {
                                //World wonder name
                                var wonder_name = this.children[3].children[0].innerHTML;

                                for (var w in wonderTypes) {
                                    if (wonderTypes.hasOwnProperty(w)) {
                                        if (wonder_name == wonderTypes[w]) {
                                            var level = this.children[4].innerHTML, // world wonder level
                                                ww_data = JSON.parse(atob(this.children[3].children[0].href.split("#")[1])), wonder_link;
                                            //console.log(ww_data);

                                            if (!ranking.hasOwnProperty(level)) {
                                                // add wonder types
                                                ranking[level] = {
                                                    colossus_of_rhodes: {},
                                                    great_pyramid_of_giza: {},
                                                    hanging_gardens_of_babylon: {},
                                                    lighthouse_of_alexandria: {},
                                                    mausoleum_of_halicarnassus: {},
                                                    statue_of_zeus_at_olympia: {},
                                                    temple_of_artemis_at_ephesus: {}
                                                };
                                            }

                                            if (!ranking[level][w].hasOwnProperty(temp_ally_id)) {
                                                ranking[level][w][temp_ally_id] = {}; // add alliance array
                                            }
                                            // island coordinates of the world wonder:
                                            ranking[level][w][temp_ally_id].ix = ww_data.ix;
                                            ranking[level][w][temp_ally_id].iy = ww_data.iy;
                                            ranking[level][w][temp_ally_id].sea = this.children[5].innerHTML; // world wonder sea

                                            wonder_link = this.children[3].innerHTML;
                                            if (temp_ally.length > 15) {
                                                temp_ally = temp_ally.substring(0, 15) + '.';
                                            }
                                            wonder_link = wonder_link.substr(0, wonder_link.indexOf(">") + 1) + temp_ally + '</a>';

                                            ranking[level][w][temp_ally_id].ww_link = wonder_link;

                                            // other data of the world wonder
                                            ranking[level][w][temp_ally_id].ally_link = temp_ally_link;
                                            ranking[level][w][temp_ally_id].ally_name = temp_ally; // alliance name
                                            ranking[level][w][temp_ally_id].name = wonder_name; // world wonder name

                                            // Save wonder coordinates for wonder icons on map
                                            if (!wonder.map[w]) {
                                                wonder.map[w] = {};
                                            }
                                            wonder.map[w][ww_data.ix + "_" + ww_data.iy] = level;
                                            saveValue(WID + "_wonder", JSON.stringify(wonder));

                                        }
                                    }
                                }
                            }
                        } catch (error) {
                            errorHandling(error, "WorldWonderRanking.change(function)");
                        }
                    });

                    if ($('#ranking_table_wrapper').get(0)) {
                        $('#ranking_fixed_table_header').get(0).innerHTML = '<tr>' +
                            '<td style="width:10px">#</td>' +
                            '<td>Colossus</td>' +
                            '<td>Pyramid</td>' +
                            '<td>Garden</td>' +
                            '<td>Lighthouse</td>' +
                            '<td>Mausoleum</td>' +
                            '<td>Statue</td>' +
                            '<td>Temple</td>' +
                            '</tr>';

                        $('#ranking_fixed_table_header').css({
                            tableLayout: 'fixed',
                            width: '100%',
                            //paddingLeft: '0px',
                            paddingRight: '15px'
                        });

                        var ranking_substr = '', z = 0;
                        for (var level = 10; level >= 1; level--) {
                            if (ranking.hasOwnProperty(level)) {
                                var complete = "";
                                if (level == 10) {
                                    complete = "background: rgba(255, 236, 108, 0.36);";
                                }

                                // Alternate table background color
                                if (z === 0) {
                                    ranking_substr += '<tr class="game_table_odd" style="' + complete + '"><td style="border-right: 1px solid #d0be97;">' + level + '</td>';
                                    z = 1;
                                } else {
                                    ranking_substr += '<tr class="game_table_even" style="' + complete + '"><td style="border-right: 1px solid #d0be97;">' + level + '</td>';
                                    z = 0;
                                }
                                for (var w in ranking[level]) {
                                    if (ranking[level].hasOwnProperty(w)) {
                                        ranking_substr += '<td>';

                                        for (var a in ranking[level][w]) {
                                            if (ranking[level][w].hasOwnProperty(a)) {
                                                ranking_substr += '<nobr>' + ranking[level][w][a].ww_link + '</nobr><br />'; // ww link
                                            }
                                        }
                                        ranking_substr += '</td>';
                                    }
                                }
                                ranking_substr += '</tr>';
                            }
                        }

                        var ranking_str = '<table id="ranking_endless_scroll" class="game_table" cellspacing="0"><tr>' +
                            '<td style="width:10px;border-right: 1px solid #d0be97;"></td>' +
                            '<td><div class="dio_wonder" style="background:' + worldWonderIcon.colossus_of_rhodes + ';margin-left:26px"></div></td>' +	// Colossus
                            '<td><div class="dio_wonder" style="background:' + worldWonderIcon.great_pyramid_of_giza + ';margin-left:19px"></div></td>' +	// Pyramid
                            '<td><div class="dio_wonder" style="background:' + worldWonderIcon.hanging_gardens_of_babylon + ';margin-left:19px"></div></td>' +	// Garden
                            '<td><div class="dio_wonder" style="background:' + worldWonderIcon.lighthouse_of_alexandria + ';margin-left:24px"></div></td>' +	// Lighthouse
                            '<td><div class="dio_wonder" style="background:' + worldWonderIcon.mausoleum_of_halicarnassus + ';margin-left:25px"></div></td>' +	// Mausoleum
                            '<td><div class="dio_wonder" style="background:' + worldWonderIcon.statue_of_zeus_at_olympia + ';margin-left:25px"></div></td>' +	// Statue
                            '<td><div class="dio_wonder" style="background:' + worldWonderIcon.temple_of_artemis_at_ephesus + ';margin-left:22px"></div></td>' +	// Temple
                            '</tr>' + ranking_substr + '</table>';

                        $('#ranking_table_wrapper').get(0).innerHTML = ranking_str;

                        $('#ranking_endless_scroll .dio_wonder').css({
                            width: "65px", height: "60px",
                            backgroundSize: "auto 100%",
                            backgroundPosition: "64px 0px"
                        });

                        $('#ranking_endless_scroll').css({
                            tableLayout: 'fixed',
                            width: '100%',
                            overflowY: 'auto',
                            overflowX: 'hidden',
                            fontSize: '0.7em',
                            lineHeight: '2'
                        });
                        $('#ranking_endless_scroll tbody').css({
                            verticalAlign: 'text-top'
                        });

                        $('#ranking_table_wrapper img').css({
                            width: "60px"
                        });
                        $('#ranking_table_wrapper').css({
                            overflowY: 'scroll'
                        });
                    }
                } catch (error) {
                    errorHandling(error, "WorldWonderRanking.change");
                }
            }
            if ($('.wonder_ranking').get(0)) {
                $('.wonder_ranking').get(0).style.display = "block";
            }
        }
    };*/

    /*******************************************************************************************************************************
     * World Wonder
     * ----------------------------------------------------------------------------------------------------------------------------
     * | â click adjustment
     * | â Share calculation (= ratio of player points to alliance points)
     * | â Resources calculation & counter (stores amount)
     * | â Adds missing previous & next buttons on finished world wonders (better browsing through world wonders)
     * ----------------------------------------------------------------------------------------------------------------------------
     *******************************************************************************************************************************/

    // getPointRatio: Default
    function getPointRatioFromAllianceProfile() {
        if (AID) {
            $.ajax({
                type: "GET",
                url: '/game/alliance?town_id=' + Game.townId + '&action=profile&h=' + Game.csrfToken + '&json=%7B%22alliance_id%22%3A' + AID + '%2C%22town_id%22%3A' + Game.townId +
                '%2C%22nlreq_id%22%3A' + Game.notification_last_requested_id + '%7D&_=' + Game.server_time,
                success: function (text) {
                    try {
                        text = text.substr(text.indexOf("/li") + 14).substr(0, text.indexOf("\ "));
                        var AP = parseInt(text, 10);
                        wonder.ratio[AID] = 100 / AP * Game.player_points;
                        saveValue(WID + "_wonder", JSON.stringify(wonder));
                    } catch (error) {
                        errorHandling(error, "getPointRatioFromAllianceProfile");
                    }
                }
            });
        } else {
            wonder.ratio[AID] = -1;
            saveValue(WID + "_wonder", JSON.stringify(wonder));
        }
    }

    function getPointRatioFromAllianceRanking() {
        try {
            if (AID && $('.current_player .r_points').get(0)) {
                wonder.ratio[AID] = 100 / parseInt($('.current_player .r_points').get(0).innerHTML, 10) * Game.player_points;
                saveValue(WID + "_wonder", JSON.stringify(wonder));
            }
        } catch (error) {
            errorHandling(error, "getPointRatioFromAllianceRaking");
        }
    }

    function getPointRatioFromAllianceMembers() {
        try {
            var ally_points = 0;
            $('#ally_members_body tr').each(function () {
                ally_points += parseInt($(this).children().eq(2).text(), 10) || 0;
            });
            wonder.ratio[AID] = 100 / ally_points * Game.player_points;
            saveValue(WID + "_wonder", JSON.stringify(wonder));
        } catch (error) {
            errorHandling(error, "getPointRatioFromAllianceMembers");
        }
    }

    var WorldWonderCalculator = {
        activate: function () {
            // Style
            $('<style id="dio_wonder_calculator"> ' +
              '.wonder_controls { height:380px; } ' +
              '.wonder_controls .wonder_progress { margin: 0px auto 5px; } ' +
              '.wonder_controls .wonder_header { text-align:left; margin:10px -8px 12px 3px; }' +
              '.wonder_controls .build_wonder_icon { top:25px !important; }' +
              '.wonder_controls .wonder_progress_bar { top:54px; }' +
              '.wonder_controls .trade fieldset { float:right; } ' +
              '.wonder_controls .wonder_res_container { right:29px; } ' +
              '.wonder_controls .ww_ratio {position:relative; height:auto; } ' +
              '.wonder_controls fieldset.next_level_res {  height:auto; } ' +
              '.wonder_controls .town-capacity-indicator { margin-top:0px; } ' +

              '.wonder_controls .ww_ratio .progress { line-height:1; color:white; font-size:0.8em; } ' +
              '.wonder_controls .ww_perc { position:absolute; width:242px; text-align:center; } ' +
              '.wonder_controls .indicator3 { z-index:0; } ' +
              '.wonder_controls .indicator3.red { background-position:right -203px; height:10px; width:242px; } ' +
              '.wonder_controls .indicator3.green { background-position:right -355px; height:10px; width:242px; } ' +
              '.wonder_controls .all_res { background:url(https://gpall.innogamescdn.com/images/game/layout/resources_2.32.png) no-repeat 0 -90px; width:30px; height:30px; margin:0 auto; margin-left:5px; } ' +
              '.wonder_controls .town-capacity-indicator { margin-top:0px; } ' +
              '</style>').appendTo('head');
        },
        deactivate: function () {
            $('#dio_wonder_calculator').remove();
        }
    };

    // TODO: Split function...
    function getResWW() {
        try {
            var wndArray = GPWindowMgr.getOpen(Layout.wnd.TYPE_WONDERS);

            for (var e in wndArray) {
                if (wndArray.hasOwnProperty(e)) {
                    var wndID = "#gpwnd_" + wndArray[e].getID() + " ";

                    if ($(wndID + '.wonder_progress').get(0)) {
                        var res = 0,
                            ww_share = {total: {share: 0, sum: 0}, stage: {share: 0, sum: 0}},
                            ww_type = $(wndID + '.finished_image_small').attr('src').split("/")[6].split("_")[0], // Which world wonder?
                            res_stages = [2, 4, 6, 10, 16, 28, 48, 82, 140, 238], // Rohstoffmenge pro Rohstofftyp in 100.000 Einheiten
                            stage = parseInt($(wndID + '.wonder_expansion_stage span').get(0).innerHTML.split("/")[0], 10) + 1, // Derzeitige FÃ¼llstufe
                            speed = Game.game_speed;

                        wonder.storage[AID] = wonder.storage[AID] || {};

                        wonder.storage[AID][ww_type] = wonder.storage[AID][ww_type] || {};

                        wonder.storage[AID][ww_type][stage] = wonder.storage[AID][ww_type][stage] || 0;

                        if (!$(wndID + '.ww_ratio').get(0)) {
                            $('<fieldset class="ww_ratio"></fieldset>').appendTo(wndID + '.wonder_res_container .trade');
                            $(wndID + '.wonder_header').prependTo(wndID + '.wonder_progress');
                            $(wndID + '.wonder_res_container .send_res').insertBefore(wndID + '.wonder_res_container .next_level_res');
                        }

                        for (var d in res_stages) {
                            if (res_stages.hasOwnProperty(d)) {
                                ww_share.total.sum += res_stages[d];
                            }
                        }

                        ww_share.total.sum *= speed * 300000;

                        ww_share.total.share = parseInt(wonder.ratio[AID] * (ww_share.total.sum / 100), 10);

                        ww_share.stage.sum = speed * res_stages[stage - 1] * 300000;

                        ww_share.stage.share = parseInt(wonder.ratio[AID] * (ww_share.stage.sum / 100), 10); // ( 3000 = 3 Rohstofftypen * 100000 Rohstoffe / 100 Prozent)
                        setResWW(stage, ww_type, ww_share, wndID);


                        $(wndID + '.wonder_res_container .send_resources_btn').click(function (e) {
                            try {
                                wonder.storage[AID][ww_type][stage] += parseInt($(wndID + '#ww_trade_type_wood input:text').get(0).value, 10);
                                wonder.storage[AID][ww_type][stage] += parseInt($(wndID + '#ww_trade_type_stone input:text').get(0).value, 10);
                                wonder.storage[AID][ww_type][stage] += parseInt($(wndID + '#ww_trade_type_iron input:text').get(0).value, 10);

                                setResWW(stage, ww_type, ww_share, wndID);
                                saveValue(WID + "_wonder", JSON.stringify(wonder));
                            } catch (error) {
                                errorHandling(error, "getResWW_Click");
                            }
                        });

                    } else {
                        $('<div class="prev_ww pos_Y"></div><div class="next_ww pos_Y"></div>').appendTo(wndID + '.wonder_controls');

                        $(wndID + '.wonder_finished').css({width: '100%'});

                        $(wndID + '.pos_Y').css({
                            top: '-266px'
                        });
                    }
                }
            }
        } catch (error) {
            errorHandling(error, "getResWW");
        }
    }

    function setResWW(stage, ww_type, ww_share, wndID) {
        try {
            var stage_width, total_width, res_total = 0, stage_color = "red", total_color = "red";

            for (var z in wonder.storage[AID][ww_type]) {
                if (wonder.storage[AID][ww_type].hasOwnProperty(z)) {
                    res_total += wonder.storage[AID][ww_type][z];
                }
            }

            // Progressbar
            if (ww_share.stage.share > wonder.storage[AID][ww_type][stage]) {
                stage_width = (242 / ww_share.stage.share) * wonder.storage[AID][ww_type][stage];
                stage_color = "red";
            } else {
                stage_width = 242;
                stage_color = "green"
            }
            if (ww_share.total.share > res_total) {
                total_color = "red";
                total_width = (242 / ww_share.total.share) * res_total;
            } else {
                total_width = 242;
                total_color = "green"
            }

            $(wndID + '.ww_ratio').get(0).innerHTML = "";
            $(wndID + '.ww_ratio').append(
                '<legend>' + getText("labels", "leg") + ' (<span style="color:#090">' + (Math.round(wonder.ratio[AID] * 100) / 100) + '%</span>):</legend>' +
                '<div class="town-capacity-indicator">' +
                '<div class="icon all_res"></div>' +
                '<div id="ww_town_capacity_stadium" class="tripple-progress-progressbar">' +
                '<div class="border_l"></div><div class="border_r"></div><div class="body"></div>' +
                '<div class="progress overloaded">' +
                '<div class="indicator3 ' + stage_color + '" style="width:' + stage_width + 'px"></div>' +
                '<span class="ww_perc">' + Math.round(wonder.storage[AID][ww_type][stage] / ww_share.stage.share * 100) + '%</span>' +
                '</div>' +
                '<div class="amounts">' + getText("labels", "stg") + ': <span class="curr">' + pointNumber(wonder.storage[AID][ww_type][stage]) + '</span> / ' +
                '<span class="max">' + pointNumber(Math.round(ww_share.stage.share / 1000) * 1000) + '</span></div>' +
                '</div></div>' +
                '<div class="town-capacity-indicator">' +
                '<div class="icon all_res"></div>' +
                '<div id="ww_town_capacity_total" class="tripple-progress-progressbar">' +
                '<div class="border_l"></div><div class="border_r"></div><div class="body"></div>' +
                '<div class="progress overloaded">' +
                '<div class="indicator3 ' + total_color + '" style="width:' + total_width + 'px;"></div>' +
                '<span class="ww_perc">' + Math.round(res_total / ww_share.total.share * 100) + '%</span>' +
                '</div>' +
                '<div class="amounts">' + getText("labels", "tot") + ': <span class="curr">' + pointNumber(res_total) + '</span> / ' +
                '<span class="max">' + pointNumber((Math.round(ww_share.total.share / 1000) * 1000)) + '</span></div>' +
                '</div></div>');

            $(wndID + '.ww_ratio').tooltip(
                "<table style='border-spacing:0px; text-align:right' cellpadding='5px'><tr>" +
                "<td align='right' style='border-right: 1px solid;border-bottom: 1px solid'></td>" +
                "<td style='border-right: 1px solid; border-bottom: 1px solid'><span class='bbcodes_player bold'>(" + (Math.round((wonder.ratio[AID]) * 100) / 100) + "%)</span></td>" +
                "<td style='border-bottom: 1px solid'><span class='bbcodes_ally bold'>(100%)</span></td></tr>" +
                "<tr><td class='bold' style='border-right:1px solid;text-align:center'>" + getText("labels", "stg") + "&nbsp;" + stage + "</td>" +
                "<td style='border-right: 1px solid'>" + pointNumber(Math.round(ww_share.stage.share / 1000) * 1000) + "</td>" +
                "<td>" + pointNumber(Math.round(ww_share.stage.sum / 1000) * 1000) + "</td></tr>" +
                "<tr><td class='bold' style='border-right:1px solid;text-align:center'>" + getText("labels", "tot") + "</td>" +
                "<td style='border-right: 1px solid'>" + pointNumber(Math.round(ww_share.total.share / 1000) * 1000) + "</td>" +
                "<td>" + pointNumber(Math.round(ww_share.total.sum / 1000) * 1000) + "</td>" +
                "</tr></table>");

        } catch (error) {
            errorHandling(error, "setResWW");
        }
    }

    // Adds points to numbers
    function pointNumber(number) {
        var sep;
        if (LID === "de") {
            sep = ".";
        } else {
            sep = ",";
        }

        number = number.toString();
        if (number.length > 3) {
            var mod = number.length % 3;
            var output = (mod > 0 ? (number.substring(0, mod)) : '');

            for (var i = 0; i < Math.floor(number.length / 3); i++) {
                if ((mod == 0) && (i == 0)) {
                    output += number.substring(mod + 3 * i, mod + 3 * i + 3);
                } else {
                    output += sep + number.substring(mod + 3 * i, mod + 3 * i + 3);
                }
            }
            number = output;
        }
        return number;
    }

    /*******************************************************************************************************************************
     * Farming Village Overview
     * ----------------------------------------------------------------------------------------------------------------------------
     * | â Color change on possibility of city festivals
     * ----------------------------------------------------------------------------------------------------------------------------
     * *****************************************************************************************************************************/

    function changeResColor() {
        var res, res_min, i = 0;
        $('#fto_town_list .fto_resource_count :last-child').reverseList().each(function () {
            if ($(this).parent().hasClass("stone")) {
                res_min = 18000;
            } else {
                res_min = 15000;
            }
            res = parseInt(this.innerHTML, 10);
            if ((res >= res_min) && !($(this).hasClass("town_storage_full"))) {
                this.style.color = '#0A0';
            }
            if (res < res_min) {
                this.style.color = '#000';
            }
        });
    }

    /********************************************************************************************************************************
     * Conquest Info
     * -----------------------------------------------------------------------------------------------------------------------------
     * | â Amount of supports und attacks in the conquest window
     * | â Layout adjustment (for reasons of clarity)
     * | - TODO: conquest window of own cities
     * -----------------------------------------------------------------------------------------------------------------------------
     * ******************************************************************************************************************************/

    function countMovements() {
        var sup = 0, att = 0;
        $('.tab_content #unit_movements .support').each(function () {
            sup++;
        });
        $('.tab_content #unit_movements .attack_land, .tab_content #unit_movements .attack_sea, .tab_content #unit_movements .attack_takeover').each(function () {
            att++;
        });

        var str = "<div id='move_counter' style=''><div style='float:left;margin-right:5px;'></div>" +
            "<div class='movement def'></div>" +
            "<div class='movement' style='color:green;'> " + sup + "</div>" +
            "<div class='movement off'> </div>" +
            "<div style='color:red;'> " + att + "</div></div>" +
            "<hr class='move_hr'>";

        if ($('.gpwindow_content .tab_content .bold').get(0)) {
            $('.gpwindow_content .tab_content .bold').append(str);
        } else {
            $('.gpwindow_content h4:eq(1)').append(str);

            // TODO: set player link ?
            /*
             $('#unit_movements li div').each(function(){

             //console.log(this.innerHTML);
             });
             */
        }

        $('<style id="dio_conquest"> ' +
          '.move_hr { margin:7px 0px 0px 0px; background-color:#5F5242; height:2px; border:0px solid; } ' +
          // Smaller movements
          '#unit_movements { font-size: 0.80em; } ' +
          '#unit_movements .incoming { width:150px; height:45px; float:left; } ' +
          // Counter
          '#move_counter { position:relative; width:100px; margin-top:-16px; left: 40%; } ' +
          '#move_counter .movement { float:left; margin:0px 5px 0px 0px; height:18px; width:18px; position:relative; } ' +
          '#move_counter .def { background:url(https://gpall.innogamescdn.com/images/game/place/losts.png); background-position:0 -36px; } ' +
          '#move_counter .off { background:url(https://gpall.innogamescdn.com/images/game/place/losts.png); background-position:0 0px; }' +
          '</style>').appendTo("head");

        /*
         $('#unit_movements div').each(function(){
         if($(this).attr('class') === "unit_movements_arrow"){
         // delete placeholder for arrow of outgoing movements (there are no outgoing movements)
         if(!this.style.background) { this.remove(); }
         } else {
         // realign texts
         $(this).css({
         margin: '3px',
         paddingLeft: '3px'
         });
         }
         });
         */
    }

    /*******************************************************************************************************************************
     * Town window
     * ----------------------------------------------------------------------------------------------------------------------------
     * | â TownTabHandler (trade, attack, support,...)
     * | â Sent units box
     * | â Short duration: Display of 30% troop speed improvement in attack/support tab
     * | â Trade options:
     * |    - Ressource marks on possibility of city festivals
     * |    - Percentual Trade: Trade button
     * |    - Recruiting Trade: Selection boxes (ressource ratio of unit type + share of the warehouse capacity of the target town)
     * ----------------------------------------------------------------------------------------------------------------------------
     *******************************************************************************************************************************/
    var arrival_interval = {};
    // TODO: Change both functions in MultipleWindowHandler()
    function TownTabHandler(action) {
        var wndArray, wndID, wndA;
        wndArray = Layout.wnd.getOpen(Layout.wnd.TYPE_TOWN);
        //console.log(wndArray);
        for (var e in wndArray) {
            if (wndArray.hasOwnProperty(e)) {
                //console.log(wndArray[e].getHandler());
                wndA = wndArray[e].getAction();
                wndID = "#gpwnd_" + wndArray[e].getID() + " ";
                if (!$(wndID).get(0)) {
                    wndID = "#gpwnd_" + (wndArray[e].getID() + 1) + " ";
                }
                //console.log(wndID);
                if (wndA === action) {
                    switch (action) {
                        case "trading":
                            if ($(wndID + '#trade_tab').get(0)) {
                                if (!$(wndID + '.rec_trade').get(0) && DATA.options.rec) {
                                    RecruitingTrade.add(wndID);
                                }
                                //console.log(DATA.options.per);
                                if (!$(wndID + '.btn_trade').get(0) && DATA.options.per) {
                                    addPercentTrade(wndID, false);
                                }
                            }
                            //addTradeMarks(wndID, 15, 18, 15, "red"); // town festival
                            break;
                        case "support":
                        case "attack":
                            //if(!arrival_interval[wndID]){
                            if (DATA.options.way && !($('.js-casted-powers-viewport .unit_movement_boost').get(0) || $(wndID + '.short_duration').get(0))) {
                                //if(arrival_interval[wndID]) console.log("add " + wndID);
                                ShortDuration.add(wndID);
                            }
                            if (DATA.options.sen) {
                                SentUnits.add(wndID, action);
                            }
                            //}
                            break;
                        case "rec_mark":
                            //addTradeMarks(wndID, 15, 18, 15, "lime");
                            break;
                    }
                }
            }
        }
    }

    function WWTradeHandler() {
        var wndArray, wndID, wndA;
        wndArray = GPWindowMgr.getOpen(GPWindowMgr.TYPE_WONDERS);
        for (var e in wndArray) {
            if (wndArray.hasOwnProperty(e)) {
                wndID = "#gpwnd_" + wndArray[e].getID() + " ";
                if (DATA.options.per && !($(wndID + '.btn_trade').get(0) || $(wndID + '.next_building_phase').get(0) || $(wndID + '#ww_time_progressbar').get(0))) {
                    addPercentTrade(wndID, true);
                }
            }
        }
    }

    /*******************************************************************************************************************************
     * â Sent units box
     *******************************************************************************************************************************/
    var SentUnits = {
        activate: function () {
            $.Observer(GameEvents.command.send_unit).subscribe('DIO_SEND_UNITS', function (e, data) {
                for (var z in data.params) {
                    if (data.params.hasOwnProperty(z) && (data.sending_type !== "")) {
                        if (GameData.units[z]) {
                            sentUnitsArray[data.sending_type][z] = (sentUnitsArray[data.sending_type][z] == undefined ? 0 : sentUnitsArray[data.sending_type][z]);
                            sentUnitsArray[data.sending_type][z] += data.params[z];
                        }
                    }
                }
                //SentUnits.update(data.sending_type); ????
            });
            $('<style id="dio_table_box">' +
              '.attack_support_window .send_units_form .attack_type_wrapper .attack_table_box { text-align:left;  transform:scale(0.9); margin: -5px 0px -5px -34px;}' +
              '.attack_support_window .table_box .table_box_content .content_box { min-width:142px ; }' +
              '.attack_support_window .send_units_form .button_wrapper { text-align:left; padding-left:70px; }' +
              '#btn_attack_town { margin-left: 55px; } ' +
              '#gt_delete { display: none; }' +
              '.attack_support_window .additional_info_wrapper .town_info_duration_pos_alt { min-height: 50px;; } ' +
              '.attack_support_window .additional_info_wrapper .town_info_duration_pos { min-height: 62px!important; } ' +
              '</style>').appendTo('head');
        },
        deactivate: function () {
            $.Observer(GameEvents.command.send_unit).unsubscribe('DIO_SEND_UNITS');
            $('#dio_table_box').remove();
            $('#dio_table_box2').remove();
        },
        add: function (wndID, action) {
            if (!$(wndID + '.sent_units_box').get(0)) {
                $('<div id="dio_table_box2">' +
                  '<div class="game_inner_box sent_units_box ' + action + '"><div class="game_border ">' +
                  '<div class="game_border_top"></div><div class="game_border_bottom"></div><div class="game_border_left"></div><div class="game_border_right"></div>' +
                  '<div class="game_border_corner corner1"></div><div class="game_border_corner corner2"></div>' +
                  '<div class="game_border_corner corner3"></div><div class="game_border_corner corner4"></div>' +
                  '<div class="game_header bold">' +
                  '<div class="icon_sent townicon_' + (action == "attack" ? "lo" : "ld") + '"></div><span>' + getText("labels", "lab") + ' (' + (action == "attack" ? "OFF" : "DEF") + ')</span>' +
                  '</div>' +
                  '<div class="troops"><div class="units_list"></div><hr style="width: 172px;border: 1px solid rgb(185, 142, 93);margin: 3px 0px 2px -1px;">' +
                  '<div id="btn_sent_units_reset" class="button_new">' +
                  '<div class="left"></div>' +
                  '<div class="right"></div>' +
                  '<div class="caption js-caption">' + getText("buttons", "res") + '<div class="effect js-effect"></div></div>' +
                  '</div>' +
                  '</div></div></div>').appendTo(wndID + '.attack_support_window');

                SentUnits.update(action);

                $(wndID + '.icon_sent').css({
                    height: '20px',
                    marginTop: '-2px',
                    width: '20px',
                    backgroundPositionY: '-26px',
                    paddingLeft: '0px',
                    marginLeft: '0px'
                });

                $(wndID + '.sent_units_box').css({
                    position: 'absolute',
                    right: '0px',
                    bottom: '26px',
                    width: '192px'
                });
                $(wndID + '.troops').css({padding: '6px 0px 6px 6px'});

                $(wndID + '#btn_sent_units_reset').click(function () {
                    // Overwrite old array
                    sentUnitsArray[action] = {};

                    SentUnits.update(action);
                });
            }
        },
        update: function (action) {
            try {
                // Remove old unit list
                $('.sent_units_box.' + action + ' .units_list').each(function () {
                    this.innerHTML = "";
                });
                // Add new unit list
                for (var x in sentUnitsArray[action]) {
                    if (sentUnitsArray[action].hasOwnProperty(x)) {
                        if ((sentUnitsArray[action][x] || 0) > 0) {
                            $('.sent_units_box.' + action + ' .units_list').each(function () {
                                $(this).append('<div class="unit_icon25x25 ' + x +
                                               (sentUnitsArray[action][x] >= 1000 ? (sentUnitsArray[action][x] >= 10000 ? " five_digit_number" : " four_digit_number") : "") + '">' +
                                               '<span class="count text_shadow">' + sentUnitsArray[action][x] + '</span>' +
                                               '</div>');
                            });
                        }
                    }
                }
                saveValue(WID + "_sentUnits", JSON.stringify(sentUnitsArray));
            } catch (error) {
                errorHandling(error, "updateSentUnitsBox");
            }
        }
    };

    /*******************************************************************************************************************************
     * â Short duration
     *******************************************************************************************************************************/

    // TODO: Calculator implementieren
    var DurationCalculator = {
        activate: function () {
            var speedBoosterSprite = "https://www.tuto-de-david1327.com/medias/images/erreur-2.gif";/*speed_booster*/

            $('<style id="dio_duration_calculator_style">' +
              '.dio_speed_booster { border:1px solid #724B08; border-spacing: 0px;} ' +
              '.dio_speed_booster td { border:0; padding:2px; } ' +
              '.dio_speed_booster .checkbox_new { margin: 4px 0px 1px 3px; } ' +
              '.dio_speed_booster .odd { background: url("https://gpall.innogamescdn.com/images/game/border/brown.png") repeat scroll 0% 0% transparent; } ' +
              '.dio_speed_booster .even { background: url("https://gpall.innogamescdn.com/images/game/border/odd.png") repeat scroll 0% 0% transparent; } ' +
              '.booster_icon { width:20px; height:20px; background-image:url(' + speedBoosterSprite + ');} ' +
              '.booster_icon.improved_speed { background-position:0 0; } ' +
              '.booster_icon.cartography { background-position:-20px 0; } ' +
              '.booster_icon.meteorology { background-position:-40px 0; } ' +
              '.booster_icon.lighthouse { background-position:-60px 0; } ' +
              '.booster_icon.set_sail { background-position:-80px 0; } ' +
              '.booster_icon.atalanta { background-position:-100px 0; } ' +
              '</style>').appendTo('head');

            $('<table class="dio_speed_booster"><tr>' +
              '<td class="odd"><div class="booster_icon improved_speed"></div><div class="checkbox_new checked"><div class="cbx_icon"></div></div></td>' +
              '<td class="even"><div class="booster_icon cartography"></div><div class="checkbox_new checked"><div class="cbx_icon"></div></div></td>' +
              '<td class="odd"><div class="booster_icon meteorology"></div><div class="checkbox_new checked"><div class="cbx_icon"></div></div></td>' +
              '<td class="even"><div class="booster_icon lighthouse"></div><div class="checkbox_new checked"><div class="cbx_icon"></div></div></td>' +
              '<td class="odd"><div class="booster_icon set_sail"></div><div class="checkbox_new checked"><div class="cbx_icon"></div></div></td>' +
              '<td class="even"><div class="booster_icon atalanta"></div><div class="checkbox_new checked"><div class="cbx_icon"></div></div></td>' +
              '</tr></table>').appendTo(wndID + ".duration_container");
        },
        deactivate: function () {
            $('#dio_duration_calculator_style').remove();
        },
        add: function (wndID, data) {

        }
    };


    var ShortDuration = {
        activate: function () {

            $('<style id="dio_short_duration_style">' +
              '.attack_support_window .tab_type_support .duration_container { top:0px !important; } ' +

              '.attack_support_window .dio_duration { border-spacing:0px; margin-bottom:2px; float: left; } ' +

              '.attack_support_window .additional_info_wrapper .nightbonus { margin-left: 10px; } ' +
              '.attack_support_window .fight_bonus.morale {  margin-top: -23px !important; margin-left: 222px; } ' +
              '.attack_support_window span.max_booty { width:5px !important; margin-left: 14px; } ' +

              '.attack_support_window .way_duration, '+
              '.attack_support_window .arrival_time { padding:0px 0px 0px 0px; background:none; } ' +

              '.attack_support_window .way_icon { padding:30px 0px 0px 30px; background:transparent url(https://gpall.innogamescdn.com/images/game/towninfo/traveltime.png) no-repeat 0 0; } ' +
              '.attack_support_window .arrival_icon { padding:30px 0px 0px 30px; background:transparent url(https://gpall.innogamescdn.com/images/game/towninfo/arrival.png) no-repeat 0 0; } ' +
              //'.attack_support_window .short_icon { padding:20px 0px 0px 3px; background:url(https://www.tuto-de-david1327.com/medias/images/pied.png) 11px -1px / 21px no-repeat; filter: hue-rotate(50deg); -webkit-filter: hue-rotate(50deg); } ' +

              '.attack_support_window .additional_info_wrapper .town_info_duration_pos_alt { min-height: 50px;; } ' +
              '.attack_support_window .additional_info_wrapper .town_info_duration_pos { min-height: 55px; } ' +
              '</style>').appendTo('head');

        },
        deactivate: function () {
            $("#dio_short_duration_style").remove();
            $("#dio_duration").remove();
        },
        add: function (wndID) {
            //console.log($(wndID + ".duration_container").get(0));
            try {
                var tooltip = (LANG.hasOwnProperty(LID) ? getText("labels", "improved_movement") : "") + " (+30% " + DM.getl10n("barracks", "tooltips").speed.trim() + ")";

                $('<table class="dio_duration">' +
                  '<tr><td class="way_icon"></td><td class="dio_way"></td><td class="arrival_icon"></td><td class="dio_arrival"></td><td colspan="2" class="dio_night"></td></tr>' +
                  '<tr class="short_duration_row" style="color:darkgreen">' +
                  '<td>&nbsp;â&gt;&nbsp;</td><td><span class="short_duration">~0:00:00</span></td>' +
                  '<td>&nbsp;&nbsp;&nbsp;â&gt;</td><td><span class="short_arrival">~00:00:00</span></td>' +
                  '<td class="short_icon"></td><td></td></tr>' +
                  '</table>').prependTo(wndID + ".duration_container");



                $(wndID + ".nightbonus").appendTo(wndID + ".dio_night");
                $(wndID + '.way_duration').appendTo(wndID + ".dio_way");
                $(wndID + ".arrival_time").appendTo(wndID + ".dio_arrival");


                // Tooltip
                $(wndID + '.short_duration_row').tooltip(tooltip);

                // Detection of changes
                ShortDuration.change(wndID);
                // $(wndID + '.way_duration').bind('DOMSubtreeModified', function(e) { console.log(e); }); // Alternative

            } catch (error) {
                errorHandling(error, "addShortDuration");
            }
        },
        change: function (wndID) {
            var duration = new MutationObserver(function (mutations) {
                mutations.forEach(function (mutation) {
                    if (mutation.addedNodes[0]) {
                        //console.debug(mutation);
                        ShortDuration.calculate(wndID);
                    }
                });
            });
            if ($(wndID + '.way_duration').get(0)) {
                duration.observe($(wndID + '.way_duration').get(0), {
                    attributes: false,
                    childList: true,
                    characterData: false
                });
            }
        },
        //$('<style> .duration_container { display: block !important } </style>').appendTo("head");
        calculate: function (wndID) {
            //console.log(wndID);
            //console.log($(wndID + '.duration_container .way_duration').get(0));
            try {
                var setup_time = 900 / Game.game_speed,
                    duration_time = $(wndID + '.duration_container .way_duration').get(0).innerHTML.replace("~", "").split(":"),
                    // TODO: hier tritt manchmal Fehler auf TypeError: Cannot read property "innerHTML" of undefined at calcShortDuration (<anonymous>:3073:86)
                    arrival_time,
                    h, m, s,
                    atalanta_factor = 0;

                var hasCartography = ITowns.getTown(Game.townId).getResearches().get("cartography");
                var hasMeteorology = ITowns.getTown(Game.townId).getResearches().get("meteorology");
                var hasSetSail = ITowns.getTown(Game.townId).getResearches().get("set_sail");

                var hasLighthouse = ITowns.getTown(Game.townId).buildings().get("lighthouse");

                // Atalanta aktiviert?
                if ($(wndID + '.unit_container.heroes_pickup .atalanta').get(0)) {
                    if ($(wndID + '.cbx_include_hero').hasClass("checked")) {
                        // Beschleunigung hÃ¤ngt vom Level ab, Level 1 = 11%, Level 20 = 30%
                        var atalanta_level = MM.getCollections().PlayerHero[0].models[1].get("level");

                        atalanta_factor = (atalanta_level + 10) / 100;
                    }
                }

                // Sekunden, Minuten und Stunden zusammenrechnen (-> in Sekunden)
                duration_time = ((parseInt(duration_time[0], 10) * 60 + parseInt(duration_time[1], 10)) * 60 + parseInt(duration_time[2], 10));

                // VerkÃ¼rzte Laufzeit berechnen
                duration_time = ((duration_time - setup_time) * (1 + atalanta_factor)) / (1 + 0.3 + atalanta_factor) + setup_time;


                h = Math.floor(duration_time / 3600);
                m = Math.floor((duration_time - h * 3600) / 60);
                s = Math.floor(duration_time - h * 3600 - m * 60);

                if (m < 10) {
                    m = "0" + m;
                }
                if (s < 10) {
                    s = "0" + s;
                }

                $(wndID + '.short_duration').get(0).innerHTML = "~" + h + ":" + m + ":" + s;

                // Ankunftszeit errechnen
                arrival_time = Math.round((Timestamp.server() + Game.server_gmt_offset)) + duration_time;

                h = Math.floor(arrival_time / 3600);
                m = Math.floor((arrival_time - h * 3600) / 60);
                s = Math.floor(arrival_time - h * 3600 - m * 60);

                h %= 24;

                if (m < 10) {
                    m = "0" + m;
                }
                if (s < 10) {
                    s = "0" + s;
                }

                $(wndID + '.short_arrival').get(0).innerHTML = "~" + h + ":" + m + ":" + s;

                clearInterval(arrival_interval[wndID]);

                arrival_interval[wndID] = setInterval(function () {
                    arrival_time += 1;

                    h = Math.floor(arrival_time / 3600);
                    m = Math.floor((arrival_time - h * 3600) / 60);
                    s = Math.floor(arrival_time - h * 3600 - m * 60);

                    h %= 24;

                    if (m < 10) {
                        m = "0" + m;
                    }
                    if (s < 10) {
                        s = "0" + s;
                    }

                    if ($(wndID + '.short_arrival').get(0)) {
                        $(wndID + '.short_arrival').get(0).innerHTML = "~" + h + ":" + m + ":" + s;
                    } else {
                        clearInterval(arrival_interval[wndID]);
                    }
                }, 1000);

            } catch (error) {
                errorHandling(error, "ShortDuration.calculate");
            }
        }
    };

    /*******************************************************************************************************************************
     * â Dropdown menu
     *******************************************************************************************************************************/

    // TODO: Umstellen!
    // Preload images for drop down arrow buttons
    var drop_over = new Image();
    drop_over.src = "https://www.tuto-de-david1327.com/medias/images/drop-over.png"; // "https://s7.directupload.net/images/140107/hna95u8a.png";
    var drop_out = new Image();
    drop_out.src = "https://www.tuto-de-david1327.com/medias/images/drop-out.png"; // "https://s14.directupload.net/images/140107/ppsz5mxk.png";

    function changeDropDownButton() {
        $('<style id="dio_style_arrow" type="text/css">' +
          '#dd_filter_type .arrow, .select_rec_unit .arrow {' +
          'width: 18px !important; height: 17px !important; background: url("https://www.tuto-de-david1327.com/medias/images/drop-out.png") no-repeat 0px -1px !important;' + // https://s14.directupload.net/images/140107/ppsz5mxk.png
          'position: absolute; top: 2px !important; right: 3px; } ' +
          '</style>').appendTo('head');

    }

    /*******************************************************************************************************************************
     * â Recruiting Trade
     * *****************************************************************************************************************************/
    var trade_count = 0, unit = "FS", percent = "0.0"; // Recruiting Trade

    // TODO: Funktion umformen, Style anpassen!
    var RecruitingTrade = {
        activate: function () {
            $('<style id="dio_style_recruiting_trade" type="text/css">' +
              '#dio_recruiting_trade .option_s { filter:grayscale(100%); -webkit-filter:grayscale(100%); margin:0px; cursor:pointer; } ' +
              '#dio_recruiting_trade .option_s:hover { filter:unset !important; -webkit-filter:unset !important; } ' +
              '#dio_recruiting_trade .select_rec_unit .sel { filter:sepia(100%); -webkit-filter:sepia(100%); } ' +

              '#dio_recruiting_trade .option {color:#000; background:#FFEEC7; } ' +
              '#dio_recruiting_trade .option:hover {color:#fff; background:#328BF1; } ' +

              '#dio_recruiting_trade { position:absolute; left:30px; top:70px; } ' +
              '#dio_recruiting_trade .select_rec_unit { position:absolute; top:20px; width:84px; display:none; } ' +
              '#dio_recruiting_trade .select_rec_perc { position:absolute; top:20px; width:50px; display:none; left:50px; } ' +

              '#dio_recruiting_trade .open { display:block !important; } '+

              '#dio_recruiting_trade .item-list { max-height:unset; } ' +

              '#dio_recruiting_trade .arrow { width:18px; height:18px; background:url(' + drop_out.src + ') no-repeat -1px -1px; position:absolute; } ' +

              '#trade_tab .content { height:320px;  } ' +

              '#dio_recruiting_trade .rec_count { position:absolute; top:25px; } ' +

              '#dio_recruiting_trade .drop_rec_unit { position:absolute; display:block; width:50px; overflow:visible; } ' +
              '#dio_recruiting_trade .drop_rec_perc { position:absolute; display:block; width:55px; left:49px; color:#000; } ' +

              '</style>').appendTo('head');
        },
        deactivate: function () {
            $('#dio_style_recruiting_trade').remove();
            $('#dio_recruiting_trade').remove();
        },
        add: function (wndID) {
            var max_amount;

            $('<div id="dio_recruiting_trade" class="rec_trade">' +
              // DropDown-Button for unit
              '<div class="drop_rec_unit dropdown default">' +
              '<div class="border-left"></div>' +
              '<div class="border-right"></div>' +
              '<div class="caption" name="' + unit + '">' + unit + '</div>' +
              '<div class="arrow"></div>' +
              '</div>' +
              '<div class="drop_rec_perc dropdown default">' +
              // DropDown-Button for ratio
              '<div class="border-left"></div>' +
              '<div class="border-right"></div>' +
              '<div class="caption" name="' + percent + '">' + Math.round(percent * 100) + '%</div>' +
              '<div class="arrow"></div>' +
              '</div><span class="rec_count">(' + trade_count + ')</span></div>').appendTo(wndID + ".content");

            $(".dio_cultureB").css({
                "cursor" : "pointer",
                "width" : "25px",
                "height" : "27px",
                "float" : "right",
                "position" : "relative",
                "margin-left" : "3px",
                "border" : "2px groove gray",
                "background" : "url(https://gpfr.innogamescdn.com/images/game/overviews/celebration_bg_new.png)"
            });

            // Select boxes for unit and ratio
            $('<div id="dio_Select_boxes" class="select_rec_unit dropdown-list default active">' +
              '<div class="item-list">' +
              '<div id="dioattack_ship" class="option_s unit index_unit unit_icon40x40 attack_ship" name="FS"></div>' +
              '<div id="diobireme" class="option_s unit index_unit unit_icon40x40 bireme" name="BI"></div>' +
              '<div id="diotrireme" class="option_s unit index_unit unit_icon40x40 trireme" name="TR"></div>' +
              '<div id="diotransporter" class="option_s unit index_unit unit_icon40x40 big_transporter" name="BT"></div>' +
              '<div id="diosword" class="option_s unit index_unit unit_icon40x40 sword" name="SK"></div>' +
              '<div id="dioslinger" class="option_s unit index_unit unit_icon40x40 slinger" name="SL"></div>' +
              '<div id="dioarcher" class="option_s unit index_unit unit_icon40x40 archer" name="BS"></div>' +
              '<div id="diohoplite" class="option_s unit index_unit unit_icon40x40 hoplite" name="HO"></div>' +
              '<div id="diorider" class="option_s unit index_unit unit_icon40x40 rider" name="RE"></div>' +
              '<div id="diochariot" class="option_s unit index_unit unit_icon40x40 chariot" name="SW"></div>' +
              '<div id="diowall" class="option_s unit index_unit place_image wall_level" name="WA"></div>' +
              '<div id="diofestivals" class="option_s unit index_unit place_image morale" name="FE"></div>' +
              '</div></div>').appendTo(wndID + ".rec_trade");
            $('<div class="select_rec_perc dropdown-list default inactive">' +
              '<div class="item-list">' +
              '<div class="option sel" name="0.0">&nbsp;&nbsp;0%</div>' +
              '<div class="option" name="0.05">&nbsp;&nbsp;5%</div>' +
              '<div class="option" name="0.07">&nbsp;&nbsp;7%</div>' +
              '<div class="option" name="0.1">10%</div>' +
              '<div class="option" name="0.14">14%</div>' +
              '<div class="option" name="0.16666">17%</div>' +
              '<div class="option" name="0.2">20%</div>' +
              '<div class="option" name="0.25">25%</div>' +
              '<div class="option" name="0.33">33%</div>' +
              '<div class="option" name="0.5">50%</div>' +
              '</div></div>').appendTo(wndID + ".rec_trade");

            $(wndID + ".rec_trade [name='" + unit + "']").toggleClass("sel");

            // click events of the drop menu
            $(wndID + ' .select_rec_unit .option_s').each(function () {
                $(this).click(function (e) {
                    $(".select_rec_unit .sel").toggleClass("sel");
                    $("." + this.className.split(" ")[4]).toggleClass("sel");

                    unit = $(this).attr("name");
                    $('.drop_rec_unit .caption').attr("name", unit);
                    $('.drop_rec_unit .caption').each(function () {
                        this.innerHTML = unit;
                    });
                    $($(this).parent().parent().get(0)).removeClass("open");
                    $('.drop_rec_unit .caption').change();
                });
            });
            $(wndID + ' .select_rec_perc .option').each(function () {
                $(this).click(function (e) {
                    $(this).parent().find(".sel").toggleClass("sel");
                    $(this).toggleClass("sel");

                    percent = $(this).attr("name");
                    $('.drop_rec_perc .caption').attr("name", percent);
                    $('.drop_rec_perc .caption').each(function () {
                        this.innerHTML = Math.round(percent * 100) + "%";
                    });
                    $($(this).parent().parent().get(0)).removeClass("open")
                    $('.drop_rec_perc .caption').change();
                });
            });

            // show & hide drop menus on click
            $(wndID + '.drop_rec_perc').click(function (e) {

                if (!$($(e.target)[0].parentNode.parentNode.childNodes[4]).hasClass("open")) {
                    $($(e.target)[0].parentNode.parentNode.childNodes[4]).addClass("open");
                    $($(e.target)[0].parentNode.parentNode.childNodes[3]).removeClass("open");
                } else {
                    $($(e.target)[0].parentNode.parentNode.childNodes[4]).removeClass("open");
                }
            });
            $(wndID + '.drop_rec_unit').click(function (e) {

                if (!$($(e.target)[0].parentNode.parentNode.childNodes[3]).hasClass("open")) {
                    $($(e.target)[0].parentNode.parentNode.childNodes[3]).addClass("open");
                    $($(e.target)[0].parentNode.parentNode.childNodes[4]).removeClass("open");
                } else {
                    $($(e.target)[0].parentNode.parentNode.childNodes[3]).removeClass("open");
                }
            });

            $(wndID).click(function (e) {
                var clicked = $(e.target), element = $('#' + this.id + ' .dropdown-list.open').get(0);
                if ((clicked[0].parentNode.className.split(" ")[1] !== "dropdown") && element) {
                    $(element).removeClass("open");
                }
            });

            // hover arrow change
            $(wndID + '.dropdown').hover(function (e) {
                $(e.target)[0].parentNode.childNodes[3].style.background = "url('" + drop_over.src + "') no-repeat -1px -1px";
            }, function (e) {
                $(e.target)[0].parentNode.childNodes[3].style.background = "url('" + drop_out.src + "') no-repeat -1px -1px";
            });

            $(wndID + ".drop_rec_unit .caption").attr("name", unit);
            $(wndID + ".drop_rec_perc .caption").attr("name", percent);

            $(wndID + '.drop_rec_unit').tooltip(getText("labels", "rat"));
            $(wndID + '.drop_rec_perc').tooltip(getText("labels", "shr"));

            var ratio = {
                NO: {w: 0, s: 0, i: 0},
                FS: {w: 1, s: 0.2308, i: 0.6154},
                BI: {w: 1, s: 0.8750, i: 0.2250},
                SL: {w: 0.55, s: 1, i: 0.4},
                RE: {w: 0.6666, s: 0.3333, i: 1},
                SK: {w: 1, s: 0, i: 0.8947},
                HO: {w: 0, s: 0.5, i: 1},
                BS: {w: 1, s: 0, i: 0.6250},
                SW: {w: 0.4545, s: 1, i: 0.7273},
                TR: {w: 1, s: 0.65, i: 0.65},
                BT: {w: 1, s: 1, i: 0.8},
                SW: {w: 0.0714, s: 1, i: 0.7538},
                FE: {w: 0.8334, s: 1, i: 0.8334}
            };


            if ($('#town_capacity_wood .max').get(0)) {
                max_amount = parseInt($('#town_capacity_wood .max').get(0).innerHTML, 10);
            } else {
                max_amount = 25500;
            }

            $(wndID + '.caption').change(function (e) {
                //console.log($(this).attr('name') + ", " + unit + "; " + percent);
                if (!(($(this).attr('name') === unit) || ($(this).attr('name') === percent))) {
                    //trade_count = 0;
                    $('.rec_count').get(0).innerHTML = "(" + trade_count + ")";
                }

                var tmp = $(this).attr('name');

                if ($(this).parent().attr('class').split(" ")[0] === "drop_rec_unit") {
                    unit = tmp;
                } else {
                    percent = tmp;
                }
                var max = (max_amount - 100) / 1000;
                addTradeMarks(max * ratio[unit].w, max * ratio[unit].s, max * ratio[unit].i, "lime");

                var part = (max_amount - 1000) * parseFloat(percent); // -1000 als Puffer (sonst Ãberlauf wegen Restressies, die nicht eingesetzt werden kÃ¶nnen, vorallem bei FS und Biremen)
                var rArray = ITowns.getTown(Game.townId).getCurrentResources();
                var tradeCapacity = ITowns.getTown(Game.townId).getAvailableTradeCapacity();

                var wood = ratio[unit].w * part;
                var stone = ratio[unit].s * part;
                var iron = ratio[unit].i * part;

                if ((wood > rArray.wood) || (stone > rArray.stone) || (iron > rArray.iron) || ( (wood + stone + iron) > tradeCapacity)) {
                    wood = stone = iron = 0;
                    $('.drop_rec_perc .caption').css({color: '#f00'});
                    //$('.' + e.target.parentNode.parentNode.className + ' .select_rec_perc .sel').css({color:'#f00'});
                    //$('.select_rec_perc .sel').css({color:'#f00'});
                } else {
                    $('.' + e.target.parentNode.parentNode.className + ' .drop_rec_perc .caption').css({color: '#000'});
                }
                $("#trade_type_wood [type='text']").select().val(wood).blur();
                $("#trade_type_stone [type='text']").select().val(stone).blur();
                $("#trade_type_iron [type='text']").select().val(iron).blur();
            });

            $('#trade_button').click(function () {
                trade_count++;
                $('.rec_count').get(0).innerHTML = "(" + trade_count + ")";

            });

            $(wndID + '.drop_rec_perc .caption').change();


            // Tooltip
            var units = GameData.units;

            $('#dioattack_ship').tooltip(units.attack_ship.name);
            $('#diobireme').tooltip(units.bireme.name);
            $('#diotrireme').tooltip(units.trireme.name);
            $('#diotransporter').tooltip(units.big_transporter.name);
            $('#diosword').tooltip(units.sword.name);
            $('#dioslinger').tooltip(units.slinger.name);
            $('#dioarcher').tooltip(units.archer.name);
            $('#diohoplite').tooltip(units.hoplite.name);
            $('#diorider').tooltip(units.rider.name);
            $('#diochariot').tooltip(units.chariot.name);
            $('#diowall').tooltip(GameData.buildings.wall.name);
            $('#diofestivals').tooltip("");
        }
    };

    /*******************************************************************************************************************************
     * â Ressources marks
     *******************************************************************************************************************************/
    function addTradeMarks(woodmark, stonemark, ironmark, color) {
        var max_amount, limit, wndArray = GPWindowMgr.getOpen(Layout.wnd.TYPE_TOWN), wndID;
        for (var e in wndArray) {
            if (wndArray.hasOwnProperty(e)) {
                wndID = "#gpwnd_" + wndArray[e].getID() + " ";
                if ($(wndID + '.town-capacity-indicator').get(0)) {

                    max_amount = $(wndID + '.amounts .max').get(0).innerHTML;

                    $('#trade_tab .c_' + color).each(function () {
                        this.remove();
                    });
                    $('#trade_tab .progress').each(function () {
                        if ($("p", this).length < 3) {
                            if ($(this).parent().get(0).id != "big_progressbar") {
                                limit = 1000 * (242 / parseInt(max_amount, 10));

                                switch ($(this).parent().get(0).id.split("_")[2]) {
                                    case "wood":
                                        limit = limit * woodmark;
                                        break;
                                    case "stone":
                                        limit = limit * stonemark;
                                        break;
                                    case "iron":
                                        limit = limit * ironmark;
                                        break;
                                }
                                $('<p class="c_' + color + '"style="position:absolute;left: ' + limit + 'px; background:' + color + ';width:2px;height:100%;margin:0px"></p>').appendTo(this);
                            }
                        }
                    });
                }
            }
        }
    }

    /*******************************************************************************************************************************
     * â Percentual Trade
     *******************************************************************************************************************************/
    var rest_count = 0;

    function addPercentTrade(wndID, ww) {

        var a = "";
        var content = wndID + ".content";
        if (ww) {
            a = "ww_";
            content = wndID + '.trade .send_res';
        }
        $('<div id="dio_Percentual_trade" class="btn btn_trade"><a class="button" href="#">' +
          '<span class="left"><span class="right">' +
          '<span class="middle mid">' +
          '<span class="img_trade"></span></span></span></span>' +
          '<span style="clear:both;"></span>' +
          '</a></div>').prependTo(content);

        $(wndID + '.btn_trade').tooltip(getText("labels", "per"));

        setPercentTrade(wndID, ww);

        // Style
        $(wndID + '.btn').css({width: '20px', overflow: 'visible', position: 'absolute', display: 'block'});

        if (!ww) {
            $(wndID + '.content').css({height: '320px'});
        }

        if (ww) {
            $(wndID + '.btn_trade').css({left: '678px', top: '154px'});
        } else {
            $(wndID + '.btn_trade').css({left: '336px', top: '128px'});
        }

        $(wndID + '.mid').css({minWidth: '26px'});

        $(wndID + '.img_trade').css({
            width: '27px',
            height: '27px',
            top: '-3px',
            float: 'left',
            position: 'relative',
            background: 'url("https://www.tuto-de-david1327.com/medias/images/echange.png") no-repeat'
        });

    }

    var res = {};

    function setPercentTrade(wndID, ww) {
        var a = ww ? "ww_" : "", own_town = $(wndID + '.town_info').get(0) ? true : false;

        $(wndID + '.btn_trade').toggleClick(function () {
            res.wood = {};
            res.stone = {};
            res.iron = {};
            res.sum = {};

            res.sum.amount = 0;
            // Set amount of resources to 0
            setAmount(true, a, wndID);
            // Total amount of resources // TODO: ITowns.getTown(Game.townId).getCurrentResources(); ?
            for (var e in res) {
                if (res.hasOwnProperty(e) && e != "sum") {
                    res[e].rest = false;
                    res[e].amount = parseInt($('.ui_resources_bar .' + e + ' .amount').get(0).innerHTML, 10);
                    res.sum.amount += res[e].amount;
                }
            }
            // Percentage of total resources
            res.wood.percent = 100 / res.sum.amount * res.wood.amount;
            res.stone.percent = 100 / res.sum.amount * res.stone.amount;
            res.iron.percent = 100 / res.sum.amount * res.iron.amount;

            // Total trading capacity
            res.sum.cur = parseInt($(wndID + '#' + a + 'big_progressbar .caption .curr').get(0).innerHTML, 10);

            // Amount of resources on the percentage of trading capacity (%)
            res.wood.part = parseInt(res.sum.cur / 100 * res.wood.percent, 10);
            res.stone.part = parseInt(res.sum.cur / 100 * res.stone.percent, 10);
            res.iron.part = parseInt(res.sum.cur / 100 * res.iron.percent, 10);

            // Get rest warehouse capacity of each resource type
            for (var f in res) {
                if (res.hasOwnProperty(f) && f != "sum") {
                    if (!ww && own_town) { // Own town
                        var curr = parseInt($(wndID + '#town_capacity_' + f + ' .amounts .curr').get(0).innerHTML.replace('+', '').trim(), 10) || 0,
                            curr2 = parseInt($(wndID + '#town_capacity_' + f + ' .amounts .curr2').get(0).innerHTML.replace('+', '').trim(), 10) || 0,
                            max = parseInt($(wndID + '#town_capacity_' + f + ' .amounts .max').get(0).innerHTML.replace('+', '').trim(), 10) || 0;

                        res[f].cur = curr + curr2;
                        res[f].max = max - res[f].cur;

                        if (res[f].max < 0) {
                            res[f].max = 0;
                        }

                    } else { // World wonder or foreign town
                        res[f].max = 30000;
                    }
                }
            }
            // Rest of fraction (0-2 units) add to stone amount
            res.stone.part += res.sum.cur - (res.wood.part + res.stone.part + res.iron.part);

            res.sum.rest = 0;
            rest_count = 0;
            calcRestAmount();
            setAmount(false, a, wndID);
        }, function () {
            setAmount(true, a, wndID);
        });
    }

    function calcRestAmount() {
        // Subdivide rest
        if (res.sum.rest > 0) {
            for (var e in res) {
                if (res.hasOwnProperty(e) && e != "sum" && res[e].rest != true) {
                    res[e].part += res.sum.rest / (3 - rest_count);
                }
            }
            res.sum.rest = 0;
        }
        // Calculate new rest
        for (var f in res) {
            if (res.hasOwnProperty(f) && f != "sum" && res[f].rest != true) {
                if (res[f].max <= res[f].part) {
                    res[f].rest = true;
                    res.sum.rest += res[f].part - res[f].max;
                    rest_count += 1;
                    res[f].part = res[f].max;
                }
            }
        }
        // Recursion
        if (res.sum.rest > 0 && rest_count < 3) {
            calcRestAmount();
        }
    }

    function setAmount(clear, a, wndID) {
        for (var e in res) {
            if (res.hasOwnProperty(e) && e != "sum") {
                if (clear == true) {
                    res[e].part = 0;
                }
                $(wndID + "#" + a + "trade_type_" + e + ' [type="text"]').select().val(res[e].part).blur();
            }
        }
    }

    /********************************************************************************************************************************
     * Unit strength (blunt/sharp/distance) and Transport Capacity
     * ----------------------------------------------------------------------------------------------------------------------------
     * | â Unit strength: Menu
     * |	- Switching of def/off display with buttons
     * |	- Possible Selection of certain unit types
     * | â Unit strength: Conquest
     * | â Unit strength: Barracks
     * | â Transport capacity: Menu
     * |	- Switching of transporter speed (+/- big transporter)
     * ----------------------------------------------------------------------------------------------------------------------------
     * ******************************************************************************************************************************/

    var def = true, blunt = 0, sharp = 0, dist = 0, shipsize = false;

    var UnitStrength = {
        // Calculate defensive strength
        calcDef: function (units) {
            var e;
            blunt = sharp = dist = 0;
            for (e in units) {
                if (units.hasOwnProperty(e)) {
                    blunt += units[e] * (GameData.units[e].def_hack || 0);
                    sharp += units[e] * (GameData.units[e].def_pierce || 0);
                    dist += units[e] * (GameData.units[e].def_distance || 0);
                }
            }
        },
        // Calculate offensive strength
        calcOff: function (units, selectedUnits) {
            var e;
            blunt = sharp = dist = 0;
            for (e in selectedUnits) {
                if (selectedUnits.hasOwnProperty(e)) {
                    var attack = (units[e] || 0) * GameData.units[e].attack;
                    switch (GameData.units[e].attack_type) {
                        case 'hack':
                            blunt += attack;
                            break;
                        case 'pierce':
                            sharp += attack;
                            break;
                        case 'distance':
                            dist += attack;
                            break;
                    }
                }
            }
        },
        /*******************************************************************************************************************************
         * â Unit strength: Unit menu
         *******************************************************************************************************************************/
        Menu: {
            activate: function () {
                $('<a id="dio_Caserne" style="position: absolute; width: 70px; height: 70px; left: 0px;"></a>' +
                  '<div id="strength" class="cont def"><hr>' +
                  '<span class="bold text_shadow cont_left strength_font">' +
                  '<table style="margin:0px;">' +
                  '<tr><td><div class="ico units_info_sprite img_hack"></td><td id="blunt">0</td></tr>' +
                  '<tr><td><div class="ico units_info_sprite img_pierce"></td><td id="sharp">0</td></tr>' +
                  '<tr><td><div class="ico units_info_sprite img_dist"></td><td id="dist">0</td></tr>' +
                  '</table>' +
                  '</span>' +
                  '<div class="cont_right">' +
                  '<img id="def_button" class="active img" src="https://gpall.innogamescdn.com/images/game/unit_overview/support.png">' +
                  '<img id="off_button" class="img" src="https://gpall.innogamescdn.com/images/game/unit_overview/attack.png">' +
                  '</div></div>').appendTo('.units_land .content');

                $("#dio_Caserne").click(function () {BarracksWindowFactory.openBarracksWindow();});

                // Style
                $('<style id="dio_strength_style">' +
                  '#strength.def #off_button, #strength.off #def_button { filter:url(#Sepia); -webkit-filter:sepia(1); }' +
                  '#strength.off #off_button, #strength.def #def_button { filter:none; -webkit-filter:none; } ' +

                  '#strength.off .img_hack { background-position:0% 36%;} ' +
                  '#strength.def .img_hack { background-position:0%  0%;} ' +
                  '#strength.off .img_pierce { background-position:0% 27%;} ' +
                  '#strength.def .img_pierce { background-position:0%  9%;} ' +
                  '#strength.off .img_dist { background-position:0% 45%;} ' +
                  '#strength.def .img_dist { background-position:0% 18%;} ' +

                  '#strength .strength_font { font-size: 0.8em; } ' +
                  '#strength.off .strength_font { color:#edb;} ' +
                  '#strength.def .strength_font { color:#fc6;} ' +

                  '#strength .ico { height:20px; width:20px; } ' +
                  '#strength .units_info_sprite { background:url(https://gpall.innogamescdn.com/images/game/units/units_info_sprite2.51.png); background-size:100%; } ' +

                  '#strength .img_pierce { background-position:0px -20px; } ' +
                  '#strength .img_dist { background-position:0px -40px; } ' +
                  '#strength hr { margin:0px; background-color:#5F5242; height:2px; border:0px solid; } ' +
                  '#strength .cont_left { width:65%;  display:table-cell; } ' +

                  '#strength.cont { background:url(https://gpall.innogamescdn.com/images/game/layout/layout_units_nav_border.png); } ' +

                  '#strength .cont_right { width:30%; display:table-cell; vertical-align:middle; } ' +
                  '#strength .img { float:right; background:none; margin:2px 8px 2px 0px; } ' +

                  '</style>').appendTo("head");

                // Button events
                $('.units_land .units_wrapper, .btn_gods_spells .checked').click(function () {
                    setTimeout(function () {
                        UnitStrength.Menu.update();
                    }, 100);
                });

                $('#off_button').click(function () {
                    $('#strength').addClass('off').removeClass('def');

                    def = false;
                    UnitStrength.Menu.update();
                });
                $('#def_button').click(function () {
                    $('#strength').addClass('def').removeClass('off');

                    def = true;
                    UnitStrength.Menu.update();
                });
                $('#def_button, #off_button').hover(function () {
                    $(this).css('cursor', 'pointer');
                });

                UnitStrength.Menu.update();
            },
            deactivate: function () {
                $('#strength').remove();
                $('#dio_strength_style').remove();
                $('#dio_Caserne').remove();
            },
            update: function () {
                var unitsIn = ITowns.getTown(Game.townId).units(), units = UnitStrength.Menu.getSelected();

                // Calculation
                if (def === true) {
                    UnitStrength.calcDef(units);
                } else {
                    UnitStrength.calcOff(unitsIn, units);
                }
                $('#blunt').get(0).innerHTML = blunt;
                $('#sharp').get(0).innerHTML = sharp;
                $('#dist').get(0).innerHTML = dist;
            },
            getSelected: function () {
                var units = [];
                if ($(".units_land .units_wrapper .selected").length > 0) {
                    $(".units_land .units_wrapper .selected").each(function () {
                        units[this.className.split(" ")[1]] = this.children[0].innerHTML;
                    });
                } else {
                    $(".units_land .units_wrapper .unit").each(function () {
                        units[this.className.split(" ")[1]] = this.children[0].innerHTML;
                    });
                }
                return units;
            }
        },
        /*******************************************************************************************************************************
         * â Unit strength: Conquest
         *******************************************************************************************************************************/
        Conquest: {
            add: function () {
                var units = [], str;

                // units of the siege
                $('#conqueror_units_in_town .unit').each(function () {
                    str = $(this).attr("class").split(" ")[4];
                    if (!GameData.units[str].is_naval) {
                        units[str] = parseInt(this.children[0].innerHTML, 10);
                        //console.log($(this).attr("class").split(" ")[4]);
                    }
                });
                // calculation
                UnitStrength.calcDef(units);

                $('<div id="strength_eo" class="game_border" style="width:90px; margin: 20px; align:center;">' +
                  '<div class="game_border_top"></div><div class="game_border_bottom"></div>' +
                  '<div class="game_border_left"></div><div class="game_border_right"></div>' +
                  '<div class="game_border_corner corner1"></div><div class="game_border_corner corner2"></div>' +
                  '<div class="game_border_corner corner3"></div><div class="game_border_corner corner4"></div>' +
                  '<span class="bold" style="color:#000;font-size: 0.8em;"><table style="margin:0px;background:#f7dca2;width:100%;align:center;">' +
                  '<tr><td width="1%"><div class="ico units_info_sprite img_hack"></div></td><td id="bl" align="center" width="100%">0</td></tr>' +
                  '<tr><td><div class="ico units_info_sprite img_pierce"></div></td><td id="sh" align="center">0</td></tr>' +
                  '<tr><td><div class="ico units_info_sprite img_dist"></div></td><td id="di" align="center">0</td></tr>' +
                  '</table></span>' +
                  '</div>').appendTo('#conqueror_units_in_town');

                $('#strength_eo').tooltip('GesamteinheitenstÃ¤rke der Belagerungstruppen');

                // VerÃ¶ffentlichung-Button-Text
                $('#conqueror_units_in_town .publish_conquest_public_id_wrap').css({
                    marginLeft: '130px'
                });

                $('#strength_eo .ico').css({
                    height: '20px',
                    width: '20px'
                });
                $('#strength_eo .units_info_sprite').css({
                    background: 'url(https://gpall.innogamescdn.com/images/game/units/units_info_sprite2.51.png)',
                    backgroundSize: '100%'
                });
                $('#strength_eo .img_pierce').css({backgroundPosition: '0% 9%'});
                $('#strength_eo .img_dist').css({backgroundPosition: '0% 18%'});


                $('#bl').get(0).innerHTML = blunt;
                $('#sh').get(0).innerHTML = sharp;
                $('#di').get(0).innerHTML = dist;
            }
        },
        /*******************************************************************************************************************************
         * â Unit strength: Barracks
         *******************************************************************************************************************************/
        Barracks: {
            add: function () {
                if (!$('#strength_baracks').get(0)) {
                    var units = [], pop = 0;

                    // whole units of the town
                    $('#units .unit_order_total').each(function () {
                        units[$(this).parent().parent().attr("id")] = this.innerHTML;
                    });
                    // calculation
                    UnitStrength.calcDef(units);

                    // population space of the units
                    for (var e in units) {
                        if (units.hasOwnProperty(e)) {
                            pop += units[e] * GameData.units[e].population;
                        }
                    }
                    $('<div id="strength_baracks" class="game_border" style="float:right; width:70px; align:center;">' +
                      '<div class="game_border_top"></div><div class="game_border_bottom"></div>' +
                      '<div class="game_border_left"></div><div class="game_border_right"></div>' +
                      '<div class="game_border_corner corner1"></div><div class="game_border_corner corner2"></div>' +
                      '<div class="game_border_corner corner3"></div><div class="game_border_corner corner4"></div>' +
                      '<span class="bold" style="color:#000;font-size: 0.8em;"><table style="margin:0px;background:#f7dca2;width:100%;align:center;">' +
                      '<tr><td width="1%"><div class="ico units_info_sprite img_hack"></div></td><td id="b" align="center" width="100%">0</td></tr>' +
                      '<tr><td><div class="ico units_info_sprite img_pierce"></div></td><td id="s" align="center">0</td></tr>' +
                      '<tr><td><div class="ico units_info_sprite img_dist"></div></td><td id="d" align="center">0</td></tr>' +
                      '</table></span>' +
                      '</div>').appendTo('.ui-dialog #units');

                    $('<div id="pop_baracks" class="game_border" style="float:right; width:60px; align:center;">' +
                      '<div class="game_border_top"></div><div class="game_border_bottom"></div>' +
                      '<div class="game_border_left"></div><div class="game_border_right"></div>' +
                      '<div class="game_border_corner corner1"></div><div class="game_border_corner corner2"></div>' +
                      '<div class="game_border_corner corner3"></div><div class="game_border_corner corner4"></div>' +
                      '<span class="bold" style="color:#000;font-size: 0.8em;"><table style="margin:0px;background:#f7dca2;width:100%;align:center;">' +
                      '<tr><td width="1%"><img class="ico" src="https://gpall.innogamescdn.com/images/game/res/pop.png"></td><td id="p" align="center" width="100%">0</td></tr>' +
                      '</table></span>' +
                      '</div>').appendTo('.ui-dialog #units');

                    $('.ui-dialog #units .ico').css({
                        height: '20px',
                        width: '20px'
                    });
                    $('.ui-dialog #units .units_info_sprite').css({
                        background: 'url(https://gpall.innogamescdn.com/images/game/units/units_info_sprite2.51.png)',
                        backgroundSize: '100%'
                    });
                    $('.ui-dialog #units .img_pierce').css({backgroundPosition: '0% 9%'});
                    $('.ui-dialog #units .img_dist').css({backgroundPosition: '0% 18%'});

                    //$('#pop_baracks').tooltip('BevÃ¶lkerungszahl aller Landeinheiten der Stadt');
                    //$('#strength_baracks').tooltip('GesamteinheitenstÃ¤rke stadteigener Truppen');

                    $('#b').get(0).innerHTML = blunt;
                    $('#s').get(0).innerHTML = sharp;
                    $('#d').get(0).innerHTML = dist;
                    $('#p').get(0).innerHTML = pop;
                }
            }
        }
    };

    /*******************************************************************************************************************************
     * â Transporter capacity
     *******************************************************************************************************************************/
    var TransportCapacity = {
        activate: function () {
            // transporter display
            $('<a id="dio_Port" style="position: absolute; width: 60px; height: 26px;"></a>' +
              '<div id="transporter" class="cont" style="height:25px;">' +
              '<table style=" margin:0px;"><tr align="center" >' +
              '<td><img id="ship_img" class="ico" src="https://www.tuto-de-david1327.com/medias/images/mini-bateau.png"></td>' + // https://s7.directupload.net/images/140724/4pvfuch8.png
              '<td><span id="ship" class="bold text_shadow" style="color:#FFCC66;font-size: 10px;line-height: 2.1;"></span></td>' +
              '</tr></table>' +
              '</div>').appendTo('.units_naval .content');

            $("#dio_Port").click(function () {DocksWindowFactory.openDocksWindow();});

            $('#transporter.cont').css({
                background: 'url(https://gpall.innogamescdn.com/images/game/layout/layout_units_nav_border.png)'
            });

            $('#transporter').hover(function () {
                $(this).css('cursor', 'pointer');
            });
            $('#transporter').toggleClick(
                function () {
                    $('#ship_img').get(0).src = "https://www.tuto-de-david1327.com/medias/images/mini-bateau-red.png"; // https://s1.directupload.net/images/140724/b5xl8nmj.png
                    shipsize = !shipsize;
                    TransportCapacity.update();
                },
                function () {
                    $('#ship_img').get(0).src = "https://www.tuto-de-david1327.com/medias/images/mini-bateau.png"; // https://s7.directupload.net/images/140724/4pvfuch8.png
                    shipsize = !shipsize;
                    TransportCapacity.update();
                }
            );
            TransportCapacity.update();
        },
        deactivate: function () {
            $('#transporter').remove();
            $('#dio_Port').remove();
        },
        update: function () {
            var bigTransp = 0, smallTransp = 0, pop = 0, ship = 0, unit, berth, units = [];
            // Ship space (available)
            smallTransp = parseInt(ITowns.getTown(parseInt(Game.townId, 10)).units().small_transporter, 10);
            if (isNaN(smallTransp)) smallTransp = 0;
            if (shipsize) {
                bigTransp = parseInt(ITowns.getTown(parseInt(Game.townId, 10)).units().big_transporter, 10);
                if (isNaN(bigTransp)) bigTransp = 0;
            }

            // Checking: Research berth
            berth = 0;
            if (ITowns.getTown(Game.townId).researches().hasBerth()) {
                berth = GameData.research_bonus.berth;
            }
            ship = bigTransp * (GameData.units.big_transporter.capacity + berth) + smallTransp * (GameData.units.small_transporter.capacity + berth);

            units = ITowns.getTown(Game.townId).units();

            // Ship space (required)
            for (var e in units) {
                if (units.hasOwnProperty(e)) {
                    if (GameData.units[e]) { // without Heroes
                        if (!(GameData.units[e].is_naval || GameData.units[e].flying)) {
                            pop += units[e] * GameData.units[e].population;
                        }
                    }
                }
            }
            $('#ship').get(0).innerHTML = pop + "/" + ship;
        }
    };


    /*******************************************************************************************************************************
     * Simulator
     * ----------------------------------------------------------------------------------------------------------------------------
     * | â Layout adjustment
     * | â Permanent display of the extended modifier box
     * | â Unit strength for entered units (without modificator influence yet)
     * ----------------------------------------------------------------------------------------------------------------------------
     *******************************************************************************************************************************/
    var Simulator = {
        activate: function () {
            $('<style id="dio_simulator_style" type="text/css">' +

              '#place_simulator { overflow: hidden !important} ' +
              '#place_simulator .game_body { height: 417px !important} ' +

              '#place_simulator_form h4 { display:none; } '+

              '#place_simulator .place_simulator_table { margin: 0px !important } '+

              '#place_simulator_form .place_sim_wrap_mods { margin-bottom: 2px; } '+

              // Bonus container
              '.place_sim_bonuses_heroes { position:absolute; right:3px; top:27px; width: 272px;} ' +
              '.place_sim_bonuses_heroes .place_sim_showhide { display:none; } ' + // Hide modifier box button


              //'.place_sim_wrap_mods {position: relative; right: -17px !important} '+
              '.place_sim_wrap_mods .place_simulator_table :eq(1) { width: 300px;} ' + ////////////// genauer!
              '.place_sim_wrap_mods > .place_simulator_table { width: 272px;} ' + ////////////// genauer!

              // Wall losses
              '.place_sim_wrap_mods tr:last-child { display:none; } ' +

              // Extended modifier box
              //'@-webkit-keyframes 	MODBOX { 0% { opacity: 0; } 100% { opacity: 1; } } '+
              //'@keyframes 			MODBOX { 0% { opacity: 0; } 100% { opacity: 1; } } '+

              '.place_sim_wrap_mods_extended { display: table-cell !important; -webkit-animation:MODBOX 1s; animation:MODBOX 1s; position: relative; width:272px; opacity: 1 !important; left: 0px; top: 0px} ' +
              '.place_sim_wrap_mods_extended table tr td:eq(0) { width: 18px !important } ' +
              '.place_sim_wrap_mods_extended td { border:0px; } ' +
              '.place_sim_wrap_mods_extended tr td:first-child { border-left:0px; width:19px; padding-left:0px; } ' +
              '.place_sim_wrap_mods_extended .place_simulator_table { margin:0px; border-collapse:separate; border:1px solid #724B08; table-layout:fixed; width:100% } ' +

              '.place_simulator_table .place_image { display:block; width: 20px; height:20px; background-size:100%; margin:auto; } ' +
              '.place_simulator_table .place_image { background: url(https://www.tuto-de-david1327.com/medias/images/place-simulator-b8e4ca4-20x20.png) } ' +

              '.place_simulator_table .place_image.pa_commander { background: url(https://www.tuto-de-david1327.com/medias/images/advisors-22x22.jpg); background-position: -22px 0px; } ' +
              '.place_simulator_table .place_image.pa_captain { background: url(https://www.tuto-de-david1327.com/medias/images/advisors-22x22.jpg); background-position: 0px 0px; } ' +
              '.place_simulator_table .place_image.pa_priest { background: url(https://www.tuto-de-david1327.com/medias/images/advisors-22x22.jpg); background-position: -66px 0px; } ' +

              '.place_simulator_table .place_image.is_night { background-position: 60px 60px; } ' +
              '.place_simulator_table .place_image.alliance_modifier { background-position: 80px 0px; } ' +
              '.place_simulator_table .place_image.building_tower { background-position: 100px 60px; } ' +
              '.place_simulator_table .place_image.research_ram { background-position: 40px 20px; } ' +
              '.place_simulator_table .place_image.research_phalanx { background-position: 60px 20px; }' +
              '.place_simulator_table .place_image.strategy_breach { background-position: 60px 40px; }' +
              '.place_simulator_table .place_image.research_divine_selection { background-position: 80px 20px; }' +
              '.place_simulator_table .place_image.research_combat_experience { background-position: 80px 60px; }' +

              '#place_simulator_form .place_sim_wrap_mods_moral { margin: -190px 0 0 -50px;width: 340px; }' +

              '.place_simulator_table .place_image.ground_factor { background: url(https://www.tuto-de-david1327.com/medias/images/place-simulator-b8e4ca48-40x40.png) no-repeat -80px 0; width: 40px; height: 40px; } ' +
              '.place_simulator_table .place_image.naval_factor { background: url(https://www.tuto-de-david1327.com/medias/images/place-simulator-b8e4ca48-40x40.png) no-repeat 0px 0px; width: 40px; height: 40px; } ' +
              '.place_simulator_table .place_image.luck { background: url(https://www.tuto-de-david1327.com/medias/images/place-simulator-b8e4ca48-40x40.png) no-repeat 0 -80px; width: 40px; height: 40px; }' +
              '.place_simulator_table .place_image.morale { background: url(https://www.tuto-de-david1327.com/medias/images/place-simulator-b8e4ca48-40x40.png) no-repeat -40px -80px; width: 40px; height: 40px; }' +
              '.place_simulator_table .place_image.wall_level { background: url(https://www.tuto-de-david1327.com/medias/images/place-simulator-b8e4ca48-40x40.png) no-repeat -160px 0; width: 40px; height: 40px; }' +

              '.place_sim_wrap_mods_extended .place_cross { height:16px; background:none; } ' +
              '.place_sim_wrap_mods_extended .place_checkbox_field { display:table-cell; width:13px; height:13px; } ' +

              '.place_sim_wrap_mods_extended tr:last-child { display:none;} ' +

              '.place_sim_wrap_mods_extended tr:nth-of-type(3) td, .place_sim_wrap_mods_extended tr:nth-of-type(5) td { border-top: 2px solid #BFA978 !important; padding-top: 3px !important} ' +

              '.place_sim_wrap_mods_extended .game_border>div { display:none; } ' +
              '.place_sim_wrap_mods_extended .game_border { margin:0px; } ' +

              '.place_sim_wrap_mods_extended .game_border { height: 139px; overflow-y: auto; overflow-x: hidden; }' + // GrÃ¶Ãe der Modfikatorbox begrenzen

              '#place_simulator .window_inner_curtain { display: none !important } ' + // Hintergrund entfernen bei offener Modifikatorbox

              // Unit container
              '#simulator_body .unit_container { height: 50px !important; width: 46px !important; margin: 0px 3px 0px 1px !important} ' +
              '.place_simulator_odd, .place_simulator_even { text-align: center !important} ' +
              '.place_insert_field { margin: 0px !important}  ' +

              '#place_sim_ground_units { position:absolute; bottom: 35px;} ' +

              // Sea unit box
              '#place_sim_naval_units { position: absolute; } ' +
              '#place_sim_naval_units tbody tr:last-child { height:auto !important; }' +

              // Land unit box
              '#place_sim_wrap_units { position: absolute !important; bottom: 35px !important} ' +

              '#simulator_body>h4 { position:absolute;bottom:188px;} ' +

              // Select boxes
              '.place_sim_select_gods_wrap { position:absolute; bottom:186px; } ' +

              '.place_sim_select_gods_wrap .place_symbol, .place_sim_select_strategies .place_symbol { margin: 1px 2px 0px 5px !important} ' +
              '.place_sim_insert_units .place_symbol { filter: hue-rotate(330deg); -webkit-filter: hue-rotate(330deg);} ' +
              '.place_attack { float: left !important} ' +

              // Hero box
              '.place_sim_heroes_container { position: absolute; right: 0px; z-index: 1; } ' +
              '.place_sim_hero_container { width: 45px !important; height: 25px !important} ' +

              '#place_simulator .place_sim_bonuses_heroes h4:nth-of-type(2) { display:none; }' + // Heroes title

              // - Hero container
              '.place_sim_hero_choose, .place_sim_hero_unit_container { height: 26px !important; width: 30px !important} ' +
              '#hero_defense_icon, #hero_attack_icon { height: 25px !important; width: 25px !important; margin: 0px !important} ' +
              '#hero_defense_dd, #hero_attack_dd { height: 25px !important; width: 25px !important; margin: 1px !important} ' +
              '.place_sim_hero_attack, .place_sim_hero_defense { margin-left: 3px !important} ' +
              '#hero_attack_text, #hero_defense_text { font-size: 11px !important; bottom: 0px !important} ' +
              '.place_sim_heroes_container .plus { left: 2px; top: 2px !important} ' +

              '.place_sim_heroes_container .button_new.square { left: 2px !important; } ' +


              // - Hero spinner
              '.place_sim_heroes_container .spinner { height: 25px !important; width: 40px !important } ' +
              '.place_sim_heroes_container td:nth-child(0) { height: 30px !important} ' +
              '.place_sim_heroes_container .spinner { height: 24px !important; position:absolute !important; width:12px !important; left:29px !important; '+
              'background:url(https://gpall.innogamescdn.com/images/game/border/odd.png) repeat !important; border: 1px solid rgb(107, 107, 107) !important; } ' +
              '.place_sim_heroes_container .spinner .button_down, .place_sim_heroes_container .spinner .button_up { bottom: 2px !important; cursor: pointer !important} ' +
              '.place_sim_heroes_container .spinner .border_l, .place_sim_heroes_container .spinner .border_r, .place_sim_heroes_container .spinner .body { display:none; } '+

              // Battlepoints
              '#place_sim_battlepoints { position: absolute; bottom: 36px; right: 8px; } ' +

              // Quack
              '#q_place_sim_lost_res { display: none; } ' +
              '</style>').appendTo('head');

            if($('#place_simulator').get(0)) {
                Simulator.change();
            }

            SimulatorStrength.activate();

        },
        deactivate: function () {
            $('#dio_simulator_style').remove();
            if($('#simu_table').get(0)) {
                $('#simu_table').remove();

                // Hero box
                if ($('.place_sim_heroes_container').get(0)) {
                    $('.hero_unit').each(function () {
                        $(this).addClass('unit_icon40x40').removeClass('unit_icon25x25');
                    });

                    // Hero spinner
                    $('.place_sim_heroes_container .spinner').each(function () {
                        $(this).addClass('place_sim_hero_spinner');
                    });
                }
            }

            SimulatorStrength.deactivate();
        },
        change: function () {
            // TODO: Durch CSS ersetzen...

            // Wall loss
            $('.place_sim_wrap_mods tr:eq(1) td:eq(5)').html('<span id="building_place_def_losses_wall_level" class="place_losses bold"></span>');

            // Extended modificator box
            $('.place_sim_wrap_mods_extended .power').each(function () {
                $(this).removeClass("power_icon45x45").addClass("power_icon16x16");
            });
            $('.place_sim_wrap_mods_extended td:nth-child(even)').each(function () {
                $(this).addClass("left_border place_simulator_odd");
            });
            $('.place_sim_wrap_mods_extended td:nth-child(odd)').each(function () {
                $(this).addClass("left_border place_simulator_even");
            });

            // Border entfernen
            $('.place_sim_wrap_mods_extend td:first-child').each(function () {
                $(this).removeClass("left_border");
            });

            // -> Update percentage each time
            $('.place_checkbox_field').click(function () {
                FightSimulator.closeModsExtended(); //$('.place_sim_bonuses_more_confirm').get(0).click();
            });

            // Hero world ?
            if (Game.hasArtemis) {
                $('.place_sim_wrap_mods_extend tr').each(function () {
                    this.children[1].style.borderLeft = "none";
                    this.children[0].remove();
                });
            }

            // Hero box
            if ($('.place_sim_heroes_container').get(0)) {
                $('.hero_unit').each(function () {
                    $(this).removeClass('unit_icon40x40').addClass('unit_icon25x25');
                });

                // Hero spinner
                $('.place_sim_heroes_container .spinner').each(function () {
                    $(this).removeClass('place_sim_hero_spinner');
                });
            }

            setStrengthSimulator();
        }
    };

    function afterSimulation() {
        var lossArray = {att: {res: 0, fav: 0, pop: 0}, def: {res: 0, fav: 0, pop: 0}},
            wall_level = parseInt($('.place_sim_wrap_mods .place_insert_field[name="sim[mods][def][wall_level]"]').val(), 10),
            wall_damage = parseInt($('#building_place_def_losses_wall_level').get(0), 10),
            wall_iron = [0, 200, 429, 670, 919, 1175, 1435, 1701, 1970, 2242, 2518, 2796, 3077, 3360, 3646, 3933, 4222, 4514, 4807, 5101, 5397, 5695, 5994, 6294, 6596, 6899];

        // Calculate unit losses
        $('#place_sim_ground_units .place_losses, #place_sim_naval_units .place_losses').each(function () {
            var loss = parseInt(this.innerHTML, 10) || 0;
            //console.log(this.innerHTML);
            if (loss > 0) {
                var unit = this.id.substring(26);
                var side = this.id.split("_")[2]; // att / def
                lossArray[side].res += loss * (GameData.units[unit].resources.wood + GameData.units[unit].resources.stone + GameData.units[unit].resources.iron);
                lossArray[side].fav += loss * GameData.units[unit].favor;
                lossArray[side].pop += loss * GameData.units[unit].population;
            }
        });
        // Calculate wall resource losses
        for (var w = wall_level; w > wall_level - wall_damage; w--) {
            lossArray.def.res += 400 + w * 350 + wall_iron[w]; // wood amount is constant, stone amount is multiplicative and iron amount is irregular for wall levels
        }

        // Insert losses into table
        for (var x in lossArray) {
            if (lossArray.hasOwnProperty(x)) {
                for (var z in lossArray[x]) {
                    if (lossArray[x].hasOwnProperty(z)) {
                        //console.log(((z === "res") && (lossArray[x][z] > 10000)) ? (Math.round(lossArray[x][z] / 1000) + "k") : lossArray[x][z]);
                        $("#" + x + "_" + z).get(0).innerHTML = ((z === "res") && (lossArray[x][z] > 10000)) ? (Math.round(lossArray[x][z] / 1000) + "k") : lossArray[x][z];

                    }
                }
            }
        }
    }

    // StÃ¤rkeanzeige: Simulator
    var unitsGround = {att: {}, def: {}}, unitsNaval = {att: {}, def: {}}, name = "";

    var SimulatorStrength = {
        unitsGround : {att: {}, def: {}},
        unitsNaval : {att: {}, def: {}},

        activate : function(){
            $('<style id="dio_simulator_strength_style">'+
              '#dio_simulator_strength { position:absolute; top:192px; font-size:0.8em; width:63%; } '+
              '#dio_simulator_strength .ico { height:20px; width:20px; margin:auto; } '+
              '#dio_simulator_strength .units_info_sprite { background:url(https://gpall.innogamescdn.com/images/game/units/units_info_sprite2.51.png); background-size:100%; } ' +

              '#dio_simulator_strength .img_hack { background-position:0% 36%; } '+
              '#dio_simulator_strength .img_pierce { background-position:0% 27%; } '+
              '#dio_simulator_strength .img_dist { background-position:0% 45% !important; } '+
              '#dio_simulator_strength .img_ship { background-position:0% 72%; } '+

              '#dio_simulator_strength .img_fav { background: url(https://gpall.innogamescdn.com/images/game/res/favor.png) !important; background-size: 100%; } '+
              '#dio_simulator_strength .img_res { background: url(https://gpall.innogamescdn.com/images/game/units/units_info_sprite2.51.png) 0% 54%; background-size: 100%; } '+
              '#dio_simulator_strength .img_pop { background: url(https://gpall.innogamescdn.com/images/game/res/pop.png); background-size:100%; } '+

              '#dio_simulator_strength .left_border { width: 50px; } '+
              '</style>'
             ).appendTo('head');

        },
        deactivate : function(){
            $('#dio_simulator_strength_style').remove();
            $('#dio_simulator_strength').remove();
        },
        add : function(){
            $('<div id="dio_simulator_strength">' +
              '<div style="float:left; margin-right:12px;"><h4>' + getText("labels", "str") + '</h4>' +
              '<table class="place_simulator_table strength" cellpadding="0px" cellspacing="0px" style="align:center;">' +
              '<tr>' +
              '<td class="place_simulator_even"></td>' +
              '<td class="left_border place_simulator_odd"><div class="ico units_info_sprite img_hack"></div></td>' +
              '<td class="left_border place_simulator_even"><div class="ico units_info_sprite img_pierce"></div></td>' +
              '<td class="left_border place_simulator_odd"><div class="ico units_info_sprite img_dist"></div></td>' +
              '<td class="left_border place_simulator_even"><div class="ico units_info_sprite img_ship"></div></td>' +
              '</tr><tr>' +
              '<td class="place_simulator_even"><div class="place_symbol place_att"></div></td>' +
              '<td class="left_border place_simulator_odd" id="att_b">0</td>' +
              '<td class="left_border place_simulator_even" id="att_s">0</td>' +
              '<td class="left_border place_simulator_odd" id="att_d">0</td>' +
              '<td class="left_border place_simulator_even" id="att_ship">0</td>' +
              '</tr><tr>' +
              '<td class="place_simulator_even"><div class="place_symbol place_def"></div></td>' +
              '<td class="left_border place_simulator_odd" id="def_b">0</td>' +
              '<td class="left_border place_simulator_even" id="def_s">0</td>' +
              '<td class="left_border place_simulator_odd" id="def_d">0</td>' +
              '<td class="left_border place_simulator_even" id="def_ship">0</td>' +
              '</tr>' +
              '</table>' +
              '</div><div><h4>' + getText("labels", "los") + '</h4>' +
              '<table class="place_simulator_table loss" cellpadding="0px" cellspacing="0px" style="align:center;">' +
              '<tr>' +
              '<td class="place_simulator_even"></td>' +
              '<td class="left_border place_simulator_odd"><div class="ico units_info_sprite img_res"></div></td>' +
              '<td class="left_border place_simulator_even"><div class="ico units_info_sprite img_fav"></div></td>' +
              '<td class="left_border place_simulator_odd"><div class="ico units_info_sprite img_pop"></div></td>' +
              '</tr><tr>' +
              '<td class="place_simulator_even"><div class="place_symbol place_att"></div></td>' +
              '<td class="left_border place_simulator_odd" id="att_res">0</td>' +
              '<td class="left_border place_simulator_even" id="att_fav">0</td>' +
              '<td class="left_border place_simulator_odd" id="att_pop">0</td>' +
              '</tr><tr>' +
              '<td class="place_simulator_even"><div class="place_symbol place_def"></div></td>' +
              '<td class="left_border place_simulator_odd" id="def_res">0</td>' +
              '<td class="left_border place_simulator_even" id="def_fav">0</td>' +
              '<td class="left_border place_simulator_odd" id="def_pop">0</td>' +
              '</tr>' +
              '</table>' +
              '</div></div>').appendTo('#simulator_body');


            $('#dio_simulator_strength .left_border').each(function () {
                $(this)[0].align = 'center';
            });

            // Tooltips setzen
            $('#dio_simulator_strength .strength').tooltip(getText("labels", "str") + " (" + getText("labels", "mod") + ")");
            $('#dio_simulator_strength .loss').tooltip(getText("labels", "los"));

            // Klick auf Einheitenbild
            $('.index_unit').click(function () {
                var type = $(this).attr('class').split(" ")[4];
                $('.place_insert_field[name="sim[units][att][' + type + ']"]').change();
            });

            $('#place_sim_ground_units .place_insert_field, #place_sim_naval_units .place_insert_field').on('input change', function () {
                name = $(this).attr("name").replace(/\]/g, "").split("[");
                var str = this;


                setTimeout(function () {
                    var unit_type = $(str).closest('.place_simulator_table').attr("id").split("_")[2],
                        val, e;

                    val = parseInt($(str).val(), 10);
                    val = val || 0;

                    if (unit_type == "ground") {
                        unitsGround[name[2]][name[3]] = val;

                        if (name[2] == "def") {
                            UnitStrength.calcDef(unitsGround.def);
                        } else {
                            UnitStrength.calcOff(unitsGround.att, unitsGround.att);
                        }
                        $('#' + name[2] + '_b').get(0).innerHTML = blunt;
                        $('#' + name[2] + '_s').get(0).innerHTML = sharp;
                        $('#' + name[2] + '_d').get(0).innerHTML = dist;

                    } else {
                        var att = 0, def = 0;
                        unitsNaval[name[2]][name[3]] = val;

                        if (name[2] == "def") {
                            for (e in unitsNaval.def) {
                                if (unitsNaval.def.hasOwnProperty(e)) {
                                    def += unitsNaval.def[e] * GameData.units[e].defense;
                                }
                            }
                            $('#def_ship').get(0).innerHTML = def;

                        } else {
                            for (e in unitsNaval.att) {
                                if (unitsNaval.att.hasOwnProperty(e)) {
                                    att += unitsNaval.att[e] * GameData.units[e].attack;
                                }
                            }
                            $('#att_ship').get(0).innerHTML = att;
                        }
                    }
                }, 100);
            });

            // Abfrage wegen eventueller Spionageweiterleitung
            getUnitInputs();
            setTimeout(function () {
                setChangeUnitInputs("def");
            }, 100);

            $('#select_insert_units').change(function () {
                var side = $(this).find('option:selected').val();

                setTimeout(function () {
                    getUnitInputs();
                    if (side === "att" || side === "def") {
                        setChangeUnitInputs(side);
                    }
                }, 200);
            });
        },

        getUnitInputs : function(){
            $('#place_sim_ground_units .place_insert_field, #place_sim_naval_units .place_insert_field').each(function () {
                var name = $(this).attr("name").replace(/\]/g, "").split("[");

                var str = this;

                var unit_type = $(str).closest('.place_simulator_table').attr("id").split("_")[2];

                var val = parseInt($(str).val(), 10);

                val = val || 0;

                if (unit_type === "ground") {
                    SimulatorStrength.unitsGround[name[2]][name[3]] = val;
                } else {
                    SimulatorStrength.unitsNaval[name[2]][name[3]] = val;
                }
            });
        },

        updateStrength : function(){

        }
    }
    function setStrengthSimulator() {
        $('<div id="dio_simulator_strength">' +
          '<div style="float:left; margin-right:12px;"><h4>' + getText("labels", "str") + '</h4>' +
          '<table class="place_simulator_table strength" cellpadding="0px" cellspacing="0px" style="align:center;">' +
          '<tr>' +
          '<td class="place_simulator_even"></td>' +
          '<td class="left_border place_simulator_odd"><div class="ico units_info_sprite img_hack"></div></td>' +
          '<td class="left_border place_simulator_even"><div class="ico units_info_sprite img_pierce"></div></td>' +
          '<td class="left_border place_simulator_odd"><div class="ico units_info_sprite img_dist"></div></td>' +
          '<td class="left_border place_simulator_even"><div class="ico units_info_sprite img_ship"></div></td>' +
          '</tr><tr>' +
          '<td class="place_simulator_even"><div class="place_symbol place_att"></div></td>' +
          '<td class="left_border place_simulator_odd" id="att_b">0</td>' +
          '<td class="left_border place_simulator_even" id="att_s">0</td>' +
          '<td class="left_border place_simulator_odd" id="att_d">0</td>' +
          '<td class="left_border place_simulator_even" id="att_ship">0</td>' +
          '</tr><tr>' +
          '<td class="place_simulator_even"><div class="place_symbol place_def"></div></td>' +
          '<td class="left_border place_simulator_odd" id="def_b">0</td>' +
          '<td class="left_border place_simulator_even" id="def_s">0</td>' +
          '<td class="left_border place_simulator_odd" id="def_d">0</td>' +
          '<td class="left_border place_simulator_even" id="def_ship">0</td>' +
          '</tr>' +
          '</table>' +
          '</div><div><h4>' + getText("labels", "los") + '</h4>' +
          '<table class="place_simulator_table loss" cellpadding="0px" cellspacing="0px" style="align:center;">' +
          '<tr>' +
          '<td class="place_simulator_even"></td>' +
          '<td class="left_border place_simulator_odd"><div class="ico units_info_sprite img_res"></div></td>' +
          '<td class="left_border place_simulator_even"><div class="ico units_info_sprite img_fav"></div></td>' +
          '<td class="left_border place_simulator_odd"><div class="ico units_info_sprite img_pop"></div></td>' +
          '</tr><tr>' +
          '<td class="place_simulator_even"><div class="place_symbol place_att"></div></td>' +
          '<td class="left_border place_simulator_odd" id="att_res">0</td>' +
          '<td class="left_border place_simulator_even" id="att_fav">0</td>' +
          '<td class="left_border place_simulator_odd" id="att_pop">0</td>' +
          '</tr><tr>' +
          '<td class="place_simulator_even"><div class="place_symbol place_def"></div></td>' +
          '<td class="left_border place_simulator_odd" id="def_res">0</td>' +
          '<td class="left_border place_simulator_even" id="def_fav">0</td>' +
          '<td class="left_border place_simulator_odd" id="def_pop">0</td>' +
          '</tr>' +
          '</table>' +
          '</div></div>').appendTo('#simulator_body');


        /*
        $('#dio_simulator_strength').css({
            position: 'absolute',
            top: '192px',
            fontSize: '0.8em',
            width: '63%'
        });
        $('#dio_simulator_strength .ico').css({
            height: '20px',
            width: '20px',
            margin: 'auto'
        });
        $('#dio_simulator_strength .units_info_sprite').css({
            background: 'url(https://gpall.innogamescdn.com/images/game/units/units_info_sprite2.51.png)',
            backgroundSize: '100%'
        });
        $('#dio_simulator_strength .img_hack').css({backgroundPosition: '0% 36%'});
        $('#dio_simulator_strength .img_pierce').css({backgroundPosition: '0% 27%'});
        $('#dio_simulator_strength .img_dist').css({backgroundPosition: '0% 45%'});
        $('#dio_simulator_strength .img_ship').css({backgroundPosition: '0% 72%'});

        $('#dio_simulator_strength .img_fav').css({
            background: 'url(https://gpall.innogamescdn.com/images/game/res/favor.png)',
            backgroundSize: '100%'
        });
        $('#dio_simulator_strength .img_res').css({
            background: 'url(https://gpall.innogamescdn.com/images/game/units/units_info_sprite2.51.png) 0% 54%',
            backgroundSize: '100%'
        });
        $('#dio_simulator_strength .img_pop').css({
            background: 'url(https://gpall.innogamescdn.com/images/game/res/pop.png)',
            backgroundSize: '100%'
        });

        $('#dio_simulator_strength .left_border').css({
            width: '54px'
        });
        */


        $('#dio_simulator_strength .left_border').each(function () {
            $(this)[0].align = 'center';
        });

        $('#dio_simulator_strength .strength').tooltip(getText("labels", "str") + " (" + getText("labels", "mod") + ")");
        $('#dio_simulator_strength .loss').tooltip(getText("labels", "los"));

        // Klick auf Einheitenbild
        $('.index_unit').click(function () {
            var type = $(this).attr('class').split(" ")[4];
            $('.place_insert_field[name="sim[units][att][' + type + ']"]').change();
        });

        $('#place_sim_ground_units .place_insert_field, #place_sim_naval_units .place_insert_field').on('input change', function () {
            name = $(this).attr("name").replace(/\]/g, "").split("[");
            var str = this;
            //console.log(str);
            setTimeout(function () {
                var unit_type = $(str).closest('.place_simulator_table').attr("id").split("_")[2],
                    val, e;

                val = parseInt($(str).val(), 10);
                val = val || 0;

                if (unit_type == "ground") {
                    unitsGround[name[2]][name[3]] = val;

                    if (name[2] == "def") {
                        UnitStrength.calcDef(unitsGround.def);
                    } else {
                        UnitStrength.calcOff(unitsGround.att, unitsGround.att);
                    }
                    $('#' + name[2] + '_b').get(0).innerHTML = blunt;
                    $('#' + name[2] + '_s').get(0).innerHTML = sharp;
                    $('#' + name[2] + '_d').get(0).innerHTML = dist;

                } else {
                    var att = 0, def = 0;
                    unitsNaval[name[2]][name[3]] = val;

                    if (name[2] == "def") {
                        for (e in unitsNaval.def) {
                            if (unitsNaval.def.hasOwnProperty(e)) {
                                def += unitsNaval.def[e] * GameData.units[e].defense;
                            }
                        }
                        $('#def_ship').get(0).innerHTML = def;

                    } else {
                        for (e in unitsNaval.att) {
                            if (unitsNaval.att.hasOwnProperty(e)) {
                                att += unitsNaval.att[e] * GameData.units[e].attack;
                            }
                        }
                        $('#att_ship').get(0).innerHTML = att;
                    }
                }
            }, 100);
        });

        // Abfrage wegen eventueller Spionageweiterleitung
        getUnitInputs();
        setTimeout(function () {
            setChangeUnitInputs("def");
        }, 100);

        $('#select_insert_units').change(function () {
            var side = $(this).find('option:selected').val();

            setTimeout(function () {
                getUnitInputs();
                if (side === "att" || side === "def") {
                    setChangeUnitInputs(side);
                }
            }, 200);
        });
    }

    function getUnitInputs() {
        $('#place_sim_ground_units .place_insert_field, #place_sim_naval_units .place_insert_field').each(function () {
            name = $(this).attr("name").replace(/\]/g, "").split("[");

            var str = this;

            var unit_type = $(str).closest('.place_simulator_table').attr("id").split("_")[2];

            var val = parseInt($(str).val(), 10);

            val = val || 0;

            if (unit_type === "ground") {
                unitsGround[name[2]][name[3]] = val;
            } else {
                unitsNaval[name[2]][name[3]] = val;
            }
        });
    }

    function setChangeUnitInputs(side) {
        $('.place_insert_field[name="sim[units][' + side + '][godsent]"]').change();
        setTimeout(function () {
            $('.place_insert_field[name="sim[units][' + side + '][colonize_ship]"]').change();
        }, 100);
    }

    /*******************************************************************************************************************************
     * Defense form
     * ----------------------------------------------------------------------------------------------------------------------------
     * | â Adds a defense form to the bbcode bar
     * ----------------------------------------------------------------------------------------------------------------------------
     *******************************************************************************************************************************/

    // Funktion aufteilen...
    function addForm(e) {
        var textareaId = "", bbcodeBarId = "";

        switch (e) {
            case "/alliance_forum/forum":
                textareaId = "#forum_post_textarea";
                bbcodeBarId = "#forum";
                break;
            case "/message/forward":
                textareaId = "#message_message";
                bbcodeBarId = "#message_bbcodes";
                break;
            case "/message/new":
                textareaId = "#message_new_message";
                bbcodeBarId = "#message_bbcodes";
                break;
            case "/message/view":
                textareaId = "#message_reply_message";
                bbcodeBarId = "#message_bbcodes";
                break;
            case "/player_memo/load_memo_content":
                textareaId = "#memo_text_area";
                bbcodeBarId = "#memo_edit";
                break;
        }

        $('<a title="Verteidigungsformular" href="#" class="dio_bbcode_option def_form" name="def_form"></a>').appendTo(bbcodeBarId + ' .bb_button_wrapper');

        $('.def_form_button').css({
            cursor: 'pointer',
            marginTop: '3px'
        });

        $(bbcodeBarId + ' .dio_bbcode_option').css({
            background: 'url("https://www.tuto-de-david1327.com/medias/images/bbcodebarid.png")', // https://s14.directupload.net/images/140126/lt3hyb8j.png
            display: 'block',
            float: 'left',
            width: '22px',
            height: '23px',
            margin: '0 3px 0 0',
            position: 'relative'
        });
        $(bbcodeBarId + ' .def_form').css({
            backgroundPosition: '-89px 0px'
        });
        var imgArray = {
            wall: 'https://www.tuto-de-david1327.com/medias/images/40px-remparts.png', // 'https://gpall.innogamescdn.com/images/game/main/wall.png',
            tower: 'https://www.tuto-de-david1327.com/medias/images/40px-tour.png', // 'https://gpall.innogamescdn.com/images/game/main/tower.png',
            hide: 'https://www.tuto-de-david1327.com/medias/images/40px-grotte.png', // 'https://gpall.innogamescdn.com/images/game/main/hide.png'

            spy: 'https://www.tuto-de-david1327.com/medias/images/40px-spy.png', // 'https://s7.directupload.net/images/140114/yr993xwc.png',
            pop: 'https://www.tuto-de-david1327.com/medias/images/40px-pop.png', // 'https://s7.directupload.net/images/140114/4d6xktxm.png',

            rev1: 'https://www.tuto-de-david1327.com/medias/images/40px-rev1.png', // 'https://s7.directupload.net/images/140115/9cv6otiu.png',
            rev0: 'https://www.tuto-de-david1327.com/medias/images/40px-rev0.png', // 'https://s7.directupload.net/images/140115/aue4rg6i.png',
            eo1: 'https://www.tuto-de-david1327.com/medias/images/40px-eo1.png', // 'https://s1.directupload.net/images/140115/fkzlipyh.png',
            eo0: 'https://www.tuto-de-david1327.com/medias/images/40px-eo0.png', // 'https://s1.directupload.net/images/140115/hs2kg59c.png',
            att: 'https://www.tuto-de-david1327.com/medias/images/40px-att.png', // 'https://s1.directupload.net/images/140115/3t6uy4te.png',
            sup: 'https://www.tuto-de-david1327.com/medias/images/40px-sup.png', // 'https://s7.directupload.net/images/140115/ty6szerx.png',

            zeus: 'https://www.tuto-de-david1327.com/medias/images/40px-zeus.png', // 'https://s1.directupload.net/images/140114/cdxecrpu.png',
            hera: 'https://www.tuto-de-david1327.com/medias/images/40px-hera.png', // 'https://s1.directupload.net/images/140114/mve54v2o.png',
            athena: 'https://www.tuto-de-david1327.com/medias/images/40px-athena.png', // 'https://s14.directupload.net/images/140114/kyqyedhe.png',
            poseidon: 'https://www.tuto-de-david1327.com/medias/images/40px-poseidon.png', // 'https://s7.directupload.net/images/140114/tusr9oyi.png',
            hades: 'https://www.tuto-de-david1327.com/medias/images/40px-hades.png', // 'https://s7.directupload.net/images/140114/huins2gn.png',
            artemis: 'https://www.tuto-de-david1327.com/medias/images/40px-artemis.png', // 'https://s7.directupload.net/images/140114/kghjhko8.png',
            nogod: 'https://www.tuto-de-david1327.com/medias/images/40px-nogod.png', // 'https://s1.directupload.net/images/140114/e7vmvfap.png',

            captain: 'https://www.tuto-de-david1327.com/medias/images/40px-captain.png', // 'https://s14.directupload.net/images/140114/88gg75rc.png',
            commander: 'https://www.tuto-de-david1327.com/medias/images/40px-commander.png', // 'https://s14.directupload.net/images/140114/slbst52o.png',
            priest: 'https://www.tuto-de-david1327.com/medias/images/40px-priest.png', // 'https://s1.directupload.net/images/140114/glptekkx.png',

            phalanx: 'https://www.tuto-de-david1327.com/medias/images/40px-phalange.png', // 'https://s7.directupload.net/images/140114/e97wby6z.png',
            ram: 'https://www.tuto-de-david1327.com/medias/images/40px-belier.png', // 'https://s7.directupload.net/images/140114/s854ds3w.png',

            militia: 'https://www.tuto-de-david1327.com/medias/images/40px-milice.png', // 'https://wiki.en.grepolis.com/images/9/9b/Militia_40x40.png',
            sword: 'https://www.tuto-de-david1327.com/medias/images/combattant-a-l-epee-1.png', // 'https://wiki.en.grepolis.com/images/9/9c/Sword_40x40.png',
            slinger: 'https://www.tuto-de-david1327.com/medias/images/frondeur-1.png', // 'https://wiki.en.grepolis.com/images/d/dc/Slinger_40x40.png',
            archer: 'https://www.tuto-de-david1327.com/medias/images/archer-1.png', // 'https://wiki.en.grepolis.com/images/1/1a/Archer_40x40.png',
            hoplite: 'https://www.tuto-de-david1327.com/medias/images/hoplite-1.png', // 'https://wiki.en.grepolis.com/images/b/bd/Hoplite_40x40.png',
            rider: 'https://www.tuto-de-david1327.com/medias/images/cavalier-1.png', // 'https://wiki.en.grepolis.com/images/e/e9/Rider_40x40.png',
            chariot: 'https://www.tuto-de-david1327.com/medias/images/char-1.png', // 'https://wiki.en.grepolis.com/images/b/b8/Chariot_40x40.png',
            catapult: 'https://www.tuto-de-david1327.com/medias/images/catapulte-1.png', // 'https://wiki.en.grepolis.com/images/f/f0/Catapult_40x40.png',
            godsent: 'https://www.tuto-de-david1327.com/medias/images/40px-ed.png', // 'https://wiki.de.grepolis.com/images/6/6e/Grepolis_Wiki_225.png',

            def_sum: 'https://www.tuto-de-david1327.com/medias/images/40px-def-sum.png', // 'https://s14.directupload.net/images/140127/6cxnis9r.png',

            minotaur: 'https://www.tuto-de-david1327.com/medias/images/40px-minotaure.jpg', // 'https://wiki.de.grepolis.com/images/7/70/Minotaur_40x40.png',
            manticore: 'https://www.tuto-de-david1327.com/medias/images/40px-manticore.jpg', // 'https://wiki.de.grepolis.com/images/5/5e/Manticore_40x40.png',
            zyclop: 'https://www.tuto-de-david1327.com/medias/images/40px-cyclope.jpg', // 'https://wiki.de.grepolis.com/images/6/66/Zyklop_40x40.png',
            sea_monster: 'https://www.tuto-de-david1327.com/medias/images/40px-hydre.jpg', // 'https://wiki.de.grepolis.com/images/7/70/Sea_monster_40x40.png',
            harpy: 'https://www.tuto-de-david1327.com/medias/images/40px-harpie.jpg', // 'https://wiki.de.grepolis.com/images/8/80/Harpy_40x40.png',
            medusa: 'https://www.tuto-de-david1327.com/medias/images/40px-meduse.jpg', // 'https://wiki.de.grepolis.com/images/d/db/Medusa_40x40.png',
            centaur: 'https://www.tuto-de-david1327.com/medias/images/40px-centaure.jpg', // 'https://wiki.de.grepolis.com/images/5/53/Centaur_40x40.png',
            pegasus: 'https://www.tuto-de-david1327.com/medias/images/40px-pegase.jpg', // 'https://wiki.de.grepolis.com/images/5/54/Pegasus_40x40.png',
            cerberus: 'https://www.tuto-de-david1327.com/medias/images/40px-cerbere.jpg', // 'https://wiki.de.grepolis.com/images/6/67/Zerberus_40x40.png',
            fury: 'https://www.tuto-de-david1327.com/medias/images/40px-erinye.jpg', // 'https://wiki.de.grepolis.com/images/6/67/Erinys_40x40.png',
            griffin: 'https://www.tuto-de-david1327.com/medias/images/40px-griffon.jpg', // 'https://wiki.de.grepolis.com/images/d/d1/Unit_greif.png',
            calydonian_boar: 'https://www.tuto-de-david1327.com/medias/images/40px-sc.jpg', // 'https://wiki.de.grepolis.com/images/9/93/Unit_eber.png',

            big_transporter: 'https://www.tuto-de-david1327.com/medias/images/40px-bt.png', // 'https://wiki.en.grepolis.com/images/0/04/Big_transporter_40x40.png',
            bireme: 'https://www.tuto-de-david1327.com/medias/images/40px-bireme.png', // 'https://wiki.en.grepolis.com/images/4/44/Bireme_40x40.png',
            attack_ship: 'https://www.tuto-de-david1327.com/medias/images/40px-bf.png', // 'https://wiki.en.grepolis.com/images/e/e6/Attack_ship_40x40.png',
            demolition_ship: 'https://www.tuto-de-david1327.com/medias/images/40px-brulot.png', // 'https://wiki.en.grepolis.com/images/e/ec/Demolition_ship_40x40.png',
            small_transporter: 'https://www.tuto-de-david1327.com/medias/images/40px-btr.png', // 'https://wiki.en.grepolis.com/images/8/85/Small_transporter_40x40.png',
            trireme: 'https://www.tuto-de-david1327.com/medias/images/40px-triere.png', // 'https://wiki.en.grepolis.com/images/a/ad/Trireme_40x40.png',
            colonize_ship: 'https://www.tuto-de-david1327.com/medias/images/40px-bc.png', // 'https://wiki.en.grepolis.com/images/d/d1/Colonize_ship_40x40.png',

            move_icon: 'https://gpall.innogamescdn.com/images/game/unit_overview/', // '?',

            bordure: 'https://www.tuto-de-david1327.com/medias/images/bordure-david1327.png' // 'https://s1.directupload.net/images/140126/8y6pmetk.png'
        };

        $('<div class="bb_def_chooser">' +
          '<div class="bbcode_box middle_center">' +
          '<div class="bbcode_box top_left"></div><div class="bbcode_box top_right"></div>' +
          '<div class="bbcode_box top_center"></div><div class="bbcode_box bottom_center"></div>' +
          '<div class="bbcode_box bottom_right"></div><div class="bbcode_box bottom_left"></div>' +
          '<div class="bbcode_box middle_left"></div><div class="bbcode_box middle_right"></div>' +
          '<div class="bbcode_box content clearfix" style="padding:5px">' +
          '<div id="f_uni" class="checkbox_new checked"><div class="cbx_icon"></div><div class="cbx_caption">' + getText("labels", "det") + '</div></div><br><br>' +
          '<div id="f_prm" class="checkbox_new checked"><div class="cbx_icon"></div><div class="cbx_caption">' + getText("labels", "prm") + '</div></div><br><br>' +
          '<div id="f_sil" class="checkbox_new checked"><div class="cbx_icon"></div><div class="cbx_caption">' + getText("labels", "sil") + '</div></div><br><br>' +
          /*'<div id="f_mov" class="checkbox_new checked"><div class="cbx_icon"></div><div class="cbx_caption">' + getText("labels", "mov") + '</div></div><br><br>' +*/
          '<div><a class="button" id="dio_insert" href="#"><span class="left"><span class="right"><span class="middle"><small>' + getText("buttons", "ins") + '</small></span></span></span><span></span></a></div>' +
          '</div></div></div>').appendTo(bbcodeBarId + ' .bb_button_wrapper');

        $('.bb_def_chooser').css({
            display: 'none',
            top: '38px',
            left: '510px',
            position: 'absolute',
            width: '190px',
            zIndex: 10000
        });

        $(bbcodeBarId + " .bb_def_chooser .checkbox_new").click(function () {
            $(this).toggleClass("checked");
        });

        $(bbcodeBarId + ' .def_form').toggleClick(function () {
            $(this).parent().find(".bb_def_chooser").get(0).style.display = "block";
        }, function () {
            $(this).parent().find(".bb_def_chooser").get(0).style.display = "none";
        });

        $(bbcodeBarId + ' #dio_insert').click(function () {
            var textarea = $(textareaId).get(0), text = $(textarea).val(), troop_table = "", troop_img = "", troop_count = "", separator = "", move_table = "", landunit_sum = 0;

            $('.def_form').click();

            if ($('#f_uni').hasClass("checked")) {
                $('.units_land .unit, .units_naval .unit').each(function () {
                    troop_img += separator + '[img]' + imgArray[this.className.split(" ")[1]] + '[/img]';
                    troop_count += separator + '[center]' + $(this).find(".value").get(0).innerHTML + '[/center]';
                    separator = "[||]";
                });
            } else {
                $('.units_land .unit').each(function () {
                    var a = this.className.split(" ")[1], def = (GameData.units[a].def_hack + GameData.units[a].def_pierce + GameData.units[a].def_distance) / (3 * GameData.units[a].population);
                    if (def > 10) {
                        landunit_sum += parseInt($(this).find(".value").get(0).innerHTML, 10) * GameData.units[a].population * ((def > 20) ? 2 : 1);
                    }
                });
                landunit_sum = (landunit_sum > 10000) ? ((Math.round(landunit_sum / 100)) / 10) + "k" : landunit_sum;

                troop_img += '[img]' + imgArray.def_sum + '[/img]';
                troop_count += '[center]' + landunit_sum + '[/center]';
                separator = "[||]";
                $('.units_naval .unit').each(function () {
                    troop_img += separator + '[img]' + imgArray[this.className.split(" ")[1]] + '[/img]';
                    troop_count += separator + '[center]' + $(this).find(".value").get(0).innerHTML + '[/center]';
                });
            }
            if (troop_img !== "") {
                troop_table = "\n[table][**]" + troop_img + "[/**][**]" + troop_count + "[/**][/table]\n";
            }

            var str = '[img]' + imgArray.bordure + '[/img]' +
                '\n\n[color=#006B00][size=12][u][b]' + getText("labels", "ttl") + ' ([url="https://www.tuto-de-david1327.com/en/pages/info/en-dio-tools-david1327.html"]Â©DIO-Tools-david1327[/url])[/b][/u][/size][/color]\n\n' +
                //'[table][**][img]'+ imgArray.sup +'[/img][||]'+
                '[size=12][town]' + ITowns.getTown(Game.townId).getId() + '[/town] ([player]' + Game.player_name + '[/player])[/size]' +
                //'[||][img]'+ imgArray['rev' + (ITowns.getTown(Game.townId).hasConqueror()?1:0)] +'[/img][/**][/table]'+
                '\n\n[i][b]' + getText("labels", "inf") + '[/b][/i]' + troop_table +
                '[table][*]' +
                '[img]' + imgArray.wall + '[/img][|]\n' +
                '[img]' + imgArray.tower + '[/img][|]\n' +
                '[img]' + imgArray.phalanx + '[/img][|]\n' +
                '[img]' + imgArray.ram + '[/img][|]\n' +
                ($('#f_prm').hasClass("checked") ? '[img]' + imgArray.commander + '[/img][|]\n' : ' ') +
                ($('#f_prm').hasClass("checked") ? '[img]' + imgArray.captain + '[/img][|]\n' : ' ') +
                ($('#f_prm').hasClass("checked") ? '[img]' + imgArray.priest + '[/img][|]\n' : ' ') +
                ($('#f_sil').hasClass("checked") ? '[center][img]' + imgArray.spy + '[/img][/center][|]\n' : ' ') +
                '[img]' + imgArray.pop + '[/img][|]\n' +
                '[img]' + imgArray[(ITowns.getTown(Game.townId).god() || "nogod")] + '[/img][/*]\n' +
                '[**][center]' + ITowns.getTown(Game.townId).buildings().getBuildingLevel("wall") + '[/center][||]' +
                '[center]' + ITowns.getTown(Game.townId).buildings().getBuildingLevel("tower") + '[/center][||]' +
                '[center]' + (ITowns.getTown(Game.townId).researches().attributes.phalanx ? '+' : '-') + '[/center][||]' +
                '[center]' + (ITowns.getTown(Game.townId).researches().attributes.ram ? '+' : '-') + '[/center][||]' +
                ($('#f_prm').hasClass("checked") ? '[center]' + ((Game.premium_features.commander >= Timestamp.now()) ? '+' : '-') + '[/center][||]' : ' ') +
                ($('#f_prm').hasClass("checked") ? '[center]' + ((Game.premium_features.captain >= Timestamp.now()) ? '+' : '-') + '[/center][||]' : ' ') +
                ($('#f_prm').hasClass("checked") ? '[center]' + ((Game.premium_features.priest >= Timestamp.now()) ? '+' : '-') + '[/center][||]' : ' ') +
                ($('#f_sil').hasClass("checked") ? '[center]' + Math.round(ITowns.getTown(Game.townId).getEspionageStorage() / 1000) + 'k[/center][||]' : ' ') +
                '[center]' + ITowns.getTown(Game.townId).getAvailablePopulation() + '[/center][||]' +
                '[center]' + $('.gods_favor_amount').get(0).innerHTML + '[/center]' +
                '[/**][/table]';

            var bb_count_str = parseInt(str.match(/\[/g).length, 10), bb_count_move = 0;

            var i = 0;
            /*if ($('#f_mov').hasClass("checked")) {
                move_table += '\n[i][b]' + getText("labels", "mov") + '[/b][/i]\n[table]';

                $('#toolbar_activity_commands').mouseover();

                $('#toolbar_activity_commands_list .content .command').each(function () {
                    var cl = $(this).children()[0].className.split(" ");
                    if ((cl[cl.length - 1] === "returning" || cl[cl.length - 1] === "revolt_arising" || cl[cl.length - 1] === "revolt_running") && ((bb_count_str + bb_count_move) < 480)) {
                        move_table += (i % 1) ? "" : "[**]";
                        i++;
                        move_table += "[img]" + imgArray.move_icon + cl[2] + ".png[/img][||]";
                        move_table += getArrivalTime($(this).children()[1].innerHTML) + (Game.market_id === "de" ? " Uhr[||]" : " [||]");
                        move_table += "[town]" + JSON.parse(atob($(this).children()[2].firstChild.href.split("#")[1])).id + "[/town]";
                        move_table += (i % 1) ? "[||]" : "[/**]";
                    }
                    bb_count_move = parseInt(move_table.match(/\[/g).length, 10);
                });
                if ((bb_count_str + bb_count_move) > 480) {
                    move_table += '[**]...[/**]';
                }

                $('#toolbar_activity_commands').mouseout();

                //console.log((bb_count_str + bb_count_move));
                move_table += (i % 1) ? "[/**]" : "";
                move_table += "[*][|][color=#800000][size=6][i] (" + getText("labels", "dev") + ": Â±1s)[/i][/size][/color][/*][/table]\n";
            }*/

            str += move_table + '[img]' + imgArray.bordure + '[/img]';


            $(textarea).val(text.substring(0, $(textarea).get(0).selectionStart) + str + text.substring($(textarea).get(0).selectionEnd));
        });
    }

    function getArrivalTime(duration_time) {
        /*
         var server_time = new Date((Timestamp.server() + 7200) * 1000);

         duration_time = duration_time.split(":");

         s = server_time.getUTCSeconds() + parseInt(duration_time[2], 10);
         m = server_time.getUTCMinutes() + parseInt(duration_time[1], 10) + ((s>=60)? 1 : 0);
         h = server_time.getUTCHours() + parseInt(duration_time[0], 10) + ((m>=60)? 1 : 0);
         */

        var server_time = $('.server_time_area').get(0).innerHTML.split(" ")[0].split(":"), arrival_time, s, m, h;
        duration_time = duration_time.split(":");

        s = parseInt(server_time[2], 10) + parseInt(duration_time[2], 10);
        m = parseInt(server_time[1], 10) + parseInt(duration_time[1], 10) + ((s >= 60) ? 1 : 0);
        h = parseInt(server_time[0], 10) + parseInt(duration_time[0], 10) + ((m >= 60) ? 1 : 0);

        s = s % 60;
        m = m % 60;
        h = h % 24;

        s = ((s < 10) ? "0" : "") + s;
        m = ((m < 10) ? "0" : "") + m;
        h = ((h < 10) ? "0" : "") + h;

        arrival_time = h + ":" + m + ":" + s;

        return arrival_time;
    }


    /*******************************************************************************************************************************
     * Smiley box
     * ----------------------------------------------------------------------------------------------------------------------------
     * | â Display of a smiley selection box for text input fields (forum, messages, notes):
     * | â Used smileys: http://www.greensmilies.com/smilie-album/
     * | + Own Grepolis smileys
     * ----------------------------------------------------------------------------------------------------------------------------
     *******************************************************************************************************************************/

    var smileyArray = {};

    var SmileyBox = {
        loading_error: false, isHalloween: false, isXmas: false, isForum: $(".editor_textbox_container").get(0), isEaster: false, isLove: false,

        activate: function () {
            $('<style id="dio_smiley">' +
              '.smiley_button { cursor:pointer; margin:3px 2px 2px 2px; } ' +

              '.smiley_box.game { z-index:5000; position:absolute; top:27px; left:410px; min-width:350px; display:none; } ' +

              // Smiley categories
              '.smiley_box .box_header { display: table; width: 100%; text-align:center; } ' +
              '.smiley_box .group { display:table-cell; color: #0c450c; cursor: pointer; font-weight:bold; padding: 0px 2px 0px 2px; } ' +
              '.smiley_box .group.active { color: #089421; text-decoration:underline;} ' +
              '.smiley_box .group:hover { color: #14999E; } ' + // #11AD6C

              // Special smiley categories
              '.smiley_box .halloween { color: #E25E00; } ' +
              '.smiley_box .xmas { color: darkred; } ' +

              '.smiley_box hr { margin:3px 0px 0px 0px; color:#086b18; border:1px solid; } ' +

              // Smilies
              '.smiley_box .box_content { overflow-y: auto !important; max-height: 120px; } ' +
              '.smiley_box .box_content .smiley { border: 1px solid rgba(0,0,0,0); border-radius: 5px;} ' +
              '.smiley_box .box_content .smiley:hover { background: rgba(8, 148, 77, 0.2); border: 1px solid rgba(0, 128, 0, 0.5); } ' +

              // Scrollbar Style: Chrome, opera, safari
              '.smiley_box ::-webkit-scrollbar { width: 13px; } ' +
              '.smiley_box ::-webkit-scrollbar-track { background-color: rgba(130, 186, 135, 0.5); border-top-right-radius: 4px; border-bottom-right-radius: 4px; } ' +
              '.smiley_box ::-webkit-scrollbar-thumb { background-color: rgba(87, 121, 45, 0.5); border-radius: 3px; } ' +
              '.smiley_box ::-webkit-scrollbar-thumb:hover { background-color: rgba(87, 121, 45, 0.8); } ' +

              // Smiley page link
              '.smiley_box .box_footer { text-align:center; margin-top:4px; } ' +
              '.smiley_box a:link, .smiley_box a:visited { color: #086b18; font-size: 0.7em; } ' +
              '.smiley_box a:hover { color: #14999E; } ' +

              // TODO Forum ...
              '.smiley_box.forum .box_header_left { float:left; } ' +
              //'.smiley_box.forum .group { padding-right: 10px; } '+
              '.smiley_box.forum .box_header_right { text-align:right; margin-top:2px; } ' +

              '.smiley_box.forum { max-height:90px; margin-left:5px; width:99%; min-height:10px; } ' +
              '.smiley_box.forum .box_content { overflow:overlay; min-height:70px; margin-bottom:10px; } ' +

              '.smiley_box.forum a:link, .smiley_box.forum a:visited { font-size: 1em; } ' +

              '</style>').appendTo('head');


            // Smiley categories
            smileyArray.button = ["rollsmiliey", "smile"];

            smileyArray.standard = [
                "smilenew", "lol", "neutral-new", "afraid", "freddus-pacman", "auslachen2", "kolobok-sanduhr", "bussi2", "winken4", "flucht2", "panik4", "ins-auge-stechen",
                "seb-zunge", "fluch4-GREEN", "baby-junge2", "blush-reloaded6", "frown", "verlegen", "blush-pfeif", "stevieh-rolleyes", "daumendreh2", "baby-taptap",
                "sadnew", "hust", "confusednew", "idea2", "irre", "irre4", "sleep", "candle", "nicken", "no-sad", "thumbs-up-new", "kciuki", "thumbs-down-new",
                "bravo2", "oh-no2", "kaffee2", "drunk", "saufen", "freu-dance", "hecheln", "headstand", "rollsmiliey", "eazy-cool01", "motz", "cuinlove", "biggrin"
            ];
            smileyArray.nature = [
                "dinosaurier07", "flu-super-gau", "ben-cat", "schwein", "hundeleine01", "blume", "ben-sharky", "ben-cow", "charly-bissig", "gehirnschnecke-confused", "mttao-fische", "mttao-angler",
                "insel", "fliegeschnappen", "plapperhase", "ben-dumbo", "twitter", "elefant", "schildkroete", "elektroschocker", "spiderschwein", "oma-sessel-katze", "fred-elefant",
                "palmoel", "stevieh-teddy", "fips-aufsmaul", "marienkaefer", "mrkaktus", "kleeblatt2", "fred-blumenstauss", "hurra-fruehling1-lila", "fred-rasenmaeher", "fred-blumenbeet"

            ];
            smileyArray.grepolis = [
                "grepolis", "mttao-wassermann", "i-lovo-grepolis", "silvester-cuinlove", "mttao-schuetze", "kleeblatt2", "wallbash", /* "glaskugel4", */ "musketiere-fechtend", "palka", /* "krone-hoch",*/
                "lol-1", "mttao-waage2", "steckenpferd", /* "kinggrin-anbeten2", /* Grepo Love */ "skullhaufen", "pferdehaufen", "pirat5", "seb-cowboy", "gw-ranger001",
                "barbar", "datz", "waffe01", "sarazene-bogen", "waffe02", "waffe14", "hoplit-sword1", "pfeildurchkopf02", "saladin", "hoplit-sword3"
            ];
            smileyArray.people = [
                "greenistan", "mttao-usa", "schal-usa", "mttao-grossbritannien", "seb-hut5", "opa-boese2", "star-wars-yoda1-gruen", "hexefliegend", "snob", "seb-detektiv-ani", "devil", "segen", "borg", "hexe3b",
                "eazy-polizei", "stars-elvis", "mttao-chefkoch", "nikolaus", "pirate3-biggrin", "batman-skeptisch", "tubbie1", "tubbie2", "tubbie3", "kosmita", "tubbie4"
            ];
            smileyArray.Party = [
                "torte1", "torte3", "bier", "party", "party2", "fans", "band", "klokotzen", "laola", "torte3", "prost", "rave", "mcdonalds", "margarita",
                "geschenk", "sauf", "el", "trommler", "ozboss-gitarre2", "kaffee", "kaffee3", "caipirinha", "whiskey", "drunk", "fressen",
                "popcorn-essen", "saufen", "energydrink1", "leckerer", "prost2", "birthday"
            ];
            smileyArray.other = [
                "steinwerfen", "herzen02", "scream-if-you-can", "kolobok", "headbash", "liebeskummer", "bussi", "brautpaar-reis", "grab-schaufler2", "boxen2", "aufsmaul",
                "mttao-kehren", "sm", "weckruf", "klugscheisser2", "karte2-rot", "dagegen", "party", "dafuer", "outofthebox", "pokal-gold", "koepfler", "transformer", "eazy-senseo1"
            ];

            // TODO: HolidayChecker benutzen!
            SmileyBox.checkHolidaySeason();

            if (SmileyBox.isHalloween) {
                smileyArray.halloween = [
                    "zombies-alien", "zombies-lol", "zombies-rolleyes", "zombie01", "zombies-smile", "zombie02", "zombies-skeptisch", "zombies-eek", "zombies-frown",
                    "geistani", "scream-if-you-can", "pfeildurchkopf01", "grab-schaufler", "kuerbisleuchten", "mummy3",
                    "kuerbishaufen", "halloweenskulljongleur", "fledermausvampir", "frankenstein-lol", "halloween-confused", "zombies-razz",
                    "halloweenstars-freddykrueger", "zombies-cool", "geist2", "fledermaus2", "halloweenstars-dracula", "batman", "halloweenstars-lastsummer"
                ];
            }
            if (SmileyBox.isXmas) {
                smileyArray.xmas = [
                    "santagrin", "xmas1-down", "xmas1-thumbs1", "xmas2-lol", "xmas1-frown", "xmas1-irre", "xmas1-razz", "xmas4-kaffee2", "xmas4-hurra2", "xmas4-aufsmaul",
                    "schneeball", "schneeballwerfen", "xmas4-advent4", "nikolaus", "weihnachtsmann-junge", "schneewerfen-wald", "weihnachtsmann-nordpol", "xmas-kilroy-kamin",
                    "xmas4-laola", "xmas3-smile", "xmas4-paketliebe", "3hlkoenige", "santa", "weihnachtsgeschenk2", "fred-weihnachten-ostern", "xmas4-wallbash", "xmas4-liebe", "xmas4-skullhaufen"
                    //"dafuer", "outofthebox", "pokal_gold", "koepfler", "transformer"
                ];
            }
            if (SmileyBox.isEaster) {
                smileyArray.easter = [
                    "eier-bemalen-blau-hase-braun", "osterei-hase05", "osterei-bunt", "ostern-hurra2", "osterhasensmilie", "ostern-thumbs1", "ostern-nosmile", "ostern-lol",
                    "ostern-irre", "ostern-frown", "ostern-down", "ostern-cuinlove", "ostern-confused", "ostern-blush", "ostern-biggrin"
                ];
            }
            if (SmileyBox.isLove) {
                smileyArray.love = [
                    "b-love2", "brautpaar-kinder", "brautpaar-reis", "cuinlove", "fips-herzen01", "heart", "herzen01", "herzen02", "herzen06", "kiss", "klk-tee", "liebesflagge",
                    "love", "lovelove-light", "rose", "send-out-love", "teeglas-fruechtetee", "unknownauthor-knutsch", "valentinstag-biggrin", "valentinstag-confused",
                    "valentinstag-down", "valentinstag-irre", "valentinstag-lol", "valentinstag-thumbs1", "wolke7"
                ];
            }

            //smileyArray.other = smileyArray.halloween.slice();

            // Forum: Extra smiley
            if (SmileyBox.isForum) {
                smileyArray.grepolis.push("i/ckajscggscw4s2u60"); // Pacman
                smileyArray.grepolis.push("i/cowqyl57t5o255zli"); // Bugpolis
                smileyArray.grepolis.push("i/cowquq2foog1qrbee"); // Inno
            }

            SmileyBox.loadSmileys();
        },
        deactivate: function () {
            $('#dio_smiley').remove();
        },
        checkHolidaySeason: function () {
            // TODO: HolidaySpecial-Klasse stattdessen benutzen
            var daystamp = 1000 * 60 * 60 * 24, today = new Date((new Date()) % (daystamp * (365 + 1 / 4))), // without year

                // Halloween-Smileys ->20 days
                halloween_start = daystamp * 315, // 23. Oktober
                halloween_end = daystamp * 315, // 12. November
                // Xmas-Smileys -> 28 days
                xmas_start = daystamp * 334, // 1. Dezember
                xmas_end = daystamp * 361, // 28. Dezember
                // Easter-Smileys -> 23 days
                easter_start = daystamp * 88, // 30. march (88)
                easter_end = daystamp * 110, // 21. april (110)
                // Valentine's Day-Smileys -> 11 days
                love_start = daystamp * 37, // 9. february (37)
                love_end = daystamp * 50; // 20. february (50)

            SmileyBox.isHalloween = (today >= halloween_start) ? (today <= halloween_end) : false;

            SmileyBox.isXmas = (today >= xmas_start) ? (today <= xmas_end) : false;

            SmileyBox.isEaster = (today >= easter_start) ? (today <= easter_end) : false;

            SmileyBox.isLove = (today >= love_start) ? (today <= love_end) : false;
        },
        // preload images
        loadSmileys: function () {
            // Replace german sign smilies
            if (MID == "de") {
                smileyArray.standard[-1] = "land-germany";
                smileyArray.standard[-2] = "land-germany2";
                smileyArray.standard[-3] = "land-germany3";
                smileyArray.standard[-4] = "land-germany-kings";
                smileyArray.people[2] = "mttao-deutschland";
                smileyArray.people[3] = "schal-deutschland";
                smileyArray.other[-1] = "dagegen2";
                smileyArray.other[-2] = "dafuer2";
            }
            if (MID == "fr") {
                smileyArray.people[2] = "mttao-frankreich";
                smileyArray.people[3] = "schal-frankreich";
                smileyArray.standard[-1] = "land-france";
                smileyArray.standard[-2] = "land-france2";
                smileyArray.standard[-3] = "land-france3";
            }
            if (MID == "it") {
                smileyArray.people[2] = "mttao-italien";
                smileyArray.people[3] = "schal-italien";
                smileyArray.standard[-1] = "land-italy";
                smileyArray.standard[-2] = "land-italy2";
                smileyArray.standard[-3] = "land-italy3";
            }
            if (MID == "ro") {
                smileyArray.people[3] = "mttao-rumaenien";
                smileyArray.standard[-1] = "land-romania";
                smileyArray.standard[-2] = "land-romania2";
                smileyArray.standard[-3] = "land-romania3";
            }
            if (MID == "br") {
                smileyArray.people[2] = "mttao-portugal";
                smileyArray.people[3] = "schal-portugal";
                smileyArray.standard[-1] = "land-portugal";
                smileyArray.standard[-2] = "land-portugal2";
                smileyArray.standard[-3] = "land-portugal3";
            }
            if (MID == "pl") {
                smileyArray.people[3] = "mttao-polen";
                smileyArray.standard[-1] = "land-poland";
                smileyArray.standard[-2] = "land-poland2";
                smileyArray.standard[-3] = "land-poland3";
            }
            if (MID == "es") {
                smileyArray.people[2] = "mttao-spanien";
                smileyArray.people[3] = "schal-spanien";
                smileyArray.standard[-1] = "land-spain";
                smileyArray.standard[-2] = "land-spain2";
                smileyArray.standard[-3] = "land-spain3";
            }
            if (MID == "sk") {
                smileyArray.people[2] = "mttao-slowakei";
                smileyArray.people[3] = "schal-slowakei";
            }

            for (var e in smileyArray) {
                if (smileyArray.hasOwnProperty(e)) {
                    for (var f in smileyArray[e]) {
                        if (smileyArray[e].hasOwnProperty(f)) {
                            var src = smileyArray[e][f];

                            smileyArray[e][f] = new Image();
                            smileyArray[e][f].className = "smiley";

                            if (src.substring(0, 2) == "i/") {
                                smileyArray[e][f].src = "https://www.tuto-de-david1327.com/medias/images/smiley-emoticons-" + src + ".gif";
                            } else {
                                if (SmileyBox.loading_error == false) {
                                    smileyArray[e][f].src = "https://www.tuto-de-david1327.com/medias/images/smiley-emoticons-" + src + ".gif";
                                    //console.debug("Smiley", e);
                                } else {
                                    smileyArray[e][f].src = 'https://hebergeur-images.com/up/93071f1ab65f1e82532fd4d6fd62d5a9.gif'; // 'https://s1.directupload.net/images/140128/93x3p4co.gif';
                                }
                            }
                            smileyArray[e][f].onerror = function () {
                                this.src = 'https://hebergeur-images.com/up/93071f1ab65f1e82532fd4d6fd62d5a9.gif'; // 'https://s1.directupload.net/images/140128/93x3p4co.gif';
                            };
                        }
                    }
                }
            }
        },

        // Forum smilies
        /*changeForumEditorLayout: function () {
            $('.blockrow').css({border: "none"});

            // Subject/Title
            $($('.section div label[for="title"]').parent()).css({float: "left", width: "36%", marginRight: "20px"});
            $($('.section div label[for="subject"]').parent()).css({float: "left", width: "36%", marginRight: "20px"});

            $('.section div input').eq(0).css({marginBottom: "-10px", marginTop: "10px"});
            $('#display_posticon').remove();

            // Posticons
            $('.posticons table').css({width: "50%" * marginTop: "-16px"*});
            $('.posticons').css({marginBottom: "-16px"});
            $('.posticons').insertAfter($('.section div label[for="title"]').parent());
            $('.posticons').insertAfter($('.section div label[for="subject"]').parent());
            // Posticons hint
            $('.posticons p').remove();
            // Posticons: No Icon - radio button
            $(".posticons [colspan='14']").parent().replaceWith($(".posticons [colspan='14']"));
            $(".posticons [colspan='14']").children().wrap("<nobr></nobr>");
            $(".posticons [colspan='14']").appendTo('.posticons tr:eq(0)');
            $(".posticons [colspan='4']").remove();
        },*/

        /*addForum: function () {
            $('<div class="smiley_box forum"><div>' +
              '<div class="box_header_left">' +
              '<span class="group standard active">' + getText("labels", "std") + '</span>' +
              '<span class="group grepolis">' + getText("labels", "gre") + '</span>' +
              '<span class="group nature">' + getText("labels", "nat") + '</span>' +
              '<span class="group people">' + getText("labels", "ppl") + '</span>' +
              '<span class="group other">' + getText("labels", "oth") + '</span>' +
              (SmileyBox.isHalloween ? '<span class="group halloween">' + getText("labels", "hal") + '</span>' : '') +
              (SmileyBox.isXmas ? '<span class="group xmas">' + getText("labels", "xma") + '</span>' : '') +
              '</div>' +
              '<div class="box_header_right"><a class="smiley_link" href="https://www.tuto-de-david1327.com/" target="_blank">WWW.tuto-de-david1327.COM</a></div>' +
              *'<div class="box_header_right"><a class="smiley_link" href="http://www.greensmilies.com/smilie-album/" target="_blank">WWW.GREENSMILIES.COM</a></div>' +*
              '<hr>' +
              '<div class="box_content" style="overflow: hidden;"><hr></div>' +
              '</div></div><br>').insertAfter(".texteditor");

            SmileyBox.addSmileys("standard", "");

            $('.group').click(function () {
                $('.group.active').removeClass("active");
                $(this).addClass("active");
                // Change smiley group
                SmileyBox.addSmileys(this.className.split(" ")[1], "");
            });
        },*/

        // add smiley box
        add: function (e) {
            var bbcodeBarId = "";
            switch (e) {
                case "/alliance_forum/forum":
                    bbcodeBarId = "#forum";
                    break;
                case "/message/forward":
                    bbcodeBarId = "#message_bbcodes";
                    break;
                case "/message/new":
                    bbcodeBarId = "#message_bbcodes";
                    break;
                case "/message/view":
                    bbcodeBarId = "#message_bbcodes";//setWonderIconsOnMap
                    break;
                case "/player_memo/load_memo_content":
                    bbcodeBarId = "#memo_edit"; // old notes
                    break;
                case "/frontend_bridge/fetch":
                    bbcodeBarId = ".notes_container"; // TODO: new notes
                    break;
            }
            if (($(bbcodeBarId + ' #emots_popup_7').get(0) || $(bbcodeBarId + ' #emots_popup_15').get(0)) && PID == 1538932) {
                $(bbcodeBarId + " .bb_button_wrapper").get(0).lastChild.remove();
            }
            $('<img class="smiley_button" src="https://www.tuto-de-david1327.com/medias/images/smiley-emoticons-smile.gif">').appendTo(bbcodeBarId + ' .bb_button_wrapper');

            $('<div class="smiley_box game">' +
              '<div class="bbcode_box middle_center"><div class="bbcode_box middle_right"></div><div class="bbcode_box middle_left"></div>' +
              '<div class="bbcode_box top_left"></div><div class="bbcode_box top_right"></div><div class="bbcode_box top_center"></div>' +
              '<div class="bbcode_box bottom_center"></div><div class="bbcode_box bottom_right"></div><div class="bbcode_box bottom_left"></div>' +
              '<div class="box_header">' +
              '<span class="group standard active">' + getText("labels", "std") + '</span>' +
              '<span class="group grepolis">' + getText("labels", "gre") + '</span>' +
              '<span class="group nature">' + getText("labels", "nat") + '</span>' +
              '<span class="group people">' + getText("labels", "ppl") + '</span>' +
              '<span class="group Party">' + getText("labels", "Par") + '</span>' +
              '<span class="group ' + (SmileyBox.isHalloween ? 'halloween' : (SmileyBox.isXmas ? 'xmas' : (SmileyBox.isEaster ? 'easter' : (SmileyBox.isLove ? 'love' : 'other')))) +
              '">' + getText("labels", (SmileyBox.isHalloween ? 'hal' : (SmileyBox.isXmas ? 'xma' : (SmileyBox.isEaster ? 'eas' : (SmileyBox.isLove ? 'lov' : 'oth'))))) + '</span>' +
              '</div>' +
              '<hr>' +
              '<div class="box_content"></div>' +
              '<hr>' +
              '<div class="box_footer"><a href="https://www.tuto-de-david1327.com/" target="_blank">WWW.TUTO-DE-DAVID1327.COM</a></div>' +
              /*'<div class="box_footer"><a href="http://www.greensmilies.com/smilie-album/" target="_blank">WWW.GREENSMILIES.COM</a></div>' +*/
              '</div>').appendTo(bbcodeBarId + ' .bb_button_wrapper');


            $(bbcodeBarId + ' .group').click(function () {
                $('.group.active').removeClass("active");
                $(this).addClass("active");
                // Change smiley group
                SmileyBox.addSmileys(this.className.split(" ")[1], "#" + $(this).closest('.bb_button_wrapper').parent().get(0).id);
            });

            SmileyBox.addSmileys("standard", bbcodeBarId);

            // smiley box toggle
            $(bbcodeBarId + " .smiley_button").toggleClick(
                function () {
                    this.src = smileyArray.button[0].src;
                    $(this).closest('.bb_button_wrapper').find(".smiley_box").get(0).style.display = "block";
                },
                function () {
                    this.src = smileyArray.button[1].src;
                    $(this).closest('.bb_button_wrapper').find(".smiley_box").get(0).style.display = "none";
                }
            );
        },

        // insert smileys from arrays into smiley box
        addSmileys: function (type, bbcodeBarId) {
            // reset smilies
            if ($(bbcodeBarId + " .box_content").get(0)) {
                $(bbcodeBarId + " .box_content").get(0).innerHTML = '';
            }
            // add smilies
            for (var e in smileyArray[type]) {
                if (smileyArray[type].hasOwnProperty(e)) {
                    $(smileyArray[type][e]).clone().appendTo(bbcodeBarId + " .box_content");
                    //$('<img class="smiley" src="' + smileyArray[type][e].src + '" alt="" />').appendTo(bbcodeBarId + " .box_content");
                }
            }
            $('.smiley').css({margin: '0px', padding: '2px', maxHeight: '35px', cursor: 'pointer'});

            $(bbcodeBarId + " .box_content .smiley").click(function () {
                var textarea;
                if (location.pathname.indexOf("game") >= 0) {
                    // hide smiley box
                    $(this).closest('.bb_button_wrapper').find(".smiley_button").click();
                    // find textarea
                    textarea = $(this).closest('.gpwindow_content').find("textarea").get(0);
                } else {

                    if ($('.editor_textbox_container').get(0)) {
                        textarea = $('.editor_textbox_container .cke_contents textarea').get(0);
                    } else {
                        $(this).appendTo('iframe .forum');
                    }
                }
                var text = $(textarea).val();
                $(textarea).val(text.substring(0, $(textarea).get(0).selectionStart) + "[img]" + this.src + "[/img]" + text.substring($(textarea).get(0).selectionEnd));
            });
        }
    };


    /*******************************************************************************************************************************
     * Biremes counter
     * ----------------------------------------------------------------------------------------------------------------------------
     * | â Incremental update when calling a city (experimental, especially intended for siege worlds)
     * ----------------------------------------------------------------------------------------------------------------------------
     * @deprecated
     * *****************************************************************************************************************************/

    // TODO: Altes Feature entfernen
    var BiremeCounter = {
        activate: function () {
            $(".picomap_container").prepend("<div id='available_units'><div id='bi_count'></div></div>");

            $('.picomap_overlayer').tooltip(getText("options", "bir")[0]);
            BiremeCounter.update();

            // Style
            $('<style id="dio_bireme_counter">' +
              '#available_units { background: url(https://gpall.innogamescdn.com/images/game/units/units_sprite_90x90_compressed.jpg); height:90px;' +
              'width:90px; position: relative; margin: 5px 28px 0px 28px; background-position: -270px 0px; } ' +
              '#bi_count { color:#826021; position:relative; top:28px; font-style:italic; width:79px; } ' +
              '#sea_id { background: none; font-size:25px; cursor:default; height:50px; width:50px; position:absolute; top:70px; left:157px; z-index: 30; } ' +
              '</style>').appendTo('head');

            // fs_count: color: #FFC374;position: relative;top: 30px;font-style: italic;width: 101px;text-shadow: 1px 1px 0px rgb(69, 0, 0);
            // manti: background-position: -1350px 180px;
            // manti-count: color: #ECD181;position: relative;top: 48px;font-style: italic;width: 52px;text-shadow: 2px 2px 0px rgb(0, 0, 0);
            // medusa:-1440px 182px;
            // med-count: color: #DEECA4;position: relative;top: 50px;font-style: italic;width: 55px;text-shadow: 2px 2px 0px rgb(0, 0, 0);

            // Set Sea-ID beside the bull eye
            $('#sea_id').prependTo('#ui_box');
        },
        deactivate: function () {
            $('#available_units').remove();
            $('#dio_bireme_counter').remove();
            $('#sea_id').appendTo('.picomap_container');
        },
        save: function () {
            saveValue(WID + "_biremes", JSON.stringify(biriArray));
        },
        update: function () {
            var sum = 0, e;
            if ($('#bi_count').get(0)) {
                for (e in biriArray) {
                    if (biriArray.hasOwnProperty(e)) {
                        if (!ITowns.getTown(e)) { // town is no longer in possession of user
                            delete biriArray[e];
                            BiremeCounter.save();
                        } else {
                            sum += parseInt(biriArray[e], 10);
                        }
                    }
                }

                sum = sum.toString();
                var str = "", fsize = ['1.4em', '1.2em', '1.15em', '1.1em', '1.0em'], i;

                for (i = 0; i < sum.length; i++) {
                    str += "<span style='font-size:" + fsize[i] + "'>" + sum[i] + "</span>";
                }
                $('#bi_count').get(0).innerHTML = "<b>" + str + "</b>";
            }
        },
        get: function () {
            var biremeIn = parseInt(ITowns.getTown(Game.townId).units().bireme, 10),
                biremeOut = parseInt(ITowns.getTown(Game.townId).unitsOuter().bireme, 10);
            if (isNaN(biremeIn)) biremeIn = 0;
            if (isNaN(biremeOut)) biremeOut = 0;
            if (!biriArray[Game.townId] || biriArray[Game.townId] < (biremeIn + biremeOut)) {
                biriArray[Game.townId] = biremeIn;
            }
            BiremeCounter.update();
            BiremeCounter.save();
        },
        getDocks: function () {
            var windowID = BuildingWindowFactory.getWnd().getID(),
                biremeTotal = parseInt($('#gpwnd_' + windowID + ' #unit_order_tab_bireme .unit_order_total').get(0).innerHTML, 10);

            if (!isNaN(biremeTotal)) biriArray[Game.townId] = biremeTotal;
            BiremeCounter.update();
            BiremeCounter.save();
        },
        getAgora: function () {
            var biremeTotal = parseInt(ITowns.getTown(parseInt(Game.townId, 10)).units().bireme, 10);
            if (isNaN(biremeTotal)) biremeTotal = 0;

            $('#units_beyond_list .bireme').each(function () {
                biremeTotal += parseInt(this.children[0].innerHTML, 10);
            });
            biriArray[Game.townId] = biremeTotal;
            BiremeCounter.update();
            BiremeCounter.save();
        }
    };

    /*******************************************************************************************************************************
     * Favor Popup
     * ----------------------------------------------------------------------------------------------------------------------------
     * | â Improved favor popup
     * ----------------------------------------------------------------------------------------------------------------------------
     *******************************************************************************************************************************/

    var FavorPopup = {

        godArray: {
            zeus:'zeus' ,
            athena:'athena' ,
            poseidon:'poseidon' ,
            hera:'hera' ,
            hades:'hades' ,
            artemis:'artemis' ,
        },
        godImg: {
            zeus:'background-position: 0px -228px; ' ,
            athena:'background-position: 0px 0px;  ' ,
            poseidon:'background-position: 0px -91px;  ' ,
            hera:'background-position: 0px -136px;  ' ,
            hades:'background-position: 0px -182px;  ' ,
            artemis:'background-position: 0px -45px;  ' ,
        },
        godImgMonde: {
            zeus:'background-position: 0px 0px; ' ,
            athena:'background-position: 0px -46px;  ' ,
            poseidon:'background-position: 0px -93px;  ' ,
            hera:'background-position: 0px -139px;  ' ,
            hades:'background-position: 0px -185px;  ' ,
            artemis:'background-position: 0px -278px;  ' ,
        },

        activate: function () {
            $('.gods_favor_button_area, #favor_circular_progress').bind('mouseover mouseout', function () {
                return false;
            });
            $('.gods_area').bind('mouseover', function () {
                FavorPopup.setFavorPopup();
            });
        },

        deactivate: function () {
            $('.gods_favor_button_area, #favor_circular_progress').unbind('mouseover mouseout');
            $('.gods_area').unbind('mouseover');
        },

        setFavorPopup: function () {
            var pic_row = "", fav_row = "", prod_row = "", tooltip_str;
            var FavorMonde = ""; //(WID == "fr121" ||WID == "en119" ||WID == "en117" || WID == "it71" || WID == "it70" || WID == "de106")


            for (var g in FavorPopup.godArray) {
                if (FavorPopup.godArray.hasOwnProperty(g)) {
                    if (ITowns.player_gods.attributes.temples_for_gods[g]) {
                        if (FavorMonde) {pic_row += '<td><div style="background-size: 99%; width:46px; height:46px; ' + FavorPopup.godImg[g] + '"; class="gods_container god ' + FavorPopup.godArray[g] + '";></td>';}
                        else {pic_row += '<td><div style="background-size: 99%; width:46px; height:46px; ' + FavorPopup.godImgMonde[g] + '"; class="gods_container god_mini ' + FavorPopup.godArray[g] + '";></td>';}
                        fav_row += '<td class="bold" style="color:blue">' + ITowns.player_gods.attributes[g + "_favor"] + '</td>';
                        prod_row += '<td class="bold">' + ITowns.player_gods.attributes.production_overview[g].production + '</td>';
                    }
                }
            }

            tooltip_str = $('<table><tr><td></td>' + pic_row + '</tr>' +
                            '<tr align="center"><td><img src="https://gpall.innogamescdn.com/images/game/res/favor.png"></td>' + fav_row + '</tr>' +
                            '<tr align="center"><td>+</td>' + prod_row + '</tr>' +
                            '</table>');

            $('.gods_favor_button_area, #favor_circular_progress').tooltip(tooltip_str);
        }
    };

    /*******************************************************************************************************************************
     * GUI Optimization
     * ----------------------------------------------------------------------------------------------------------------------------
     * | â Minimize daily reward-window on startup
     * | â Larger taskbar
     * | â Improved display of troops and trade activity boxes (movable with position memory on startup)
     * ----------------------------------------------------------------------------------------------------------------------------
     *******************************************************************************************************************************/

    // Minimize Daily reward window on startup

    var Reward = {
        activate: function () {
            /*
         $.Observer(GameEvents.window.open).subscribe('DIO_WINDOW', function(u,dato){});
         $.Observer(GameEvents.window.reload).subscribe('DIO_WINDOW2', function(f){});
         */
            if (MutationObserver) {
                var startup = new MutationObserver(function (mutations) {
                    mutations.forEach(function (mutation) {
                        if (mutation.addedNodes[0]) {
                            if ($('.daily_login').get(0)) { //  && !GPWindowMgr.getOpenFirst(Layout.wnd.TYPE_SHOW_ON_LOGIN).isMinimized()
                                $('.daily_login').find(".minimize").click();
                                //GPWindowMgr.getOpenFirst(Layout.wnd.TYPE_SHOW_ON_LOGIN).minimize();
                            }
                        }
                    });
                });
                startup.observe($('body').get(0), {attributes: false, childList: true, characterData: false});

                setTimeout(function () {
                    startup.disconnect();
                }, 3000);
            }
        },
        deactivate: function () {
        },
    };

    // Larger taskbar
    var Taskbar = {
        activate: function () {
            $('.minimized_windows_area').get(0).style.width = "150%";
            $('.minimized_windows_area').get(0).style.left = "-25%";
        },
        deactivate: function () {
            $('.minimized_windows_area').get(0).style.width = "100%";
            $('.minimized_windows_area').get(0).style.left = "0%";
        }
    };

    // Hide fade out buttons
    function hideNavElements() {
        if (Game.premium_features.curator <= Timestamp.now()) {
            $('.nav').each(function () {
                this.style.display = "none";
            });
        }
    }

    /*******************************************************************************************************************************
     * Activity boxes
     * ----------------------------------------------------------------------------------------------------------------------------
     * | â Show troops and trade activity boxes
     * | â Boxes are magnetic & movable (position memory)
     * ----------------------------------------------------------------------------------------------------------------------------
     *******************************************************************************************************************************/

    $('<style id="dio-Quackplusmenustylee">' +
      '.qplusmenu {display:none!important;}' +
      '.qplusdraghandle {display:none!important;}' +
      '.qplusback {display:none!important;}' +
      '</style>').appendTo('head');

    var ActivityBoxes = {
        activate: function () {
            $("#toolbar_activity_recruits_list").hover(
                function () {
                    if ($("#dio_plusmenuRecruits").length == 0) {
                        $("#toolbar_activity_recruits_list").append('<div id="dio_plusmenuRecruits" class="dio_plusmenu"><div id="dio_plusdraghandleRecruits" class="dio_plusdraghandle"></div><a class="dio_plusback"></a></div>');
                        $('#dio_plusmenuRecruits .dio_plusback').click(function () {
                            dio_plus_destroy("dio_plusmenuRecruits");
                        });
                    }
                }, function () {
                    $('#dio_plusmenuRecruits').remove();
                });
            /*$("#toolbar_activity_commands_list").hover(
				function () {
				if ($("#dio_plusmenuCommands").length == 0) {
					$("#toolbar_activity_commands_list").append('<div id="dio_plusmenuCommands" class="dio_plusmenu"><div id="dio_plusdraghandleCommands" class="dio_plusdraghandle"></div><a class="dio_plusback"></a></div>');
					$('#dio_plusmenuCommands .dio_plusback').click(function () {
						dio_plus_destroy("dio_plusmenuCommands");
					});
				}
			}, function () {
				$('#dio_plusmenuCommands').remove();
			});*/
            $("#toolbar_activity_trades_list").hover(
                function () {
                    if ($("#dio_plusmenuTrades").length == 0) {
                        $("#toolbar_activity_trades_list").append('<div id="dio_plusmenuTrades" class="dio_plusmenu"><div id="dio_plusdraghandleTrades" class="dio_plusdraghandle"></div><a class="dio_plusback"></a></div>');
                        $('#dio_plusmenuTrades .dio_plusback').click(function () {
                            dio_plus_destroy("dio_plusmenuTrades");
                        });
                    }
                }, function () {
                    $('#dio_plusmenuTrades').remove();
                });

            $('<style id="dio_plusmenustyle" type="text/css">' +
              '.displayImp {display: block !important}' +
              '.dio_plusmenu {margin:6px 22px 2px 5px;height:11px;display:block;position:relative}' +
              '.dio_plusdraghandle {width:100%;height:11px;position:absolute;background:url(https://www.tuto-de-david1327.com/medias/images/draghandle.png)}' +
              '.dio_plusback {right:-18px;margin-top:-1px;width:16px;height:12px;position:absolute;background:url(https://www.tuto-de-david1327.com/medias/images/plusback.png)}' +
              '#toolbar_activity_recruits_list {min-width: 113px;}' +
              '</style>').appendTo('head');

            $('#toolbar_activity_recruits_list').draggable({
                cursor : "move",
                handle : ".dio_plusdraghandle",
                start : function () {
                    $("#dio_plusmenuRecruitsSTYLE").remove();
                    $('#toolbar_activity_recruits_list').addClass("displayImp");
                },
                stop : function () {
                    var dio_position = $('#toolbar_activity_recruits_list').position();
                    $('<style id="dio_plusmenuRecruitsSTYLE" type="text/css">#toolbar_activity_recruits_list {left: ' + dio_position.left + 'px !important;top: ' + dio_position.top + 'px !important}</style>').appendTo('head');
                }
            });
            /*$('#toolbar_activity_commands_list').draggable({
				cursor : "move",
				handle : ".dio_plusdraghandle",
				start : function () {
					$("#dio_plusmenuCommandsSTYLE").remove();
					$('#toolbar_activity_commands_list').addClass("displayImp");
				},
				stop : function () {
					var dio_position = $('#toolbar_activity_commands_list').position();
					$('<style id="dio_plusmenuCommandsSTYLE" type="text/css">#toolbar_activity_commands_list {left: ' + dio_position.left + 'px !important;top: ' + dio_position.top + 'px !important}</style>').appendTo('head');
				}
			});*/
            $('#toolbar_activity_trades_list').draggable({
                cursor : "move",
                handle : ".dio_plusdraghandle",
                start : function () {
                    $("#dio_plusmenuTradesSTYLE").remove();
                    $('#toolbar_activity_trades_list').addClass("displayImp");
                },
                stop : function () {
                    var dio_position = $('#toolbar_activity_trades_list').position();
                    $('<style id="dio_plusmenuTradesSTYLE" type="text/css">#toolbar_activity_trades_list {left: ' + dio_position.left + 'px !important;top: ' + dio_position.top + 'px !important}</style>').appendTo('head');
                }
            });

            function dio_plus_destroy(dioJQselector) {
                /*if (dioJQselector == "dio_plusmenuCommands") {
					$('#toolbar_activity_commands_list').hide();
					$('#toolbar_activity_commands_list').on("mouseleave", function () {
						$('#toolbar_activity_commands_list').hide();
					});
					$('#toolbar_activity_recruits, #toolbar_activity_trades').on("mouseenter", function () {
						$('#toolbar_activity_commands_list').hide();
					});
				}*/
                $("#" + dioJQselector).parent().removeClass("displayImp");
                $("#" + dioJQselector + "STYLE").remove();
            }

        },
        deactivate: function () {
            $('#dio_plusmenustyle').remove();

            $('#dio_plusmenuRecruits').remove();
            $("#dio_plusmenuRecruitsSTYLE").remove();

            //$('#dio_plusmenuCommands').remove();
            //$("#dio_plusmenuCommandsSTYLE").remove();

            $('#dio_plusmenuTrades').remove();
            $('#dio_plusmenuTradesSTYLE').remove();

            $('#toolbar_activity_recruits_list').click(function () {
                dio_plus_destroy("dio_plusmenuRecruits");
            });
            $('#toolbar_activity_trades_list').click(function () {
                dio_plus_destroy("dio_plusmenuTrades");
            });

            function dio_plus_destroy(dioJQselector) {
                $("#" + dioJQselector).parent().removeClass("displayImp");
                $("#" + dioJQselector + "STYLE").remove();
            }
        },
    };

    /*******************************************************************************************************************************
     * Political Map
     *******************************************************************************************************************************/

    var PoliticalMap = {
        data: null,
        activate: function () {
            $('<div id="dio_political_map">' +
              '<div class="canvas_wrapper"></div>' +
              '<select class="zoom_select">' +
              '<option value="0.50">1 : 0.50</option>' +
              '<option value="0.75">1 : 0.75</option>' +
              '<option value="1.00" selected>1 : 1.00</option>' +
              '<option value="1.25">1 : 1.25</option>' +
              '<option value="1.50">1 : 1.50</option>' +
              '<option value="2.00">1 : 2.00</option>' +
              '<option value="3.00">1 : 3.00</option>' +
              '</select>' +
              '<div class="legend sandy-box">' +
              '<div class="corner_tl"></div>' +
              '<div class="corner_tr"></div>' +
              '<div class="corner_bl"></div>' +
              '<div class="corner_br"></div>' +
              '<div class="border_t"></div>' +
              '<div class="border_b"></div>' +
              '<div class="border_l"></div>' +
              '<div class="border_r"></div>' +
              '<div class="middle"></div>' +
              '<div class="content"><div class="item"></div></div>' +
              '</div></div>').appendTo('#ui_box');

            // Style
            $('<style id="dio_political_map_style">' +
              '#dio_political_map { width:100%; height:100%; z-index:3; background:#123d70; display:none; position:absolute; top:0; } ' +
              '#dio_political_map.active { display: block; } ' +
              '#dio_political_map .canvas_wrapper { } ' +
              '#dio_political_map canvas { position: absolute; cursor:move; top:0; left:0; } ' +
              '#dio_political_map .zoom_select { position:absolute; top:70px; left:300px; font-size: 2em; opacity:0.5; } ' +
              '#dio_political_map .zoom_select:hover { opacity:1; } ' +
              '#dio_political_map .legend { position:absolute; right:200px; top:50px; width:200px; height:auto; text-align:left; } ' +
              '#dio_political_map .legend .color_checker { width:15px; height:15px; float:left; border:1px solid rgb(100, 100, 0); margin:5px; position:relative; cursor:pointer; } ' +
              '#dio_political_map .legend .wonder_icon { float: left; margin: 4px; } ' +

              '.btn_political_map { top:56px; left:-4px; z-index:10; position:absolute; } ' +

              '.btn_political_map .ico_political_map { margin:7px 0px 0px 8px; width:17px; height:17px; background:url(https://www.tuto-de-david1327.com/medias/images/statistique.png) no-repeat 0px 0px; background-size:100%; } ' +
              // https://s14.directupload.net/images/140408/k4wikrlq.png // https://s7.directupload.net/images/140408/ahfr8227.png // https://s1.directupload.net/images/140408/pltgqlaw.png
              '.btn_political_map .ico_political_map.checked { margin-top:8px; } ' +
              '</style>').appendTo('head');

            PoliticalMap.addButton();

            var zoomSelect = $('.zoom_select');

            zoomSelect.change(function () {
                //PoliticalMap.zoomToCenter();
            });
            zoomSelect.on("change", function () {
                PoliticalMap.zoomToCenter();
            });

            ColorPicker.init();
        },
        deactivate: function () {
            $('.btn_political_map').remove();
            $('#dio_political_map_style').remove();
        },
        addButton: function () {
            var m_ZoomFactor = 1.0;
            $('<div class="btn_political_map circle_button" name="political_map"><div class="ico_political_map js-caption"></div></div>').appendTo(".bull_eye_buttons");

            var politicalMapButton = $('.btn_political_map');

            // Tooltip
            politicalMapButton.tooltip("Political Map"); // TODO: Language

            // Events
            politicalMapButton.on('mousedown', function () {
                //$('.btn_political_map, .ico_political_map').addClass("checked");
            }).on('mouseup', function () {
                //$('.btn_political_map, .ico_political_map').removeClass("checked");
            });

            $('.rb_map .option').click(function () {
                $('.btn_political_map, .ico_political_map').removeClass("checked");
                $('#dio_political_map').removeClass("active");
                $(this).addClass("checked");
            });

            politicalMapButton.click(function () {
                $('.rb_map .checked').removeClass("checked");
                $('.btn_political_map, .ico_political_map').addClass("checked");
                $('#dio_political_map').addClass("active");

                if ($('#dio_political_map').hasClass("active")) {
                    if (PoliticalMap.data == null) {
                        $('#ajax_loader').css({visibility: "visible"});
                        // Map-Daten aus DB auslesen
                        PoliticalMap.loadMapData();
                    } else {
                        //PoliticalMap.drawMap(PoliticalMap.data);
                    }
                }
            });
        },
        /**
         * LÃ¤d die Allianzen und Inseln aus der Datenbank
         * @since 3.0
         */
        loadMapData: function () {
            $.ajax({
                type: "GET",
                url: "https://diotools.de/php/map.php?world_id=" + WID + "&callback=jsonCallback",
                //dataType: 'jsonp',
                //async: false,
                //jsonpCallback: 'jsonCallback',
                //contentType: "application/json",
                success: function (response) {
                    if (response !== "") {
                        PoliticalMap.data = response;

                        var m_ZoomFactor = $('.zoom_select').get(0)[$('.zoom_select').get(0).selectedIndex].selected;

                        PoliticalMap.drawMap(PoliticalMap.data, m_ZoomFactor);
                        PoliticalMap.drawWonders(PoliticalMap.data, m_ZoomFactor);

                        $('#ajax_loader').css({visibility: "hidden"});

                        // ÃberprÃ¼fen, ob die Weltdaten geupdatet werden mÃ¼ssen
                        $.ajax({
                            type: "GET",
                            url: "https://diotools.de/php/update_db.php?world_id=" + WID
                        });
                    } else {
                        // Welt existiert noch nicht in DB
                        $.ajax({
                            type: "GET", url: "https://diotools.de/php/update_db.php?world_id=" + WID,
                            success: function () {
                                // Map-Daten aus DB auslesen, wenn die Weltdaten erfolgreich in die DB geladen wurden
                                $.ajax({
                                    type: "GET",
                                    url: "https://diotools.de/php/map.php?world_id=" + WID,
                                    success: function (response) {
                                        PoliticalMap.data = response;

                                        var m_ZoomFactor = $('.zoom_select').get(0)[$('.zoom_select').get(0).selectedIndex].selected;

                                        PoliticalMap.drawMap(PoliticalMap.data, m_ZoomFactor);
                                        PoliticalMap.drawWonders(PoliticalMap.data, m_ZoomFactor);

                                        $('#ajax_loader').css({visibility: "hidden"});
                                    }
                                });
                            }
                        });
                    }
                }
            });
        },
        /**
         * Ãndert die Zoomstufe der Karte zum Zentrum hin
         *
         * @param _zoom
         * @since 3.0
         */
        zoomToCenter: function () {
            var _zoom = $('.zoom_select').get(0)[$('.zoom_select').get(0).selectedIndex].value;

            var canvas = $('#dio_political_map canvas'),

                canvas_size = parseInt($('#dio_political_map canvas').width(), 10); // Breite und HÃ¶he sind immer gleich

            var canvas_style = $('#dio_political_map .canvas_wrapper').get(0).style;

            // Berechnung: Alter Abstand + (1000 * ZoomÃ¤nderung / 2)
            canvas_style.top = parseInt(canvas_style.top, 10) + (1000 * (canvas_size / 1000 - _zoom)) / 2 + "px";
            canvas_style.left = parseInt(canvas_style.left, 10) + (1000 * (canvas_size / 1000 - _zoom)) / 2 + "px";

            PoliticalMap.clearMap();
            PoliticalMap.drawMap(PoliticalMap.data, _zoom);
            PoliticalMap.drawWonders(PoliticalMap.data, _zoom);

        },
        /**
         * Ãndert die Zoomstufe der Karte zur Cursorposition hin
         *
         * @param _zoom
         * @param _pos
         *
         * @since 3.0
         */
        zoomToCursorPosition: function (_zoom, _pos) {

        },
        /**
         * Zeichnet die Karte in ein Canvas
         *
         * @param _islandArray {Array}
         * @param _zoom {int}
         *
         * @since 3.0
         */
        drawMap: function (_islandArray, _zoom) {

            $('<canvas class="canv_map" height="' + (1000 * _zoom) + 'px" width="' + (1000 * _zoom) + "px\"></canvas>").prependTo('.canvas_wrapper')

            // TODO: Weite und HÃ¶he vom Fenster ermitteln, Update Containment bei onResizeWindow
            $('#dio_political_map .canvas_wrapper').draggable({
                // left, top, right, bottom
                //containment: [-500 * _zoom, -300 * _zoom, 500 * _zoom, 300 * _zoom],
                distance: 10,
                grid: [100 * _zoom, 100 * _zoom],
                //limit: 500,
                cursor: 'pointer'
            });

            var ally_ranking = JSON.parse(_islandArray)['ally_ranking'];
            var island_array = JSON.parse(_islandArray)['ally_island_array'];


            var c = $('#dio_political_map .canv_map')[0].getContext('2d');

            // Grid
            c.strokeStyle = 'rgb(0,100,0)';

            for (var l = 0; l <= 10; l++) {
                // Horizontal Line
                c.moveTo(0, l * 100 * _zoom);
                c.lineTo(1000 * _zoom, l * 100 * _zoom);
                c.stroke();

                // Vertical Line
                c.moveTo(l * 100 * _zoom, 0);
                c.lineTo(l * 100 * _zoom, 1000 * _zoom);
                c.stroke();
            }

            // Center Circle
            c.beginPath();
            c.arc(500 * _zoom, 500 * _zoom, 100 * _zoom, 0, Math.PI * 2, true);
            c.fillStyle = 'rgba(0,100,0,0.2)';
            c.fill();
            c.stroke();

            // Sea numbers
            c.fillStyle = 'rgb(0,100,0)';

            for (var y = 0; y <= 10; y++) {
                for (var x = 0; x <= 10; x++) {
                    c.fillText(y + "" + x, y * 100 * _zoom + 2, x * 100 * _zoom + 10);
                }
            }

            // Alliance Colors
            var colorArray = ["#00A000", "yellow", "red", "rgb(255, 116, 0)", "cyan", "#784D00", "white", "purple", "#0078FF", "deeppink", "darkslategrey"];

            // Islands
            for (var t in island_array) {
                if (island_array.hasOwnProperty(t)) {
                    var tmp_points = 0, dom_ally = "";
                    for (var ally in island_array[t]) {
                        if (island_array[t].hasOwnProperty(ally)) {
                            if (tmp_points < island_array[t][ally] && (ally !== "X") && (ally !== "")) {
                                tmp_points = island_array[t][ally];
                                dom_ally = ally;
                            }
                        }
                    }

                    c.fillStyle = colorArray[parseInt(ally_ranking[dom_ally], 10) - 1] || "darkslategrey";
                    //c.fillRect(t.split("x")[0] * _zoom, t.split("x")[1] * _zoom, 3 * _zoom, 3 * _zoom);

                    //c.beginPath();
                    //console.info(island_array[t]);
                    //c.arc(t.split("x")[0], t.split("x")[1], 2, 0, Math.PI * 2, true);
                    //c.fillRect(t.split("x")[0] * _zoom,t.split("x")[1] * _zoom, 3 * _zoom, 3 * _zoom);
                    //c.fill();

                    // TEST HEATMAP
                    //console.debug("Blaaa", c.fillStyle);
                    if (c.fillStyle !== "#2f4f4f") {
                        var color = c.fillStyle;

                        var radgrad = c.createRadialGradient(t.split("x")[0] * _zoom + 1, t.split("x")[1] * _zoom + 1, 0, t.split("x")[0] * _zoom + 1, t.split("x")[1] * _zoom + 1, 10);
                        radgrad.addColorStop(0, PoliticalMap.convertHexToRgba(color, 0.2));
                        radgrad.addColorStop(0.6, PoliticalMap.convertHexToRgba(color, 0.2));
                        radgrad.addColorStop(1, PoliticalMap.convertHexToRgba(color, 0.0));

                        // draw shape
                        c.fillStyle = radgrad;

                        c.fillRect(t.split("x")[0] * _zoom - 10, t.split("x")[1] * _zoom - 10, 22, 22);

                        c.fillStyle = PoliticalMap.convertHexToRgba(color, 0.7);
                        c.fillRect(t.split("x")[0] * _zoom, t.split("x")[1] * _zoom, 3 * _zoom, 3 * _zoom);
                    }
                    else {
                        c.fillRect(t.split("x")[0] * _zoom, t.split("x")[1] * _zoom, 3 * _zoom, 3 * _zoom);
                    }
                }
            }



            // Legende
            var legend = $('#dio_political_map .legend .content');

            legend.get(0).innerHTML = "";

            for (var ally in ally_ranking) {
                if (ally_ranking.hasOwnProperty(ally)) {
                    //legend.append("<div class='item' style='color:"+ colorAllyArray[ally] +"'><div class='color_checker' style='background-color:"+ colorAllyArray[ally] +"'></div>...</div>");

                    if (ally_ranking[ally] > 10) {
                        legend.append("<div class='item' style='color:" + colorArray[ally_ranking[ally] - 1] + "'><div class='color_checker' style='background-color:" + colorArray[ally_ranking[ally] - 1] + "'></div>...</div>");

                        break;
                    } else {
                        legend.append("<div class='item' style='color:" + colorArray[ally_ranking[ally] - 1] + "'><div class='color_checker' style='background-color:" + colorArray[ally_ranking[ally] - 1] + "'></div>" + ally + "</div>");

                    }
                }
            }

            $('#dio_political_map .legend .color_checker').click(function (event) {
                // getting user coordinates
                var x = event.pageX - this.offsetLeft;
                var y = event.pageY - this.offsetTop;

                console.debug("Color Checker", event.pageX, this.offsetLeft);

                ColorPicker.open(x,y);
            });


            // TODO: Wenn eine Farbe ausgewÃ¤hlt wurde, soll [...]
            $(ColorPicker).on("onColorChanged", function(event, color){
                console.debug("Farbe setzen", event, color);

                $.ajax({
                    type: "POST",
                    url: "https://" + Game.world_id + ".grepolis.com/game/alliance?town_id=" + Game.townId + "&action=assign_map_color&h=" + Game.csrfToken,
                    data: {
                        "json": "{\"alliance_id\":\"217\",\"color\":"+ color +",\"player_id\":\"8512878\",\"town_id\":\"71047\",\"nl_init\":true}"
                    },
                    success: function (response) {
                        console.debug("Erfolgreich Ã¼bertragen", response);
                    }
                });
            });

        },
        convertHexToRgba: function (hex, opacity) {
            console.debug("hex", hex);
            hex = hex.replace('#', '');
            r = parseInt(hex.substring(0, 2), 16);
            g = parseInt(hex.substring(2, 4), 16);
            b = parseInt(hex.substring(4, 6), 16);

            result = 'rgba(' + r + ',' + g + ',' + b + ',' + opacity + ')';
            return result;
        },
        /**
         * Zeichnet die Weltwunder auf der Karte
         *
         * @param _islandArray {Array}
         * @param _zoom {int}
         *
         * @since 3.0
         */
        clearMap: function () {
            $('#dio_political_map .canv_map').remove();
            $('#dio_political_map .canv_ww').remove();
        },
        getAllianceColors: function () {
            $.ajax({
                type: "GET",
                url: "https://" + Game.world_id + ".grepolis.com/game/map_data?town_id=" + Game.townId + "&action=get_custom_colors&h=" + Game.csrfToken,
                dataType: 'json',
                success: function (response) {
                    // Allianzbox herausfiltern
                    var html_string = $('#alliance_box', $(response.json.list_html));

                    var flagArray = $('.flag', html_string);
                    var linkArray = $('a', html_string);

                    var allianceColorArray = [];

                    for (var i = 0; i < flagArray.length; i++) {
                        allianceColorArray[i] = {
                            "id": parseInt(linkArray[i].attributes.onclick.value.split(",")[1].split(")")[0], 10),
                            "color": flagArray[i].style.backgroundColor
                        };
                    }

                    // console.debug("ANTWORT", allianceColorArray);
                }
            });
        }
    };

    var ColorPicker = {
        open: function(pos_left, pos_top){
            $('#dio_color_picker').removeClass("hidden");
            $('#dio_color_picker').css({
                left: pos_left,
                top: pos_top
            });
        },
        close: function(){
            $('#dio_color_picker').addClass("hidden");
        },
        init: function () {
            // Style
            $('<style id="dio_color_picker_style">' +
              '#dio_color_picker { left:200px;top:300px;position:absolute;z-index:1000;} ' +
              '#dio_color_picker.hidden { display:none;} ' +
              '#dio_color_picker span.grepo_input, ' +
              '#dio_color_picker a.color_table, ' +
              '#dio_color_picker a.confirm, ' +
              '#dio_color_picker a.cancel' +
              ' { float:left; } ' +
              '</style>').appendTo('head');

            $(
                '<canvas width="600" height="440" style="left:200px !important;top:100px !important;" id="canvas_picker" onclick="console.debug(this.getContext(\'2d\').getImageData(10, 10, 1, 1).data)"></canvas>' +
                '<div id="hex">HEX: <input type="text"></input></div>' +
                '<div id="rgb">RGB: <input type="text"></input></div>'
            ).prependTo('#dio_political_map')

            $(
                '<div id="dio_color_picker" class="hidden"><table class="bb_popup" cellpadding="0" cellspacing="0"><tbody>' +
                '<tr class="bb_popup_top">' +
                '<td class="bb_popup_top_left"></td>' +
                '<td class="bb_popup_top_middle"></td>' +
                '<td class="bb_popup_top_right"></td>' +
                '</tr>' +
                '<tr>' +
                '<td class="bb_popup_middle_left"></td>' +
                '<td class="bb_popup_middle_middle">' +
                '<div class="bb_color_picker_colors">' +
                '<div style="background-color: rgb(255, 0, 0);"></div>' +
                '<div style="background-color: rgb(0, 255, 0);"></div>' +
                '<div style="background-color: rgb(0, 0, 255);"></div>' +
                '</div>' +
                '<a href="#" class="cancel"></a>' +
                '<span class="grepo_input">' +
                '<span class="left">' +
                '<span class="right">' +
                '<input class="color_string" style="width:50px;" maxlength="6" type="text">' +
                '</span>' +
                '</span>' +
                '</span>' +
                '<a href="#" class="color_table"><input type="color" id="c" tabindex=-1 class="hidden"></a>' +
                '<a href="#" class="confirm"></a>' +
                '</td>' +
                '<td class="bb_popup_middle_right"></td>' +
                '</tr>' +
                '<tr class="bb_popup_bottom">' +
                '<td class="bb_popup_bottom_left"></td>' +
                '<td class="bb_popup_bottom_middle"></td>' +
                '<td class="bb_popup_bottom_right"></td>' +
                '</tr>' +
                '</tbody></table></div>'
            ).prependTo('#dio_political_map');

            var canvas = document.getElementById('canvas_picker').getContext('2d');

            var count = 5, line = 0, width = 16, height = 12, sep = 1;

            var offset = (count - 2) * width;

            for (var i = 2, j = 0; i < count; i++, j++) {

                line = 0;

                // PinktÃ¶ne (255,0,255)
                canvas.fillStyle = "rgb(" + ((i / count * 255) | 0) + ", 0, " + ((i / count * 255) | 0) + ")";
                canvas.fillRect(i * width, line, width - sep, height - sep);

                canvas.fillStyle = "rgb(255," + ((j / (count - 1) * 255) | 0) + ", 255)";
                canvas.fillRect(i * width + offset, line, width - sep, height - sep);

                line = line + height;

                // RosatÃ¶ne (255,0,127)
                canvas.fillStyle = "rgb(" + ((i / count * 255) | 0) + ", 0, " + ((i / count * 127) | 0) + ")";
                canvas.fillRect(i * width, line, width - sep, height - sep);

                canvas.fillStyle = "rgb(255," + ((j / (count - 1) * 255) | 0) + "," + (127 + ((j / (count - 1) * 127) | 0)) + ")";
                canvas.fillRect(i * width + offset, line, width - sep, height - sep);

                line = line + height;

                // RottÃ¶ne (255,0,0)
                canvas.fillStyle = "rgb(" + ((i / count * 255) | 0) + ", 0, 0)";
                canvas.fillRect(i * width, line, width - sep, height - sep);

                canvas.fillStyle = "rgb(255," + ((j / (count - 1) * 255) | 0) + "," + ((j / (count - 1) * 255) | 0) + ")";
                canvas.fillRect(i * width + offset, line, width - sep, height - sep);

                line = line + height;

                // OrangetÃ¶ne (255, 127, 0)
                canvas.fillStyle = "rgb(" + ((i / count * 255) | 0) + ", " + ((i / count * 127) | 0) + ", 0)";
                canvas.fillRect(i * width, line, width - sep, height - sep);

                canvas.fillStyle = "rgb(255, " + (127 + ((j / (count - 1) * 127) | 0)) + "," + ((j / (count - 1) * 255) | 0) + ")";
                canvas.fillRect(i * width + offset, line, width - sep, height - sep);

                line = line + height;

                // DunkelbrauntÃ¶ne (170, 85, 0)
                canvas.fillStyle = "rgb(" + ((i / count * 170) | 0) + ", " + ((i / count * 85) | 0) + ", 0)";
                canvas.fillRect(i * width, line, width - sep, height - sep);

                canvas.fillStyle = "rgb(" + (170 + (j / (count - 1) * 85) | 0) + ", " + (85 + ((j / (count - 1) * 170) | 0)) + "," + ((j / (count - 1) * 255) | 0) + ")";
                canvas.fillRect(i * width + offset, line, width - sep, height - sep);

                line = line + height;

                // BrauntÃ¶ne (191, 127, 0)
                canvas.fillStyle = "rgb(" + ((i / count * 191) | 0) + ", " + ((i / count * 127) | 0) + ", 0)";
                canvas.fillRect(i * width, line, width - sep, height - sep);

                canvas.fillStyle = "rgb(" + (191 + (j / (count - 1) * 64) | 0) + ", " + (127 + ((j / (count - 1) * 127) | 0)) + "," + ((j / (count - 1) * 255) | 0) + ")";
                canvas.fillRect(i * width + offset, line, width - sep, height - sep);

                line = line + height;

                // GelbtÃ¶ne (255,255,0)
                canvas.fillStyle = "rgb(" + ((i / count * 255) | 0) + ", " + ((i / count * 255) | 0) + ", 0)";
                canvas.fillRect(i * width, line, width - sep, height - sep);

                canvas.fillStyle = "rgb(255, 255," + ((j / (count - 1) * 255) | 0) + ")";
                canvas.fillRect(i * width + offset, line, width - sep, height - sep);

                line = line + height;

                // GelbgrÃ¼ntÃ¶ne (127,255,0)
                canvas.fillStyle = "rgb(" + ((i / count * 127) | 0) + "," + ((i / count * 191) | 0) + ", 0)";
                canvas.fillRect(i * width, line, width - sep, height - sep);

                canvas.fillStyle = "rgb(" + (127 + (j / (count - 1) * 127) | 0) + "," + (191 + (j / (count - 1) * 64) | 0) + "," + ((j / (count - 1) * 255) | 0) + ")";
                canvas.fillRect(i * width + offset, line, width - sep, height - sep);

                line = line + height;

                // DunkelgrasgrÃ¼ntÃ¶ne (85, 170, 0)
                /*
                 canvas.fillStyle = "rgb("+ ((i/count*85)|0) +", "+ ((i/count*170)|0) +", 0)";
                 canvas.fillRect(i * width, line, width-sep, height-sep);

                 canvas.fillStyle = "rgb("+ (85 + (j/(count-1)*170)|0) +", "+ (170 + ((j/(count-1)*85)|0)) +","+ ((j/(count-1)*255)|0) +")";
                 canvas.fillRect(i * width + offset, line, width-sep, height-sep);

                 line = line + height;
                 */

                // GrÃ¼ntÃ¶ne (0,255,0)
                canvas.fillStyle = "rgb(0," + ((i / count * 255) | 0) + ", 0)";
                canvas.fillRect(i * width, line, width - sep, height - sep);

                canvas.fillStyle = "rgb(" + ((j / (count - 1) * 255) | 0) + ", 255," + ((j / (count - 1) * 255) | 0) + ")";
                canvas.fillRect(i * width + offset, line, width - sep, height - sep);

                line = line + height;

                // TÃ¼rkistÃ¶ne (0,255,127)
                /*
                 canvas.fillStyle = "rgb(0,"+ ((i/count*255)|0) +","+ ((i/count*127)|0) + ")";
                 canvas.fillRect(i * width, line, width-sep, height-sep);

                 canvas.fillStyle = "rgb("+ ((j/(count-1)*255)|0) +", 255,"+ (127 + ((j/(count-1)*127)|0)) +")";
                 canvas.fillRect(i * width + offset, line, width-sep, height-sep);

                 line = line + height;
                 */

                // Dunkel-TÃ¼rkistÃ¶ne (0,191,127)
                canvas.fillStyle = "rgb(0, " + ((i / count * 191) | 0) + "," + ((i / count * 127) | 0) + ")";
                canvas.fillRect(i * width, line, width - sep, height - sep);

                canvas.fillStyle = "rgb(" + ((j / (count - 1) * 255) | 0) + "," + (191 + (j / (count - 1) * 64) | 0) + ", " + (127 + ((j / (count - 1) * 127) | 0)) + ")";
                canvas.fillRect(i * width + offset, line, width - sep, height - sep);

                line = line + height;


                // CyantÃ¶ne (0,255,255)
                canvas.fillStyle = "rgb(0, " + ((i / count * 255) | 0) + ", " + ((i / count * 255) | 0) + ")";
                canvas.fillRect(i * width, line, width - sep, height - sep);

                canvas.fillStyle = "rgb(" + ((j / (count - 1) * 255) | 0) + ",255, 255)";
                canvas.fillRect(i * width + offset, line, width - sep, height - sep);

                line = line + height;

                // HellblautÃ¶ne (0,127,255)
                canvas.fillStyle = "rgb(0, " + ((i / count * 127) | 0) + "," + ((i / count * 255) | 0) + ")";
                canvas.fillRect(i * width, line, width - sep, height - sep);

                canvas.fillStyle = "rgb(" + ((j / (count - 1) * 255) | 0) + "," + (127 + ((j / (count - 1) * 127) | 0)) + ", 255)";
                canvas.fillRect(i * width + offset, line, width - sep, height - sep);

                line = line + height;

                // BlautÃ¶ne (0,0,255)
                canvas.fillStyle = "rgb(0, 0, " + ((i / count * 255) | 0) + ")";
                canvas.fillRect(i * width, line, width - sep, height - sep);

                canvas.fillStyle = "rgb(" + ((j / (count - 1) * 255) | 0) + "," + ((j / (count - 1) * 255) | 0) + ", 255)";
                canvas.fillRect(i * width + offset, line, width - sep, height - sep);

                line = line + height;

                // LilatÃ¶ne (127,0,255)
                canvas.fillStyle = "rgb(" + ((i / count * 127) | 0) + ", 0, " + ((i / count * 255) | 0) + ")";
                canvas.fillRect(i * width, line, width - sep, height - sep);

                canvas.fillStyle = "rgb(" + (127 + ((j / (count - 1) * 127) | 0)) + "," + ((j / (count - 1) * 255) | 0) + ", 255)";
                canvas.fillRect(i * width + offset, line, width - sep, height - sep);

                line = line + height;

                // GrautÃ¶ne
                /*
                 canvas.fillStyle = "rgb("+ ((i/count*127)|0) +", "+ ((i/count*127)|0) +", "+ ((i/count*127)|0) +")";
                 canvas.fillRect(i * width, line, width-sep, height-sep);

                 canvas.fillStyle = "rgb("+ (127 + ((j/(count-1)*127)|0)) +","+ (127 + ((j/(count-1)*127)|0)) +","+ (127 + ((j/(count-1)*127)|0)) +")";
                 canvas.fillRect(i * width + offset, line, width-sep, height-sep);

                 line = line + height;
                 */

            }

            line = line + height;

            for (var i = 0; i <= count; i++) {
                // GrautÃ¶ne
                canvas.fillStyle = "rgb(" + ((i / count * 255) | 0) + ", " + ((i / count * 255) | 0) + ", " + ((i / count * 255) | 0) + ")";
                canvas.fillRect(i * width + width * 2, line, width - sep, height - sep);
            }


            // https://www.javascripter.net/faq/rgbtohex.htm
            function rgbToHex(R, G, B) {
                return toHex(R) + toHex(G) + toHex(B)
            }

            function toHex(n) {
                n = parseInt(n, 10);
                if (isNaN(n)) return "00";
                n = Math.max(0, Math.min(n, 255));
                return "0123456789ABCDEF".charAt((n - n % 16) / 16) + "0123456789ABCDEF".charAt(n % 16);
            }

            $('#dio_color_picker a.cancel').click(function () {
                ColorPicker.close();
            });


            $('#dio_color_picker a.confirm').click(function () {
                // Custom-Event auslÃ¶sen
                $(ColorPicker).trigger("onColorChanged", [$('#dio_color_picker .color_string')[0].value]);
                ColorPicker.close();
            });

            $('#dio_color_picker a.color_table').click(function () {
                document.getElementById("c").click();
            });

            $('#dio_color_picker a.color_table #c').change(function () {
                $('#dio_color_picker input.color_string')[0].value = this.value;
                $('#dio_color_picker input.color_string')[0].style.color = this.value;
            });
        }
    };

    var UnitImages = {
        activate : function(){
            $('<style id="dio_unit_images">' +

              '.unit_icon25x25 { background-image: url(https://gpfr.innogamescdn.com/images/game/autogenerated/units/unit_icons_25x25_f6053c9.png);} ' +
              '.unit_icon40x40 { background-image: url(https://gpfr.innogamescdn.com/images/game/autogenerated/units/unit_icons_40x40_1d0da69.png);} ' +
              '.unit_icon50x50 { background-image: url(https://gpfr.innogamescdn.com/images/game/autogenerated/units/unit_icons_50x50_199eccc.png);} ' +
              '.unit_icon90x90 { background-image: url(https://gpfr.innogamescdn.com/images/game/autogenerated/units/unit_icons_90x90_07e89d3.png);} ' +

              '.unit_icon228x165 { background-image: none; height:0px;} ' +
              '.unit_card .deco_statue { background-image: none !important;} ' +
              '.grepo_box_silver .border_l, .grepo_box_silver .border_r { background-image: none;} ' +
              '.box_corner .box_corner_tl, .grepo_box_silver .box_corner_tr { height:31px; } ' +
              '.grepo_box_silver .grepo_box_content { padding: 21px 10px 0px; } ' +

              '</style>').appendTo('head');
        },
        deactivate : function(){
            $('#dio_unit_images').remove();

        }
    };

    /*******************************************************************************************************************************
     * Holiday Special
     *******************************************************************************************************************************/

    var HolidaySpecial = {
        isHalloween : false, isXmas : false, isNewYear : false, isEaster :  false,

        activate : function(){
            var daystamp = 1000*60*60*24, today = new Date((new Date())%(daystamp*(365+1/4))), // without year

                // Halloween -> 15 days
                halloween_start = daystamp * 297, // 25. Oktober
                halloween_end = daystamp * 321, // 8. November
                // Xmas -> 28 days
                xmas_start = daystamp * 334, // 1. Dezember
                xmas_end = daystamp * 361, // 28. Dezember
                // NewYear -> 7 days
                newYear_start = daystamp * 0, // 1. Januar
                newYear_end = daystamp * 7; // 7. Januar

            HolidaySpecial.isHalloween = (today >= halloween_start) ? (today <= halloween_end) : false;

            HolidaySpecial.isXmas = (today >= xmas_start) ? (today <= xmas_end) : false;

            HolidaySpecial.isNewYear = (today >= newYear_start) ? (today <= newYear_end) : false;

            if(HolidaySpecial.isXmas){ HolidaySpecial.XMas.add(); }
            if(HolidaySpecial.isNewYear){ HolidaySpecial.NewYear.add(); }

            // Calculation Easter

            // Jahreszahl
            var X = 2019;

            // SÃ¤kularzahl
            var K = parseInt(X / 100, 10);
            // Mondparameter
            var A = X % 19;

            // sÃ¤kulare Mondschaltung
            var M = 15 + parseInt((3 * K + 3)/4, 10) - parseInt((8 * K + 13)/25, 10);

            // sÃ¤kulare Sonnenschaltung
            var S = 2 - parseInt((3 * K + 3)/4, 10);

            // Erster Vollmond im FrÃ¼hling
            var D = (19 * A + M) % 30;

            // Kalendarische KorrekturgrÃ¶Ãe
            var R = parseInt((D + parseInt(A / 11, 10)) / 29, 10);

            // Ostergrenze
            var OG = 21 + D - R;

            // Erster Sonntag im MÃ¤rz
            var SZ = 7 - ((2019 + parseInt(2019/4, 10) + S) % 7);

            // Entfernung des Ostersonntags von der Ostergrenze
            var OE = 7 - ((OG - SZ) % 7);

            // Ostersonntag als MÃ¤rzdatum
            var OS = OG + OE;

            // console.debug("DIO-TOOLS | Ostersonntag: " + OS);

        },
        XMas : {
            add : function(){
                $('<a href="http://www.greensmilies.com/smilie-album/weihnachten-smilies/" target="_blank"><div id="dio_xmas"></div></a>').appendTo('#ui_box');

                var dioXMAS = $('#dio_xmas');

                dioXMAS.css({
                    background: 'url("https://www.tuto-de-david1327.com/medias/images/smiley-emoticons-weihnachtsmann-nordpol.gif") no-repeat',
                    height: '51px',
                    width: '61px',
                    position:'absolute',
                    bottom:'10px',
                    left:'60px',
                    zIndex:'4'
                });
                dioXMAS.tooltip(getText("labels", "Merry"));
            }
        },
        NewYear : {
            add : function(){
                // TODO: Jahreszahl dynamisch setzen
                $('<a href="https://www.tuto-de-david1327.com/pages/info/dio-tools-david1327.html" target="_blank"><div id="dio_newYear">'+
                  '<img src="https://www.tuto-de-david1327.com/medias/images/sign2-2.gif">'+
                  '<img src="https://www.tuto-de-david1327.com/medias/images/sign2-0.gif">'+
                  '<img src="https://www.tuto-de-david1327.com/medias/images/sign2-2.gif">'+
                  '<img src="https://www.tuto-de-david1327.com/medias/images/sign2-1.gif">'+
                  '</div></a>').appendTo('#ui_box');

                var dioNewYear = $('#dio_newYear');

                dioNewYear.css({
                    position:'absolute',
                    bottom:'10px',
                    left:'70px',
                    zIndex:'10'
                });
                dioNewYear.tooltip(getText("labels", "Happy"));
            }
        }
    };

    /*******************************************************************************************************************************
     * Scrollbar Style
     *******************************************************************************************************************************/
    var Scrollbar = {
        activate : function(){
            $('<style id="dio_Scrollbar">' +

              // Scrollbar Style: Chrome, opera, safari
              '::-webkit-scrollbar { width: 13px; } ' +
              '::-webkit-scrollbar-track { background-color: rgba(145, 165, 193, 0.5); border-top-right-radius: 4px; border-bottom-right-radius: 4px; } ' +
              '::-webkit-scrollbar-thumb { background-color: rgba(37, 82, 188, 0.5); border-radius: 3px; } ' +
              '::-webkit-scrollbar-thumb:hover { background-color: rgba(37, 82, 188, 0.8); } ' +

              '</style>').appendTo('head');
        },
        deactivate : function(){
            $('#dio_Scrollbar').remove();

        }
    };

    /*******************************************************************************************************************************
     * Town BBCode
     *******************************************************************************************************************************/

    var Townbb = {
        activate: function () {

            //Townbb.addBox();
            Townbb.addButton();

            // Style
            $('<style id="dio_townbb_style"> ' +

              // Button
              '#dio_townbb { background: url("https://www.tuto-de-david1327.com/medias/images/logo-grepolis.png") -23px 0px transparent; position:absolute; height: 22px; width: 21px; top:26px; left:184px; z-index:200; } ' +
              '#dio_townbb:hover { background: url("https://www.tuto-de-david1327.com/medias/images/logo-grepolis.png") -23px -23px transparent; position:absolute; height: 22px; width: 21px; top:26px; left:184px; z-index:5; } ' +
              '#dio_townbb_logo { background: url("https://www.tuto-de-david1327.com/medias/images/logo-vile-2.png"); position: absolute; height: 30px; width: 30px; left:180px; top:27px; } ' +

              // Style
              '#input_townbb { display: none; position: absolute; left: 23px; top: 29px; width: 157px; height: 12px; text-align: center; z-index: 5; } ' +
              '</style>').appendTo("head");
        },
        deactivate: function () {
            $('#dio_townbb').remove();
            $('#dio_townbb_style').remove();
            $('#input_townbb').remove();
        },
        addButton: function () {

            $('<a id="dio_townbb"></a><input id="input_townbb" type="text" onfocus="this.select();" onclick="this.select();"><div id="dio_townbb_logo"></div>').appendTo('.town_name_area');
            $("#dio_townbb").click(function () {
                $("#input_townbb").toggle();
                $("#input_townbb").val("[town]" + Game.townId + "[/town]");
            });

            // Tooltip
            $('#dio_townbb').tooltip(getText("labels", "tow"));
        },
    };

    /*******************************************************************************************************************************
     * Forum Delete Multiple
     *******************************************************************************************************************************/
    $('<style id="dio-Quackplusmenustylee">' +
      '.qdeletecheckbox {display:none!important;}' +
      '#qdeleteAllcheckbox {display:none!important;}' +
      '.q_delete {display:none!important;}' +
      '.gt_balanced {display:none!important;}' +
      '.gt_delete {display:none!important;}' +
      '.gtk-deselect-units {display:none!important;}' +
      '</style>').appendTo('head');

    var ForumDeleteMultiple = {

        activate: function () {
            //if ($('#forum #postlist')) {setTimeout(function () { ForumDeleteMultiple.activate();}, 90);}
            if (!$('.dio_deletecheckbox').length) {
                $("div.post_functions:not(:first)").each(function( index ) {
                    if ($(this).find('a').length > 2) {
                        $(this).append('<input class="dio_deletecheckbox" type="checkbox">');
                    }
                });
            }
            if (!$('#dio_deleteAllcheckbox').length && $('.dio_deletecheckbox').length) {
                if ($('div.forum_footer').length) {
                    $("div.forum_footer").append('<input id="dio_deleteAllcheckbox" type="checkbox"  style="margin:0px -7px 0 12px">');
                } else {
                    $("div.game_list_footer").append('<input id="dio_deleteAllcheckbox" type="checkbox"  style="float:right; margin:7px 3px; right: 6px;">');
                }
            }
            if (!$('#dio_deletemultipleBTN').length && $('.dio_deletecheckbox').length) {
                $('#forum_buttons').append('<a id="dio_deletemultipleBTN" class="dio_delete" ></a>');
                $(".dio_delete").css({
                    "margin-top" : "2px",
                    "margin-left" : "2px",
                    "position" : "absolute",
                    "height" : "23px",
                    "width" : "22px",
                    "background-image" : "url(https://www.tuto-de-david1327.com/medias/images/deletebutton.png)",
                    "background-repeat" : "no-repeat",
                    "background-position" : "0px 0px"
                });
                $(".dio_delete").hover(
                    function () {
                        $(this).css({
                            "background-position" : "0px -23px"
                        });
                    },
                    function () {
                        $(this).css({
                            "background-position" : "0px 0px"
                        });
                    });
            }

            function AreAnyCheckboxesChecked() {
                var checkboxes = $("#forum #postlist :checkbox");
                var checkboxesChecked = 0;
                for (var i = 0; i < checkboxes.length; i++) {
                    if (checkboxes[i].checked) {
                        checkboxesChecked++
                    }
                }
                return checkboxesChecked;
            }

            $('#dio_deletemultipleBTN').click(function () {
                var numberChecked = AreAnyCheckboxesChecked();
                if (numberChecked > 0) {
                    var deleteconfirmText = "<img style='position: absolute; top:5px;' src='https://www.tuto-de-david1327.com/medias/images/deletetext.png'><span style='position: absolute; color: #141414; font: 21px TrajanPro; display: inline; letter-spacing: -5px; margin: -14px auto; padding-left: 0px; width: 22px;'><b>" + numberChecked + "</b></span><br/>" + getText("Quack", "delete_sure") + "";
                    hOpenWindow.showConfirmDialog('', deleteconfirmText, function () {
                        $("#forum #postlist :checkbox:checked").each(function (i) {
                            var self = this
                            setTimeout(function () {
                                var deleteonlick = $(self).parent().find("a:last").attr("onclick").slice(17, -1).split(",");
                                Forum.deletePost(deleteonlick[0], deleteonlick[1], true, deleteonlick[3]);
                            }, i * 500);
                        });
                    });
                } else {
                    //HumanMessage.error(getText("forum", "no_selection"));
                    setTimeout(function () { HumanMessage.error(getText("Quack", "no_selection"));}, 0);
                }
            });

            $('#dio_deleteAllcheckbox').click(function () {
                $('#forum input[type="checkbox"]').prop('checked', this.checked)
            });

            $("#forum #postlist :checkbox").click(function () {
                if ($('#dio_deleteAllcheckbox').is(":checked")) {
                    $('#dio_deleteAllcheckbox').prop('checked', false);
                } else if ($('#forum #postlist input[type="checkbox"]').not(":checked").length === 0) {
                    $('#dio_deleteAllcheckbox').prop('checked', true);
                }
            });

            // Tooltip
            $('#dio_deletemultipleBTN').tooltip(getText("Quack", "delete"));
            $('#dio_deleteAllcheckbox').tooltip(getText("Quack", "mark_All"));
        },
        deactivate: function () {
            $('#dio_deletemultipleBTN').remove();
            $('#dio_deleteAllcheckbox').remove();
            $('.dio_delete').remove();
        },
    };


    /*******************************************************************************************************************************
     * select unit shelper
     *******************************************************************************************************************************/

    var selectunitshelper = {

        activate: function () {
            //if ($('#forum #postlist')) {setTimeout(function () {selectunitshelper.activate();}, 0);}
            var wnds = GPWindowMgr.getOpen(Layout.wnd.TYPE_TOWN);
            for (var e in wnds) {
                if (wnds.hasOwnProperty(e)) {
                    var wndid = wnds[e].getID();

                    var testel = $('DIV#gpwnd_'+wndid+' A.dio_balanced');
                    if (testel.length > 0) continue;

                    var handler=wnds[e].getHandler();

                    $('DIV#gpwnd_'+wndid+' A.select_all_units').after(' | <a class="dio_balanced" style="position:relative; top:4px" href="#">'+getText("Quack", "no_overload")+'</a> | <a class="dio_delete" style="position:relative; top:4px" href="#">'+getText("Quack", "delete")+'</a>');

                    var dio_bl_groundUnits=new Array('sword','slinger','archer','hoplite','rider','chariot','catapult','minotaur','zyklop','medusa','cerberus','fury','centaur','calydonian_boar','godsent');

                    $('DIV#gpwnd_'+wndid+' A.dio_balanced').click(function () {
                        var units=new Array();
                        var item;

                        for (var i=0; i<dio_bl_groundUnits.length; i++)		{
                            if (handler.data.units[dio_bl_groundUnits[i]])			{
                                item={name:dio_bl_groundUnits[i], count:handler.data.units[dio_bl_groundUnits[i]].count, population:handler.data.units[dio_bl_groundUnits[i]].population};
                                units.push(item);
                            }
                        }

                        if (handler.data.researches && handler.data.researches.berth) {
                            var berth=handler.data.researches.berth;
                        } else {
                            var berth=0;
                        }

                        var totalCap=handler.data.units.big_transporter.count*(handler.data.units.big_transporter.capacity+berth)+handler.data.units.small_transporter.count*(handler.data.units.small_transporter.capacity+berth);
                        units.sort(function(a,b){
                            return b.population-a.population;
                        });

                        for (i=0; i<units.length; i++) {
                            if (units[i].count==0)			{
                                units.splice(i,1);
                                i=i-1;
                            };
                        }

                        var restCap=totalCap;
                        var sendUnits=new Array();
                        for (i=0; i<units.length; i++)		{
                            item={name:units[i].name, count:0};
                            sendUnits[units[i].name]=item;
                        };

                        var hasSent;
                        k=0;
                        while (units.length>0)		{
                            hasSent=false;
                            k=k+1;
                            for (i=0; i<units.length; i++)			{
                                if (units[i].population<=restCap)				{
                                    hasSent=true;
                                    units[i].count=units[i].count-1;
                                    sendUnits[units[i].name].count=sendUnits[units[i].name].count+1;
                                    restCap=restCap-units[i].population;
                                }
                            }
                            for (i=0; i<units.length; i++)
                                if (units[i].count==0)				{
                                    units.splice(i,1);
                                    i=i-1;
                                };
                            if (!hasSent)			{
                                break;
                            }
                        }

                        handler.getUnitInputs().each(function ()		{
                            if (!sendUnits[this.name])			{
                                if (handler.data.units[this.name].count>0)
                                    this.value=handler.data.units[this.name].count;
                                else
                                    this.value='';
                            }
                        });

                        for (i=0; i<dio_bl_groundUnits.length; i++)		{
                            if (sendUnits[dio_bl_groundUnits[i]])			{
                                if (sendUnits[dio_bl_groundUnits[i]].count>0)
                                    $('DIV#gpwnd_'+wndid+' INPUT.unit_type_'+dio_bl_groundUnits[i]).val(sendUnits[dio_bl_groundUnits[i]].count);
                                else
                                    $('DIV#gpwnd_'+wndid+' INPUT.unit_type_'+dio_bl_groundUnits[i]).val('');
                            }
                        }

                        $('DIV#gpwnd_'+wndid+' INPUT.unit_type_sword').trigger('change');
                    });

                    $('DIV#gpwnd_'+wndid+' A.dio_delete').click(function () {
                        handler.getUnitInputs().each(function ()		{
                            this.value='';
                        });
                        $('DIV#gpwnd_'+wndid+' INPUT.unit_type_sword').trigger('change');
                    });

                }
            }
        },

        deactivate: function () {
            $('#AUTREEEE').remove();
        },
    };

    /*******************************************************************************************************************************
     * culture Overview
     *******************************************************************************************************************************/

    var cultureOverview = {
        activate: function (e) {
            var a = $("ul#cultur_overview_towns");
            var b,
                c,
                d,
                e;

            e = 0;
            b = $('a[class~="confirm"][class~="type_triumph"]');
            d = $('a[class~="confirm"][class~="type_triumph"][class~="disabled"]');
            if (d.length > 0) {
                for (var f = 0; f < b.length; f++) {
                    if ($(b[f]).attr("class").indexOf("disabled") > 1)
                        continue;
                    c = $(b[f]).parents('li[id^="ov_town_"]');
                    eltext = c[0].previousSibling;
                    $(c).insertBefore($(d[0]).parents('li[id^="ov_town_"]'));
                    $(eltext).insertBefore($(d[0]).parents('li[id^="ov_town_"]'))
                }
            }

            e = 0;
            b = $('a[class~="confirm"][class~="type_theater"]');
            d = $('a[class~="confirm"][class~="type_theater"][class~="disabled"]');
            if (d.length > 0) {
                for (var f = 0; f < b.length; f++) {
                    if ($(b[f]).attr("class").indexOf("disabled") > 1)
                        continue;
                    c = $(b[f]).parents('li[id^="ov_town_"]');
                    eltext = c[0].previousSibling;
                    $(c).insertBefore($(d[0]).parents('li[id^="ov_town_"]'));
                    $(eltext).insertBefore($(d[0]).parents('li[id^="ov_town_"]'))
                }
            }

            e = 0;
            b = $('a[class~="confirm"][class~="type_party"]');
            d = $('a[class~="confirm"][class~="type_party"][class~="disabled"]');
            if (d.length > 0) {
                for (var f = 0; f < b.length; f++) {
                    if ($(b[f]).attr("class").indexOf("disabled") > 1)
                        continue;
                    c = $(b[f]).parents('li[id^="ov_town_"]');
                    eltext = c[0].previousSibling;
                    $(c).insertBefore($(d[0]).parents('li[id^="ov_town_"]'));
                    $(eltext).insertBefore($(d[0]).parents('li[id^="ov_town_"]'))
                }
            }

            var g = $("ul#culture_overview_towns span.eta");
            var h = $("#culture_points_overview_bottom #place_culture_count").text();
            if (h.indexOf("[") < 1) {
                var i = h.split("/");
                var j = parseInt(i[0]) + g.length;
                var k = parseInt(i[1]) - j;
                if (k > 0) {
                    $("#culture_points_overview_bottom #place_culture_count").append("<span id='dio_culture'>[-" + k + "]</span>");
                } else {
                    var l = new Array;
                    for (var f = 0; f < g.length; f++)
                        l.push($(g[f]).text());
                    l.sort();
                    var m = l[l.length + k - 1];
                    $("#culture_points_overview_bottom #place_culture_count").append(" [<span id='dio_culture'></span>]<span id='dio_cultureplus' style='color: #ECB44D'> +" + k * -1 + "</span>").find("span#dio_culture").countdown(m);
                }
            } else {
                var i = h.split("/");
                var j = parseInt(i[0]) + g.length;
                var k = parseInt(i[1]) - j;
                if (k > 0) {
                    $("#dio_culture").text("[-" + k + "]");
                } else {
                    CultureOverview.activate.wnd.reloadContent();
                }
            }

            if ($('#dio_cultureBTN_wrapper').length == 0) {
                $("#culture_overview_wrapper").parent().append('<div id="dio_cultureBTN_wrapper"><div class="dio_cultureBTN_wrapper_right"><div id="dio_cultureBTN_theather_r" class="dio_cultureBTN_r dio_cultureBTN_theather"></div><div id="dio_cultureBTN_triumph_r" class="dio_cultureBTN_r dio_cultureBTN_triumph"></div><div id="dio_cultureBTN_olympicgames_r" class="dio_cultureBTN_r dio_cultureBTN_olympicgames"></div><div id="dio_cultureBTN_cityfestival_r" class="dio_cultureBTN_r dio_cultureBTN_cityfestival"></div></div></div>');

                $("#culture_overview_wrapper").css({
                    "top" : "35px",
                    "height" : "370px"
                });
                $("#dio_cultureBTN_wrapper").css({

                    "color" : "white",
                    "font-family" : "Verdana",
                    "font-weight" : "bold",
                    "font-size" : "12px",
                    "text-align" : "center",
                    "line-height" : "25px",
                    "text-shadow" : "1px 1px 0 #000000"
                });
                $(".dio_cultureBTN_wrapper_left").css({
                    "position" : "absolute",
                    "top" : "0px",
                    "left" : "0px",
                    "margin-left" : "7px"
                });
                $(".dio_cultureBTN_wrapper_right").css({
                    "position" : "absolute",
                    "top" : "0px",
                    "right" : "0px"
                });
                $(".dio_cultureBTN_l, .dio_cultureBTN_r").css({
                    "cursor" : "pointer",
                    "max-width" : "40px",
                    "min-width" : "25px",
                    "height" : "27px",
                    "float" : "right",
                    "position" : "relative",
                    "margin-left" : "3px",
                    "border" : "2px groove gray",
                    "background" : "url(https://gpfr.innogamescdn.com/images/game/overviews/celebration_bg_new.png)"
                });
                $(".dio_cultureBTN_cityfestival").css({
                    "background-position" : "0 -109px"
                });
                $(".dio_cultureBTN_olympicgames").css({
                    "background-position" : "0 -140px"
                });
                $(".dio_cultureBTN_triumph").css({
                    "background-position" : "0 -110px"
                });
                $(".dio_cultureBTN_theather").css({
                    "background-position" : "0 -170px"
                });
                var dio_cultureBTN_r_clicked_last = "";
                function hideTownElements(JQelement) {
                    var dio_cultureBTN_mode = "";
                    switch (JQelement.id) {
                        case "dio_cultureBTN_cityfestival_r":
                            dio_cultureBTN_mode = "ul li:eq(0)";
                            break;
                        case "dio_cultureBTN_olympicgames_r":
                            dio_cultureBTN_mode = "ul li:eq(1)";
                            break;
                        case "dio_cultureBTN_triumph_r":
                            dio_cultureBTN_mode = "ul li:eq(2)";
                            break;
                        case "dio_cultureBTN_theather_r":
                            dio_cultureBTN_mode = "ul li:eq(3)";
                            break;
                        default:
                            setTimeout(function () { HumanMessage.error("Error");}, 0);
                            break;
                    }
                    if (dio_cultureBTN_r_clicked_last === JQelement.id) {
                        $("ul#culture_overview_towns li").filter(function () {
                            return !!$(dio_cultureBTN_mode, this).find('.eta').length;
                        }).toggle();
                        $(JQelement).toggleClass("culture_red");
                    } else {
                        $("ul#culture_overview_towns li").show().filter(function () {
                            return !!$(dio_cultureBTN_mode, this).find('.eta').length;
                        }).hide();
                        $(".dio_cultureBTN_r").removeClass("culture_red");
                        $(JQelement).addClass("culture_red");
                    }
                    dio_cultureBTN_r_clicked_last = JQelement.id;
                    $(".dio_cultureBTN_r").css({
                        border : "2px groove #808080"
                    });
                    $(".culture_red").css({
                        border : "2px groove #CC0000"
                    });
                }
                $(".dio_cultureBTN_r").click(function () {
                    hideTownElements(this);
                });
            }

            var dio_cultureCounter = {
                cityfestivals : 0,
                olympicgames : 0,
                triumph : 0,
                theather : 0
            };

            var dio_bashpoints = $("#culture_points_overview_bottom .points_count").text().split("/");
            var dio_goldforgames = Math.floor($("#ui_box .gold_amount").text() / 50);
            dio_cultureCounter.triumph = Math.floor((parseInt(dio_bashpoints[0]) - parseInt(dio_bashpoints[1])) / 300) + 1;
            if (dio_cultureCounter.triumph < 0) {
                dio_cultureCounter.triumph = 0;
            }
            dio_cultureCounter.cityfestivals = $('a[class~="confirm"][class~="type_party"]:not(.disabled)').length;
            dio_cultureCounter.olympicgames = $('a[class~="confirm"][class~="type_games"]:not(.disabled)').length;
            if (dio_goldforgames < dio_cultureCounter.olympicgames) {
                dio_cultureCounter.olympicgames = dio_goldforgames;
            }
            dio_cultureCounter.theather = $('a[class~="confirm"][class~="type_theater"]:not(.disabled)').length;

            $("#dio_cultureBTN_cityfestival_r").text(dio_cultureCounter.cityfestivals);
            $("#dio_cultureBTN_olympicgames_r").text(dio_cultureCounter.olympicgames);
            $("#dio_cultureBTN_triumph_r").text(dio_cultureCounter.triumph);
            $("#dio_cultureBTN_theather_r").text(dio_cultureCounter.theather);
            $(".dio_cultureBTN_cityfestival").mousePopup(new MousePopup(getText("Quack", "cityfestivals")));
            $(".dio_cultureBTN_olympicgames").mousePopup(new MousePopup(getText("Quack", "olympicgames")));
            $(".dio_cultureBTN_triumph").mousePopup(new MousePopup(getText("Quack", "triumph")));
            $(".dio_cultureBTN_theather").mousePopup(new MousePopup(getText("Quack", "theater")));

        },

        deactivate: function () {
            $(".dio_cultureBTN_cityfestival").remove();
            $(".dio_cultureBTN_olympicgames").remove();
            $(".dio_cultureBTN_triumph").remove();
            $(".dio_cultureBTN_theather").remove();
            $("#dio_cultureBTN_wrapper").remove();
        },
    };
    /*$('<style id="dio-Quackculturestyle">' +
      '#qcultureBTN_cityfestival_r {display:none!important;}' +
      '#qcultureBTN_olympicgames_r {display:none!important;}' +
      '#qcultureBTN_triumph_r {display:none!important;}' +
      '#qcultureBTN_theather_r {display:none!important;}' +
      '#q_message_island {display:none!important;}' +
      '#qcultureBTN_wrapper {display:none!important;}' +
      '#qcultureplus {display:none!important;}' +
      '</style>').appendTo('head');*/

    /*******************************************************************************************************************************
     * hotkeys
     *******************************************************************************************************************************/

    var hotkeys = {

        ImagesHotkeys: {
            key : 'https://www.tuto-de-david1327.com/medias/images/dj4uootz.jpg',
            city_select : 'https://www.tuto-de-david1327.com/medias/images/nzhgrbzm.png',
            administrator : 'https://www.tuto-de-david1327.com/medias/images/j4kvrnok.png',
            captain : 'https://www.tuto-de-david1327.com/medias/images/8r8ty3md.png',
            menu : 'https://www.tuto-de-david1327.com/medias/images/giiagnrp.png'
        },

        activate: function () {

            hotkeys.add();
            $('<style id="dio_MH_attsup_style">#MH_attsup { left:394px !important;} #mousePopupHTMLl {margin-left:400;}</style>').appendTo('head');
            $('<a id="dio_BTN_HK" style="z-index:6;position:absolute;top:1px;left:368px;" href="#"><img src="https://up.picr.de/37974851jj.png" style="float:left; border-width: 0px" /></a></a>').appendTo('#ui_box');
            var mousePopupHTML = '<span style="margin-bottom:3px;display:inline-block"><b>' + getText("hotkeys", "hotkeys") + ':</b></span>';
            var mousePopupArray = {};
            mousePopupArray[getText("hotkeys", "city_select")] = [
                [hotkeys.ImagesHotkeys.city_select],
                ["<span style='display:block;margin-top:-2px'>&#8592;</span>", getText("hotkeys", "last_city")],
                ["<span style='display:block;margin-top:-2px'>&#8594;</span>", getText("hotkeys", "next_city")],
                ["<span style='display:block;font-size:9px;margin-top:2px'>Sp</span>", getText("hotkeys", "jump_city")] //&#8629;
            ];
            mousePopupArray[getText("hotkeys", "administrator")] = [
                [hotkeys.ImagesHotkeys.administrator],
                ["1", getText("hotkeys", "trade_ov")],
                ["2", getText("hotkeys", "command_ov")],
                ["3", getText("hotkeys", "recruitment_ov")],
                ["4", getText("hotkeys", "troop_ov")],
                ["5", getText("hotkeys", "troops_outside")],
                ["6", getText("hotkeys", "building_ov")],
                ["7", getText("hotkeys", "culture_ov")],
                ["8", getText("hotkeys", "gods_ov")],
                ["9", getText("hotkeys", "cave_ov")],
                ["0", getText("hotkeys", "city_groups_ov")],
                [(MID == 'de') ? "&szlig;" : "-", getText("hotkeys", "city_list")]
            ];
            mousePopupArray[getText("hotkeys", "captain")] = [
                [hotkeys.ImagesHotkeys.captain],
                [(MID == 'de') ? "Â´" : "=", getText("hotkeys", "attack_planner")],
                ["X", getText("hotkeys", "farming_villages")]
            ];
            mousePopupArray[getText("hotkeys", "menu")] = [
                [hotkeys.ImagesHotkeys.menu],
                ["S", getText("hotkeys", "Senate")],
                [(MID == 'fr') ? "V" : "C", getText("hotkeys", "city_view")],
                [(MID == 'de') ? "N" : "M", getText("hotkeys", "messages")],
                ["B", getText("hotkeys", "reports")],
                ["A", getText("hotkeys", "alliance")],
                ["F", getText("hotkeys", "alliance_forum")],
                ["E", getText("hotkeys", "settings")],
                ["P", getText("hotkeys", "profile")],
                ["R", getText("hotkeys", "ranking")],
                [(MID == 'de') ? "M" : "N", getText("hotkeys", "notes")]
            ];
            if ($('.ui_heroes_overview_container').is(':visible')) {
                mousePopupArray[getText("hotkeys", "menu")].push(["H", getText("hotkeys", "council")]);
            }

            $.each(mousePopupArray, function (a, b) {
                mousePopupHTML += '<p/><span style="margin-bottom:-11px;margin-top:-8px;border-bottom:1px solid #B48F45; width:100%;display:block"><span style="display:inline-block;height:17px;width:17px;vertical-align:middle;margin-right:5px;background-image:url(' + b[0] + ')"></span><span style="display:inline-block;height:17px;vertical-align:middle">' + a + ':</span></span><br/>';
                $.each(b, function (c, d) {
                    if (c === 0)
                        return;
                    mousePopupHTML += '<span style="display:inline-block;height:17px;width:17px;text-align:center;vertical-align:middle;margin-right:5px;background-image:url(' + hotkeys.ImagesHotkeys.key + ')"><span style="display:block;margin-top:-1px">' + d[0] + '</span></span><span style="display:inline-block;margin-bottom:1px;height:17px;vertical-align:middle">' + d[1] + '</span><br/>';
                });
            });
            $('#dio_BTN_HK').tooltip(mousePopupHTML);
        },
        add: function () {
            var ctrlDown = false;
            document.onkeyup = function(e) {
                if (e.keyCode == "17") ctrlDown = false;
            };
            document.onkeydown = function(e) {
                e = e || window.event;

                // DÃ©tection du CTRL pressÃ© ou non
                if ((e.keyCode == "17" || e.keyCode == "91")) ctrlDown = true;

                // Si pas dans une case texte
                if (!$(e.target).is('textarea') && !$(e.target).is('input') && !ctrlDown) {
                    // FlÃ¨ches directionnelles
                    if (e.keyCode == '37' || e.keyCode == '39') {
                        setTimeout(function () {
                            updateIcon();
                        }, 200);
                    }
                    if (((MID == 'fr') ? e.keyCode == "86" : e.keyCode == '67') && (DATA.options.Hot)) {
                        if (!$("#ui_box .bull_eye_buttons .city_overview").hasClass('checked')) {
                            $("#ui_box .bull_eye_buttons .city_overview").click();
                        } else {
                            $("#ui_box .bull_eye_buttons .island_view").click();
                        }
                    }
                    // Agora !!!
                    if (e.keyCode == '75' && (DATA.options.Hot)) {
                        PlaceWindowFactory.openPlaceWindow('building_place-simulator');
                    }
                    // SÃ©nat
                    if (e.keyCode == '83' && (DATA.options.Hot)) {
                        MainWindowFactory.openMainWindow();
                    }
                    // Caserne
                    /*if (e.keyCode == '67' && (DATA.options.Hot)) {
                        BarracksWindowFactory.openBarracksWindow();
                    }*/
                    // Grotte
                    if (e.keyCode == '71' && (DATA.options.Hot)) {
                        HideWindowFactory.openHideWindow();
                    }
                    /*/ Port
                    if (e.keyCode == '80' && (DATA.options.Hot)) {
                        DocksWindowFactory.openDocksWindow();
                    }*/
                    // Troupes en dehors
                    if (e.keyCode == "68" && (DATA.options.Hot)) {
                        PlaceWindowFactory.openPlaceWindow('units_beyond');
                    }
                    // simulator!!!
                    if (e.keyCode == "90" && (DATA.options.Hot)) {
                        PlaceWindowFactory.openPlaceWindow('simulator');
                    }
                    /*/ AcadÃ©mie
                    if (e.keyCode == "65" && (DATA.options.Hot)) {
                        AcademyWindowFactory.openAcademyWindow();
                    }*/
                    // Rapports
                    if (e.keyCode == "66" && (DATA.options.Hot)) {
                        Layout.wnd.Create(GPWindowMgr.TYPE_REPORT, ' ');
                    }
                    // Forum
                    if (e.keyCode == "70" && ((DATA.options.Hot))) {
                        Layout.allianceForum.open();
                    }
                    //
                    if (e.keyCode == "69" && (DATA.options.Hot)) {
                        Layout.wnd.Create(GPWindowMgr.TYPE_PLAYER_SETTINGS, ' ');
                    }
                    // PROFILE
                    if (e.keyCode == "80" && (DATA.options.Hot)) {
                        Layout.wnd.Create(GPWindowMgr.TYPE_PLAYER_PROFILE_EDIT, ' ');
                    }
                    // Remparts
                    if (e.keyCode == "102" && (DATA.options.Hot)) {
                        BuildingWindowFactory.open('wall');
                    }
                    // Ferme
                    if (e.keyCode == "70" && (DATA.options.Hot)) {
                        FarmWindowFactory.openFarmWindow();
                    }
                    /*/ EntrepÃ´t
                    if (e.keyCode == "69" && (DATA.options.Hot)) {
                        BuildingWindowFactory.open('storage');
                    }*/
                    // Scierie
                    if (e.keyCode == "97" && (DATA.options.Hot)) {
                        LumberWindowFactory.openLumberWindow();
                    }
                    // CarriÃ¨re
                    if (e.keyCode == "98" && (DATA.options.Hot)) {
                        StonerWindowFactory.openStonerWindow();
                    }
                    // Grotte
                    if (e.keyCode == "71" && (DATA.options.Hot)) {
                        BuildingWindowFactory.open('hide');
                    }
                    // Mine d'argent
                    if (e.keyCode == "99" && (DATA.options.Hot)) {
                        IronerWindowFactory.openIronerWindow();
                    }
                    // MarchÃ©
                    if (e.keyCode == "100" && (DATA.options.Hot)) {
                        MarketWindowFactory.openMarketWindow();
                    }
                    // ALLIANCE
                    if (e.keyCode == "65" && (DATA.options.Hot)) {
                        Layout.wnd.Create(GPWindowMgr.TYPE_ALLIANCE);
                    }
                    // Messages
                    if (((MID == 'de') ? e.keyCode == "78" : e.keyCode == "77") && (DATA.options.Hot)) {
                        Layout.wnd.Create(GPWindowMgr.TYPE_MESSAGE, ' ')
                    }
                    // Forum
                    if (e.keyCode == "70" && (DATA.options.Hot)) {
                        Layout.wnd.Create(GPWindowMgr.TYPE_ALLIANCEFORUM)
                    }
                    // Rang
                    if (e.keyCode == "82" && (DATA.options.Hot)) {
                        RankingWindowFactory.openRankingWindow();
                    }
                    // RACOURCI Administrateur
                    if (e.keyCode == "49" && (DATA.options.Hot)) {
                        TownOverviewWindowFactory.openTradeOverview();
                    }
                    if (e.keyCode == "50" && (DATA.options.Hot)) {
                        Overviews.openOverview('command_overview');
                    }
                    if (e.keyCode == "51" && (DATA.options.Hot)) {
                        Overviews.openOverview('recruit_overview');
                    }
                    if (e.keyCode == "52" && (DATA.options.Hot)) {
                        Overviews.openOverview('unit_overview');
                    }
                    if (e.keyCode == "53" && (DATA.options.Hot)) {
                        Overviews.openOverview('outer_units');
                    }
                    if (e.keyCode == "54" && (DATA.options.Hot)) {
                        Overviews.openOverview('building_overview');
                    }
                    if (e.keyCode == "55" && (DATA.options.Hot)) {
                        Overviews.openOverview('culture_overview');
                    }
                    if (e.keyCode == "56" && (DATA.options.Hot)) {
                        Overviews.openOverview('gods_overview');
                    }
                    if (e.keyCode == "57" && (DATA.options.Hot)) {
                        Overviews.openOverview('hides_overview');
                        setTimeout(function () {hotkeys.add();}, 600);
                    }
                    if (e.keyCode == "48" && (DATA.options.Hot)) {
                        TownOverviewWindowFactory.openTownGroupOverview();
                    }
                    if ((e.keyCode == "63" || e.keyCode == "219" || e.keyCode == "109") && (DATA.options.Hot)) {
                        TownOverviewWindowFactory.openTownsOverview();
                    }
                    // Villages de paysans
                    if (e.keyCode == "88" && (DATA.options.Hot)) {
                        GPWindowMgr.Create(GPWindowMgr.TYPE_FARM_TOWN_OVERVIEWS,'Villages de paysans',{});
                    }
                    // Plannificateur
                    if ((e.keyCode == "192" || e.keyCode == "221" || e.keyCode == "187") && (DATA.options.Hot)) {
                        GPWindowMgr.Create(GPWindowMgr.TYPE_ATTACK_PLANER,'Plannificateur');
                    }
                    // Outil de rÃ©servation
                    if (e.keyCode == "16" && (DATA.options.Hot)) {
                        hOpenWindow.openReservationList();void(0);
                    }
                    // Notes
                    if (((MID == 'de') ? e.keyCode == "77" : e.keyCode == "78") && (DATA.options.Hot)) {
                        NotesWindowFactory.openNotesWindow();
                    }
                    //
                    if (e.keyCode == "13" && (DATA.options.Hot)) {
                        WMap.mapJump({
                            'id' :  + Game.townId,
                            'ix' : WMap.islandPosition.x,
                            'iy' : WMap.islandPosition.y
                        });
                    }
                    //
                    if (e.keyCode == "72" && $('.ui_heroes_overview_container').is(':visible') && (DATA.options.Hot)) {
                        HeroesWindowFactory.openHeroesWindow();
                    }
                }
            }},
        deactivate: function () {
            $('#dio_BTN_HK').remove();
            $('#dio_MH_attsup_style').remove();
        },
    };

    /*******************************************************************************************************************************
     * island Farming Villages
     *******************************************************************************************************************************/

    var islandFarmingVillages = {
        activate: function () {
            $('<style id="dio_message_recipients_style">' +
              '#message_recipients { width:630px ; }' +
              '#message_subject { width:630px ; }' +
              '#message_alliance { position:absolute; right: 3px; top: 6px; }' +
              'div.island_info_wrapper div.center1 { left:239px; width: 466px; top: 0px; }' +
              'div.island_info_left { bottom: 0px; left: 0px; position: absolute; }' +
              'div.island_info_towns ul#island_info_towns_left_sorted_by_name { height: 347px; }' +
              'div.island_info_right { bottom: 0px; right: 0px; position: absolute; }' +
              'div.island_info_right UL.game_list { height: 378px; }' +
              '#farm_town_overview_btn { top: 465px; right: 9px; }' +
              '</style>').appendTo('head');

			$("#island_towns_controls").append('<a id="dio_message_island"></a>');
            $('<style id="dio_message_recipients_stylee">' +
              '#dio_message_island { float: right; right: 3px; height: 23px; width: 22px; background: url("https://www.tuto-de-david1327.com/medias/images/islandmessage.png") no-repeat; 0px 0px; }' +
              '</style>').appendTo('head');

			$("#dio_message_island").hover(
				function () {
				$(this).css({
					"background-position" : "0px -23px"
				});
			},
				function () {
				$(this).css({
					"background-position" : "0px 0px"
				});
			});
			$("#dio_message_island").click(function () {
				var spielernamen = "";
				$("#island_info_towns_left_sorted_by_name li span.player_name").each(function () {
					if ($(this).text() != pName && $(this).text() != getText("messages", "ghosttown") && $(this).text() != getText("messages", "no_cities") + "." && spielernamen.indexOf($(this).text()) < 0) {
						spielernamen += $(this).text() + ";";
					}
				});
				Layout.newMessage.open({
                    recipients : spielernamen
                });
            });

        },
        deactivate: function () {
            $('#dio_message_island').remove();
            $('#dio_message_recipients_style').remove();
        },
    };

    /*******************************************************************************************************************************
     * island Header
     *******************************************************************************************************************************/

    var islandHeader = {
        activate: function () {
            $('#fto_town_list li').each(function( index ) {
                if (this.classList.length == 2) {
                    $(this).addClass("dio_li_island");
                    $(this).append(
                        '<div class="dio_colordivider" style="background-image: url(https://www.tuto-de-david1327.com/medias/images/en-construction.png); display: block; height: 24px; margin: -4px -2px;"></div>' +
                        '<div class="checkbox_new checked disabled" style="position: absolute; right: 2px; top: 5px"><div class="cbx_icon"></div></div>'
                    );
                    $(this).find("span").css({
                        "margin-left" : "2px"
                    });
                    $(this).find("a").css({
                        "color" : "rgb(238, 221, 187)"
                    });
                }
            });
            $('.dio_colordivider').click(function () {
                var el = $(this).parent().nextUntil(".q_li_island");
                if ($('#fto_town_list li:first[style*="border-right"]').length == 0) {
                    el.slideToggle();
                } else {
                    el.toggleClass("hidden");
                }
            });
            $("#fto_town_wrapper .game_header").append('<a href="#" id="dio_toggleAutohide" style="top: 6px; right: 5px; position: absolute; height: 11px; width: 17px; background-image: url(https://www.tuto-de-david1327.com/medias/images/en-construction.png)"></a>');

            //$("#dio_toggleAutohide").addClass('dio_autoHideCitiesOff');


            /*("#dio_toggleAutohide").click(function () {
					if (QT.Settings.values.qmenu_settings_farmhelper_hidecities) {
						islandHeader.save("qmenu_settings_farmhelper_hidecities", false);
					} else {*/
            //QT.Settings.delete("qmenu_settings_farmhelper_hidecities");
            /*}
					$(this).toggleClass('dio_autoHideCitiesOff');
				});*/
            $('<style type="text/css">#fto_town_list li.active {background: rgba(208, 190, 151, 0.60)} .dio_autoHideCitiesOff {background-position: 0px -11px}</style>').appendTo('head');

            var activeIsland = $('#fto_town_list li.active').prevAll(".q_li_island").first();
            activeIsland.find("div.checkbox_new").removeClass("disabled");
            //if (QT.Settings.values.qmenu_settings_farmhelper_hidecities) {
            //activeIsland.find("div.qcolordivider").trigger( "click" );
        },
        deactivate: function () {
        },
    };

    /*******************************************************************************************************************************
     * Cave Overview
     *******************************************************************************************************************************/
    $('<style id="dio_hhidesOverview_style"> ' +
      '#hides_sort_control {display:none!important;} ' +
      '#hides_overview_wrapper { top: 0px;} ' +
      '</style>').appendTo("head");
    var hidesIndexIron = {
        activate: function () {
            var silver_total = 0;
            var city_boxes = $("#hides_overview_towns").find(".town_item");
            function silverToInt (str) {
                return parseInt(str.split("/")[0].replace(/\D/g, "")) || 0;
            }
            if (silver_total === 0) {
                for (var a = 0; a < city_boxes.length; a++) {
                    silver_total += silverToInt($(city_boxes[a]).find(".hide_progressbar").text());
                }
            }
            for (var d = 0; d < city_boxes.length; d++) {
                    var e = $(city_boxes[d]);
                    silver_total += silverToInt(e.find(".hide_progressbar").text());
                    var f = e.find(".iron");
                    var g = Number(f.text().trim());
                    var h = e.find("input");
                    if (null != h.val() && g > 15e3) {
                        h.val(g - 15e3).change();
                        e.find(".iron_img").click();
                        var i = HidesOverview.spinners[e.find(".iron_img").attr("name")];
                        i.setValue(g - 15e3)
                    }
                }
            if ($('#hide_espionage').length == 0)
                return;
            var b = ITowns.getTown(parseInt(Game.townId)).getCurrentResources().iron;
            if (b > 15e3) {
                $("#hide_espionage :input").val(b - 15e3);
                setTimeout(function () {
                    $("#hide_espionage :input").select().blur();
                }, 10);
            } else {
                $("#hide_espionage :input").val("");
                setTimeout(function () {
                    $("#hide_espionage :input").select().blur();
                }, 10);
            }
            $("#dio_sortinit").click(function () {
                sort($("#dio_sort_towns").val());
                $(this).toggleClass('active')
            });
            document.onkeydown = function(ee) {
            ee = ee || window.event;
            if (ee.keyCode == "40") {
                hidesIndexIron.activate();
            }}
            function dadada() {
                sort($("#dio_sort_towns").val());
                $(this).toggleClass('active')
            }
        },
        deactivate: function () {
            $('#dio__style').remove();
        },
    };
    var hidesOverview = {
        activate: function () {
        $('<style id="dio_hidesOverview_style"> ' +

              // style
              '#dio_hides_sort_control { bottom: -8px; left: -9px; padding: 0 2px; right: -9px; top: -9px;} ' +
              '#dio_button_table_resize { background-image: url("https://www.tuto-de-david1327.com/medias/images/button-table-resize.png"); background-repeat: no-repeat; display: block !important; float: left; width: 22px; height: 23px; margin-right: 5px; margin-top: 2px; cursor: pointer;} ' +
              '#dio_button_table_resize:hover { background-position: 0px -23px !important;} ' +
              '#dio_button_table_resize.active { background-position: 0px -46px !important;} ' +
              '#dio_sortinit { margin: 3px 0 0 3px;} ' +
              '#dio_hides_sort_control .border { border-bottom: 1px solid #222; left: -2px; position: absolute; right: -2px; top: 28px;} ' +
              '#hides_overview_wrapper { height: 425px!important; top: 39px;} ' +
              '#hides_overview_towns { border-top: 0px;} ' +
              '#dio_hides_silver_total { background: #ffe2a1 none repeat scroll 0 0; border: 1px solid #e1af55; font-size: 10px; padding: 0 4px 2px 1px; position: absolute; right: 2px; top: 3px;} ' +
              '#dio_hides_silver_total .resource_iron_icon { padding-left: 25px; width: auto;} ' +
              '#dio_hides_silver_total .silver_amount { display: block; padding-top: 1px;} ' +
              '.dio_res_plenty, .dio_res_rare { background: url(https://gpde.innogamescdn.com/images/game/layout/resources_deposit.png) no-repeat scroll 0 0; height: 10px; width: 10px; position: absolute; left: 29px;} ' +
              '.dio_res_rare { background-position: 0 -10px;} ' +
              '#hides_overview_towns.dio_resize .box_content { display: none;} ' +
              '#hides_overview_towns.dio_resize .hide_buttons, #hides_overview_towns.dio_resize .spinner { top: 23px;} ' +
              '</style>').appendTo("head");
        },
        init : function () {
            var silver_total = 0;
            var selection, order;
            var city_boxes = $("#hides_overview_towns").find(".town_item");

            function silverToInt (str) {
                return parseInt(str.split("/")[0].replace(/\D/g, "")) || 0;
            }

            //if (QT.Settings.values.qmenu_settings_hidessort) {
            if (silver_total === 0) {
                for (var a = 0; a < city_boxes.length; a++) {
                    silver_total += silverToInt($(city_boxes[a]).find(".hide_progressbar").text());
                }
            }

            var sort_options = [
                ["ironinstore", getText("caves", "stored_silver")],
                ["name", getText("caves", "name")],
                ["wood", getText("caves", "wood")],
                ["stone", getText("caves", "stone")],
                ["iron", getText("caves", "silver")]
            ];
            var wnd = GPWindowMgr.getFocusedWindow() || false;
			var dada = wnd.getJQElement().find(".gpwindow_content");
            dada.append('<div id="dio_hides_sort_control" class="overview_search_bar"><div id="dio_button_table_resize"></div>'+hidesOverview.grepo_dropdown("dio_sort_towns", sort_options)+hidesOverview.grepo_input("margin-top:0px","dio_sortfilterbox","")[0].outerHTML+'<div id="dio_sortinit" class="button_order_by active"></div><div id="dio_hides_silver_total"><span class="resource_iron_icon iron"><span class="silver_amount">'+silver_total+'</span></span></div><div class="border"></div></div>');

            function table_resize_handler1() {
                $(this).addClass("active");
                $("#hides_overview_towns").addClass("dio_resize");
                city_boxes.each(function( index ) {
                    var iron_span_class = $(this).find(".box_content.res_box .iron SPAN:first-child").prop("class");
                    if (iron_span_class == "res_rare") {
                        $(this).find(".iron_img").append('<span class="dio_res_rare"></span>');
                    } else if (iron_span_class == "res_plenty") {
                        $(this).find(".iron_img").append('<span class="dio_res_plenty"></span>');
                    }
                });
                $(this).one("click", table_resize_handler2);
            }

            function table_resize_handler2() {
                $(this).removeClass("active");
                $("#hides_overview_towns").removeClass("dio_resize");
                city_boxes.find(".dio_res_plenty, .dio_res_rare").remove();
                $(this).one("click", table_resize_handler1);
            }

            $('#dio_button_table_resize').one("click", table_resize_handler1);

            function isNumber(n) {
                return !isNaN(parseFloat(n)) && isFinite(n);
            }

            function setfilter(selection) {
                $('#hides_overview_towns>li').show();
                if (isNumber($('#dio_sortfilterbox').val())) {
                    regexpRES = RegExp(/wood|stone|iron/);
                    regexpInS = RegExp(/eta/);
                    regexpNoT = RegExp(/gp_town_link/);
                    numericfilter = parseInt($('#dio_sortfilterbox').val());
                    $('#hides_overview_towns>li').each(function (i, e) {
                        if (regexpRES.test(selection)) {
                            selectedSort = parseInt($(e).find(selection).text()) || 0;
                        } else if (regexpInS.test(selection)) {
                            selectedSort = parseInt($(e).find(selection).text().substr(1)) || 0;
                        } else {
                            selectedSort = $(e).find(selection).text();
                            if (!(selectedSort.indexOf(numericfilter) >= 0)) {
                                $(e).hide();
                            }
                        }

                        if (numericfilter > selectedSort) {
                            $(e).hide();
                        }
                    });
                } else {
                    namefilter = $('#dio_sortfilterbox').val();
                    $('#hides_overview_towns>li').each(function (i, e) {
                        townname = $(e).find('a.gp_town_link').text();
                        if (namefilter.length > 0 && !(townname.indexOf(namefilter) >= 0)) {
                            $(e).hide();
                        }
                    });
                }
            };

            function sort(selection) {
                order = !order;
                switch (selection) {
                    case "ironinstore":
                        selection = 'span.eta';
                        break;
                    case "name":
                        selection = 'a.gp_town_link';
                        break;
                    case "wood":
                        selection = 'span.wood span.count';
                        break;
                    case "stone":
                        selection = 'span.stone span.count';
                        break;
                    case "iron":
                        selection = 'span.iron span.count';
                        break;
                }
                setfilter(selection);
                var dio_ArrayUnsorted = $('#hides_overview_towns>li').get();
                dio_ArrayUnsorted.sort(function (a, b) {
                    regexpRES = RegExp(/wood|stone|iron/);
                    regexpInS = RegExp(/eta/);
                    if (regexpRES.test(selection)) {
                        a = parseInt($(a).find(selection).text()) || 0;
                        b = parseInt($(b).find(selection).text()) || 0;
                    } else if (regexpInS.test(selection)) {
                        a = parseInt($(a).find(selection).text().substr(1)) || 0;
                        b = parseInt($(b).find(selection).text().substr(1)) || 0;
                    } else {
                        a = $(a).find(selection).text().toLowerCase();
                        b = $(b).find(selection).text().toLowerCase();
                        if (order) {
                            return a.localeCompare(b);
                        } else {
                            return b.localeCompare(a);
                        }
                    }
                    if (order) {
                        return b - a
                    } else {
                        return a - b
                    }
                });
                for (var i = 0; i < dio_ArrayUnsorted.length; i++) {
                    dio_ArrayUnsorted[i].parentNode.appendChild(qArrayUnsorted[i]);
                }
            }

            $("#dio_sortinit").click(function () {
                sort($("#dio_sort_towns").val());
                $(this).toggleClass('active')
            });
            document.onkeydown = function(ee) {
            ee = ee || window.event;
            if (ee.keyCode == "13") {
                dadada();
            }}
            function dadada() {
                sort($("#dio_sort_towns").val());
                $(this).toggleClass('active')
            }
            /*} else {
                    if (silver_total != 0) {
                        QT.wnd.append('<div id="dio_hides_silver_total"><span class="resource_iron_icon iron"><span class="silver_amount">'+silver_total+'</span></span></div>');
                        $('#dio_hides_silver_total .resource_iron_icon').css({
                            "position" : "absolute",
                            "bottom" : "0px",
                            "left" : "4px",
                            "padding-left" : "25px",
                            "font-size" : "10px"
                        });
                    }
                }*/
        },
        refresh_silver_total : function (xhr) {
            var JQ_silver_total = $('#dio_hides_silver_total .silver_amount');
            var silver_total = parseInt(JQ_silver_total.text());
            var silver_stored = $.parseJSON(xhr.responseText).json.iron_stored;
            silver_total += silver_stored;
            JQ_silver_total.text(silver_total);
        },
        grepo_dropdown : function (ID, Options) {
            var str = '<span class="grepo_input"><span class="left"><span class="right"><select name="' + ID + '" id="' + ID + '" type="text">';
            $.each(Options, function (a, b) {
                if (b[1]) {
                    str += '<option value="' + b[0] + '">' + b[1] + '</option>'
                } else {
                    str += '<option value="' + b + '">' + b + '</option>'
                }
            });
            str += '</select></span></span></span>';
            return str;
        },
        grepo_input : function (Style, ID, Text) {
            return $('<div class="input_box" style="' + Style + '"><span class="grepo_input"><span class="left"><span class="right"><input id="' + ID + '" type="text" value="' + Text + '"></span></span></span></div>');
        },
        deactivate: function () {
            $('#dio_hidesOverview_style').remove();
            $('#dio_hides_sort_control').remove();
        },
    };
    /*******************************************************************************************************************************
     * townslist
     *******************************************************************************************************************************/

    var townslist = {
        activate: function () {
            createWindowType("DIO_BBCODE", getText("labels", "tow"), 290, 300, true, ["center", "center", 100, 100]);
            $('<style id="dio_town_list_style"> ' +
              '#dio_town_list { background: url("https://www.tuto-de-david1327.com/medias/images/logo-grepolis.png") -24px -2px transparent; position:absolute; height: 17px; width: 17px; } ' +
              '#dio_town_list:hover { background: url("https://www.tuto-de-david1327.com/medias/images/logo-grepolis.png") -24px -25px transparent; position:absolute; height: 17px; width: 17px; } ' +
              '</style>').appendTo("head");

            if ($('#town_groups_list a.town_bb').length != 0)
                return;
            $('.content .group_name .name').append('<a class="town_bb" style="position: absolute; display: block; top: 3px; right: 40px;" href="#"><img id="dio_town_list" /></a>');
            $('.town_bb').click(function (e) {
                var towngrp_id = $(this).parent().data('groupid');
                var cities_towngroup = ITowns.town_group_towns.getTowns(towngrp_id);
                var bb_content = "";
                var bb_count = 0;
                $.each(cities_towngroup, function (key, town) {
                    bb_count++;
                    bb_content += ""+ bb_count +". [town]" + town.attributes.town_id + "[/town] (" + town.town_model.attributes.points + ") " + town.town_model.attributes.island_x + "|" + town.town_model.attributes.island_y + "\n";
                });
                var expRahmen_a = "<div class='inner_box'><div class='game_border'><div class='game_border_top'></div><div class='game_border_bottom'></div><div class='game_border_left'></div><div class='game_border_right'></div><div class='game_border_corner corner1'></div><div class='game_border_corner corner2'></div><div class='game_border_corner corner3'></div><div class='game_border_corner corner4'></div><div class='game_header bold' style='height:18px;'><div style='float:left; padding-right:10px;'></div>";
                var expRahmen_b = "</div><textarea id='expTextarea' style=\"height: 198px; width: 275px;\">";
                var expRahmen_c = "</textarea></div><div style='overflow-x: hidden; padding-left: 5px; position: relative;'></div></div></div>";
                var expTitel = "Copy & Paste";
				var wnd = Layout.wnd.Create(GPWindowMgr.TYPE_DIO_BBCODE) || Layout.wnd.getOpenFirst(GPWindowMgr.TYPE_DIO_BBCODE).close();
                //wnd.setTitle(getText("labels", "tow"));// "BB-Codes" + " - " +
                wnd.setContent(expRahmen_a + expTitel + expRahmen_b + bb_content + expRahmen_c);
                $("#expTextarea").focus(function () {
                    var that = this;
                    setTimeout(function () {
                        $(that).select();
                    }, 10);
                });
            });
            $('.town_group_town').hover(function () {
                var townID = $(this).data("townid");
                $(this).append('<div class="jump_town" data-townid="' + townID + '"></div>');
                $(".jump_town")
                    .css({
                    "display" : "block",
                    "top" : "2px",
                    "right" : "15px",
                    "height" : "16px",
                    "width" : "16px",
                    "position" : "absolute",
                    "background" : "url('https://cdn.grepolis.com/images/game/layout/town_list_btns.png') repeat scroll -32px 0 transparent"
                })
                    .click(function (e) {
                    e.stopPropagation();
                    WMap.mapJump(ITowns.getTown(townID), true);
                }) // MapTiles.focusTown(townID);
                    .hover(function () {
                    $(this).css({
                        "background-position" : "-32px -16px"
                    });
                }, function () {
                    $(this).css({
                        "background-position" : "-32px 0"
                    });
                });
            }, function () {
                $(".jump_town").remove();
            });
        },
        deactivate: function () {

            $('#dio_Raccourci_style').remove();
        },
        add: function () {


        },
    };
    /*******************************************************************************************************************************
     * MessageExporter
     *******************************************************************************************************************************/

    var MessageExport = {
        activate: function() {
            createWindowType("DIO_BBCODEE", getText("labels", "dsc"), 400, 250, true, ["center", "center", 100, 100]);
			var wnd = GPWindowMgr.getOpenFirst(GPWindowMgr.TYPE_MESSAGE);
			var wndID = wnd.getID();
			if ($("#qt_messageExport").is(":visible"))
				return;
			$("DIV#gpwnd_" + wndID + " DIV#message_message_list .game_header:first").append('<div id="qt_messageExport" style="float:right; margin-top:-19px; cursor:pointer;"><img src="https://www.tuto-de-david1327.com/medias/images/en-construction.png"/></div><div id="qt_messageExportTMP" style="display:none"></div>');
			$("#qt_messageExport").mousePopup(new MousePopup(getText("messages", "export")));
			$("#qt_messageExport").click(function () {
				var bb_content = "[quote]";
				var format_search = [
					/\<b\>(.*?)\<\/b\>/ig,
					/\<i\>(.*?)\<\/i\>/ig,
					/\<u\>(.*?)\<\/u\>/ig,
					/\<s\>(.*?)\<\/s\>/ig,
					/\<center\>(.*?)\<\/center\>/ig,
					/\<a class="bbcodes bbcodes_url".+href.+url=(.*?)%3A%2F%2F(.*?)".+\>(.*?)\<\/a>/ig,
					/\<span class="bbcodes bbcodes_town"\>\<a href=\"#(.*?)\".+\<\/span\>/ig,
					/\<img src="(.*?)" alt=""\>/ig,
					/\<span class="bbcodes bbcodes_color" style="color:(.*?)"\>(.*?)\<\/span\>/ig,
					/\<span class="bbcodes bbcodes_island"\>\<a href=\"#(.*?)\" .+\<\/span\>/ig,
					/\<table.+\<tbody\>(.*?)\<\/tbody\>\<\/table\>/ig,
					/\<tr\>\<td\>/ig,
					/\<tr\>\<th\>/ig,
					/\<\/td\>\<\/tr\>/ig,
					/\<\/th\>\<\/tr\>/ig,
					/\<\/td\>/ig,
					/\<\/th\>/ig,
					/\<td\>/ig,
					/\<th\>/ig
				];
				var format_replace = [
					'[b]$1[/b]',
					'[i]$1[/i]',
					'[u]$1[/u]',
					'[s]$1[/s]',
					'[center]$1[/center]',
					'[url=$1://$2]$3[/url]',
					replaceBBtowns,
					'[img]$1[/img]',
					'[color=$1]$2[/color]',
					replaceBBislands,
					'[table]$1[/table]',
					'[*]',
					'[**]',
					'[/*]',
					'[/**]',
					'[|]',
					'[||]',
					'',
					''
				];
				function replaceBBtowns(match, p1, offset, string) {
					var a = $.parseJSON(atob(p1));
					return '[town]' + a.id + '[/town]'
				};
				function replaceBBislands(match, p1, offset, string) {
					var a = $.parseJSON(atob(p1));
					return '[island]' + a.id + '[/island]'
				};

				$("#message_post_container .message_post").each(function (index, element) {
					var qt_messageExportTMP = $("#qt_messageExportTMP");
					qt_messageExportTMP.empty();
					$(this).clone().appendTo(qt_messageExportTMP);

					qt_messageExportTMP.find(".published_report").replaceWith("[report][/report]"); //replace reports
					qt_messageExportTMP.find(".bbcode_awards").replaceWith("[img]http://s1.directupload.net/images/140428/twuzm5vx.png[/img]"); //replace awards
					qt_messageExportTMP.find(".reservation_list").replaceWith(""); //remove reservations
					qt_messageExportTMP.find(".bbcodes_spoiler").replaceWith(function () { //replace spoiler
						$(this).find(".button").remove();
						return '[spoiler=' + $("b:first", this).text() + ']' + $(".bbcodes_spoiler_text", this).html() + '[/spoiler]';
					});
					qt_messageExportTMP.find(".bbcodes_quote").replaceWith(function () { //replace quotes
						return '[quote]' + $(".quote_message", this).html() + '[/quote]';
					});
					qt_messageExportTMP.find(".bbcodes_size").replaceWith(function () { //replace size
						return '[size=' + $(this)[0].style.fontSize + ']' + $(this).html() + '[/size]';
					});
					qt_messageExportTMP.find(".bbcodes_player").replaceWith(function () { //replace player
						return '[player]' + $(this).text() + '[/player]';
					});
					qt_messageExportTMP.find(".bbcodes_ally").replaceWith(function () { //replace ally
						return '[ally]' + $(this).text() + '[/ally]';
					});
					qt_messageExportTMP.find(".bbcodes_font").replaceWith(function () { //replace font
						return '[font=' + $(this).attr('class').split(' ').pop() + ']' + $(this).html() + '[/font]';
					});
					qt_messageExportTMP.find("script").remove(); //remove script tags

					var author = $(".message_poster .gp_player_link", this).text();
					var postDate = $(".message_poster .message_date", this).text().trim();
					bb_content += '[size=7][player]' + author + '[/player] ' + postDate + '[/size]\n';
					bb_content += '[img]http://s7.directupload.net/images/140502/izczcrte.png[/img]\n';
					var postHTML = $("#qt_messageExportTMP .message_post_content").html().trim();
					postHTML = postHTML.replace(/(\r\n|\n|\r|\t)/gm, ""); //remove line-breaks, tab characters
					postHTML = postHTML.replace(/<br\s*\/?>/mg, "\n"); //add line-breaks instead of <br>
					postHTML = postHTML.replace(/&nbsp;/mg, " ") //replace &nbsp
						for (var i = 0; i < format_search.length; i++) {
							postHTML = postHTML.replace(format_search[i], format_replace[i]);
						}
						bb_content += postHTML + "\n";
					bb_content += '[img]http://s1.directupload.net/images/140502/f3i4p5oy.png[/img]';
					bb_content += "\n";
				});

				bb_content = bb_content.slice(0, -1);
				bb_content += "[/quote]";

				var expRahmen_a = "<div class='inner_box'><div class='game_border'><div class='game_border_top'></div><div class='game_border_bottom'></div><div class='game_border_left'></div><div class='game_border_right'></div><div class='game_border_corner corner1'></div><div class='game_border_corner corner2'></div><div class='game_border_corner corner3'></div><div class='game_border_corner corner4'></div><div class='game_header bold' style='height:18px;'><div style='float:left; padding-right:10px;'></div>";
				var expRahmen_b = "</div><textarea id='expTextarea' style=\"height: 228px; width: 685px;\">";
				var expRahmen_c = "</textarea></div><div style='overflow-x: hidden; padding-left: 5px; position: relative;'></div></div></div>";
				var expTitel = "Copy & Paste";
				var BBwnd = GPWindowMgr.Create(GPWindowMgr.TYPE_DIO_BBCODEE) || GPWindowMgr.getOpenFirst(GPWindowMgr.TYPE_DIO_BBCODEE).close();
				BBwnd.setTitle(getText("qtoolbox", "bb_codes") + " - " + getText("bbcode", "messages"));
				BBwnd.setContent(expRahmen_a + expTitel + expRahmen_b + bb_content + expRahmen_c);
				$("#expTextarea").focus(function () {
					var that = this;
					setTimeout(function () {
						$(that).select();
					}, 10);
				});
			});
		},
        deactivate: function () {
            $('#dio_Raccourci_style').remove();
        },
        add: function () {


        },
    };
    /*******************************************************************************************************************************
     * raccourci
     *******************************************************************************************************************************/

    /*var Raccourci = {
        activate: function () {

            //Raccourci.addBox();
            Raccourci.add();

              '</style>').appendTo("head");
        },
        deactivate: function () {
            $('#dio_Raccourci_style').remove();
        },
        add: function () {


        },
    };*/
    }
 DIO_GAME('4.15.7', true, '{"options":{"bir":true,"ava":true,"ava2":false,"sml":false,"str":true,"tra":true,"per":true,"rec":false,"way":true,"cnt":true,"sim":true,"act":true,"tsk":false,"pop":false,"bbc":false,"com":false,"TEST":false,"tic":false,"til":true,"tim":true,"wwc":false,"wwr":false,"wwi":false,"con":true,"sen":false,"tov":false,"scr":false,"Scr":false,"Tow":false,"Rac":false,"Rew":false,"err":false,"her":true,"Fdm":false,"Sel":true,"Cul":true,"Hot":false,"Isl":true,"Ish":false,"Hio":true,"Hid":true,"Tol":false},"user":{"name":"timarques","market":"pt"},"count":[],"notification":8,"error":{},"spellbox":{"top":"23%","left":"-150%","show":false},"commandbox":{"top":55,"left":250},"tradebox":{"top":55,"left":450},"townTypes":{"852":"lo","1817":"sd","2954":"so","3057":"ld","3064":"fo","3123":"sd","3419":"ld","3591":"so","4950":"so","4963":"lo","5309":"ld","5467":"so","5468":"lo","5469":"ld","6076":"sd","6115":"fo","7853":"fo","8061":"so"},"sentUnits":{"attack":{"slinger":65577,"hoplite":29921,"rider":26717,"chariot":728,"attack_ship":5030,"harpy":514,"godsent":6,"archer":10333,"big_transporter":189,"catapult":1499,"small_transporter":3696,"sword":533,"bireme":180,"colonize_ship":21,"manticore":1798,"sea_monster":334},"support":{"big_transporter":8,"sword":10157,"godsent":1,"bireme":1741,"archer":15864,"hoplite":19192,"small_transporter":3546,"chariot":1076,"slinger":2682,"rider":796,"attack_ship":282,"manticore":20,"catapult":120,"harpy":153,"sea_monster":45,"colonize_ship":2}},"biremes":{},"bullseyeUnit":{"current_group":-1,"mode":"total"},"worldWonder":{"ratio":{"32":6.328307812901735,"46":4.519801854502665,"67":3.244940023040507,"99":3.0449028253985704,"114":2.2579516807989672,"null":3.3768487500782522},"storage":{},"map":{}},"clickCount":{},"statistic":{},"worldWonderTypes":{}}', 1584951441);</script><div id="overviews_link_hover_menu">
	<div class="box top left">
		<div class="box top right">
			<div class="box top center"></div>
		</div>
	</div>
	<div class="box middle left">
		<div class="box middle right">
			<div class="box middle center">
				<ul>
				
					<li class="subsection curator enabled">
						<a class="adviser" name="curator" type="advisor"><span class="advisors22x22 curator_active">curator</span></a>
						<ul>
						
							<li class="trade_overview"><a name="trade_overview" type="overview" href="#">ComÃ©rcio</a></li>
						
							<li class="command_overview"><a name="command_overview" type="overview" href="#">Comandos</a></li>
						
							<li class="recruit_overview"><a name="recruit_overview" type="overview" href="#">Recrutamento</a></li>
						
							<li class="unit_overview"><a name="unit_overview" type="overview" href="#">VisÃ£o geral das tropas</a></li>
						
							<li class="outer_units"><a name="outer_units" type="overview" href="#">Tropas no exterior</a></li>
						
							<li class="building_overview"><a name="building_overview" type="overview" href="#">EdifÃ­cio</a></li>
						
							<li class="culture_overview"><a name="culture_overview" type="overview" href="#">Cultura</a></li>
						
							<li class="gods_overview"><a name="gods_overview" type="overview" href="#">Deuses</a></li>
						
							<li class="hides_overview"><a name="hides_overview" type="overview" href="#">Grutas</a></li>
						
							<li class="town_group_overview"><a name="town_group_overview" type="overview" href="#">Grupos de cidades</a></li>
						
							<li class="towns_overview"><a name="towns_overview" type="overview" href="#">Lista de cidades</a></li>
						
						</ul>
					</li>
				
					<li class="subsection captain enabled">
						<a class="adviser" name="captain" type="advisor"><span class="advisors22x22 captain_active">captain</span></a>
						<ul>
						
							<li class="attack_planer"><a name="attack_planer" type="overview" href="#">Planeador de ataques</a></li>
						
							<li class="farm_town_overview"><a name="farm_town_overview" type="overview" href="#">Aldeias bÃ¡rbaras</a></li>
						
						</ul>
					</li>
				
				</ul>
			</div>
		</div>
	</div>
	<div class="box bottom left">
		<div class="box bottom right">
			<div class="box bottom center"></div>
		</div>
	</div>
</div><div class="sandy-box js-dropdown-list" id="dd_coordinates_list" style="left: 0px; display: none; position: absolute; visibility: visible; width: 100px;">
			<div class="corner_tl"></div>
			<div class="corner_tr"></div>
			<div class="corner_bl"></div>
			<div class="corner_br"></div>

			<div class="border_t"></div>
			<div class="border_b"></div>
			<div class="border_l"></div>
			<div class="border_r"></div>

			<div class="middle"></div>

			<div class="content js-dropdown-item-list">
				
					<div class="item no_results">Sem entradas</div>
				
			</div>
		</div><div class="sandy-box js-dropdown-list ui-draggable" id="toolbar_activity_recruits_list" style="left: 284px; position: absolute; visibility: visible; width: 141px; top: 29px; margin-left: 0px; display: none;">
	<div class="corner_tl"></div>
	<div class="corner_tr"></div>
	<div class="corner_bl"></div>
	<div class="corner_br"></div>

	<div class="border_t"></div>
	<div class="border_b"></div>
	<div class="border_l"></div>
	<div class="border_r"></div>

	<div class="middle"></div>


	<div class="content js-dropdown-item-list instant_buy">

		<div class="item_no_results">Nenhum recrutamento</div>

	</div>
</div><div id="toolbar_activity_commands_list" class="fast dropdown-list" style="display: none;"><div class="sandy-box js-dropdown-list">
	<div class="corner_tl"></div>
	<div class="corner_tr"></div>
	<div class="corner_bl"></div>
	<div class="corner_br"></div>
	<div class="border_t"></div>
	<div class="border_b"></div>
	<div class="border_l"></div>
	<div class="border_r"></div>
	<div class="middle"></div>
	<div class="item processing_movements">
	<div class="text">A processar comandos que chegaram</div>
	<div class="amount"></div>
</div><div class="content js-dropdown-item-list"></div>
<div class="item no_results">Sem resultados</div></div></div><div class="dropdown-list sandy-box js-dropdown-list ui-draggable" id="toolbar_activity_trades_list" style="left: 340px; position: absolute; visibility: visible; width: 113px; top: 29px; margin-left: 0px; display: none;">
	<div class="corner_tl"></div>
	<div class="corner_tr"></div>
	<div class="corner_bl"></div>
	<div class="corner_br"></div>

	<div class="border_t"></div>
	<div class="border_b"></div>
	<div class="border_l"></div>
	<div class="border_r"></div>

	<div class="middle"></div>

	<div class="content js-dropdown-item-list">
		
			<div class="item no_results">NÃ£o hÃ¡ comÃ©rcio</div>
		
	</div>
</div><div class="window_curtain" style="height: 667px; z-index: 1001; visibility: hidden;">

<div id="window_c1754" class="js-window-main-container classic_window militia_welcome   minimized" style="position: absolute; width: 522px; min-width: 150px; min-height: 422px; margin-top: 0px; top: 127.5px; margin-left: 0px; left: 422px;">
	<div class="wnd_border_b"></div>
	<div class="wnd_border_l"></div>
	<div class="wnd_border_r"></div>
	<div class="corner_tl"></div>
	<div class="corner_tr"></div>
	<div class="corner_bl"></div>
	<div class="corner_br"></div>
	<div class="wnd_border_t js-wnd-buttons">
		<div class="title" unselectable="on">AtenÃ§Ã£o, estÃ¡ a ser atacado!</div>
		<div class="js-window-move window_move_container"></div>
		<div class="buttons_container">
			
			
				<div class="btn_wnd minimize" style="display:block"></div>
				<div class="btn_wnd maximize" style="display:none"></div>
			
			
				<div class="btn_wnd close"></div>
			
		</div>
		<div class="js-tabs_container tabs_container">
</div>
	</div>
	<div class="filler"></div>
	<div class="filler window_background"></div>
	<div class="window_content js-window-content"><div class="wrapper_box">
	<p class="descr">
		<span class="unit_icon40x40 militia"></span>
		Arme os habitantes da sua cidade e mande chamar uma milÃ­cia para se defender melhor. Encontra mais informaÃ§Ãµes na quinta.
	</p>
	<hr>
	<div class="button_box">
		<div class="btn_enlist_militia button_new">
		<div class="left"></div>
		<div class="right"></div>
		<div class="caption js-caption">Alistar milÃ­cia<div class="effect js-effect"></div></div>
</div>
	</div>
</div></div>
</div>
</div><div class="ui-dialog ui-widget ui-widget-content ui-corner-all ui-draggable js-window-main-container minimized" style="outline: currentcolor none 0px; z-index: 1003; height: auto; width: 780px; top: 60px; left: 293px; display: none;" tabindex="-1" role="dialog" aria-labelledby="ui-id-2"><div class="ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix"><span id="ui-id-2" class="ui-dialog-title">VisÃµes gerais</span><a href="#" class="ui-dialog-titlebar-close ui-corner-all" role="button"><span class="ui-icon ui-icon-closethick">close</span></a><a href="#" class="ui-dialog-titlebar-minimize ui-corner-all"></a><a href="#" class="next"></a><a href="#" class="prev"></a><div class="menu_wrapper minimize closable menu_wrapper_scroll" style="left: 87px;"><ul class="menu_inner" style="width: 963px; right: -386px;"><li><a data-menu_name="Cidades" class="submenu_link" href="#" id="town_overviews-towns_overview"><span class="left"><span class="right"><span class="middle">Cidades</span></span></span></a></li><li><a data-menu_name="Grupos de cidades" class="submenu_link" href="#" id="town_group_overviews-town_group_overview"><span class="left"><span class="right"><span class="middle">Grupos de cidades</span></span></span></a></li><li><a data-menu_name="Grutas" class="submenu_link" href="#" id="town_overviews-hides_overview"><span class="left"><span class="right"><span class="middle">Grutas</span></span></span></a></li><li><a data-menu_name="Deuses" class="submenu_link" href="#" id="town_overviews-gods_overview"><span class="left"><span class="right"><span class="middle">Deuses</span></span></span></a></li><li><a data-menu_name="Cultura" class="submenu_link" href="#" id="town_overviews-culture_overview"><span class="left"><span class="right"><span class="middle">Cultura</span></span></span></a></li><li><a data-menu_name="EdifÃ­cio" class="submenu_link" href="#" id="town_overviews-building_overview"><span class="left"><span class="right"><span class="middle">EdifÃ­cio</span></span></span></a></li><li><a data-menu_name="Tropas no exterior" class="submenu_link" href="#" id="town_overviews-outer_units"><span class="left"><span class="right"><span class="middle">Tropas no exterior</span></span></span></a></li><li><a data-menu_name="VisÃ£o geral das tropas" class="submenu_link" href="#" id="town_overviews-unit_overview"><span class="left"><span class="right"><span class="middle">VisÃ£o geral das tropas</span></span></span></a></li><li><a data-menu_name="Recrutamento" class="submenu_link" href="#" id="town_overviews-recruit_overview"><span class="left"><span class="right"><span class="middle">Recrutamento</span></span></span></a></li><li><a data-menu_name="Comandos" class="submenu_link active" href="#" id="town_overviews-command_overview"><span class="left"><span class="right"><span class="middle">Comandos</span></span></span></a></li><li><a data-menu_name="ComÃ©rcio" class="submenu_link" href="#" id="town_overviews-trade_overview"><span class="left"><span class="right"><span class="middle">ComÃ©rcio</span></span></span></a></li></ul><div class="fade_left"></div><div class="fade_right"></div></div></div><div class="gpwindow_frame ui-dialog-content ui-widget-content" style="display: block; width: auto; min-height: 0px; height: 570px;" scrolltop="0" scrollleft="0"><div class="gpwindow_left"></div><div class="gpwindow_right"></div><div class="gpwindow_bottom"><div class="gpwindow_left corner"></div><div class="gpwindow_right corner"></div></div><div class="gpwindow_top"><div class="gpwindow_left corner"></div><div class="gpwindow_right corner"></div></div><div id="gpwnd_1001" class="gpwindow_content"><div id="place_defense" class="game_inner_box">
    <div id="game_list_header">
        <!-- Select town group dropdown -->
        <div id="dd_commands_select_town_group" class="dropdown default"><!--
	<div id="dd_res_offer" class="dropdown default">-->
		
		<div class="border-left"></div>
		<div class="border-right"></div>
		<div class="caption">Todos</div>
		<div class="initial-message-box js-empty" style="display: none;"></div>
		<div class="arrow"></div>
		
	<!--</div>
--></div>
        <!-- Search in commands -->
        <div id="txt_commands_search" class="textbox initial-message">
	<div class="left"></div>
	<div class="right"></div>
	<div class="middle">
		<div class="initial-message-box js-empty">Procurar por</div>
		<div class="ie7fix"><input type="text" tabindex="1" placeholder=""></div>
		<div class="clear-button js-clear" style="display: none;"></div>
	</div>
	<div class="error-msg js-txt-error-msg"></div>
</div>
    </div>
    
	<div class="game_border ">
		<div class="game_border_top"></div>
		<div class="game_border_bottom"></div>
		<div class="game_border_left"></div>
		<div class="game_border_right"></div>
		<div class="game_border_corner corner1"></div>
		<div class="game_border_corner corner2"></div>
		<div class="game_border_corner corner3"></div>
		<div class="game_border_corner corner4"></div>

	    <div class="game_header bold">VisÃ£o geral dos comandos<span class="command_count"></span></div>
    <div id="command_overview_tabs"><div id="tab_all">
    <ul class="game_list" id="command_overview">
        
        <li class="odd js-command-row place_command" id="command_attack_takeover_389735" data-command_type="attack_takeover">
            <div class="cmd_info_box">
                <!-- attack type -->
                
                <a href="#" onclick="Layout.conquerorWindow.open(389735, 8095);"><div class="cmd_img command_type attack_type32x32 attack_takeover"></div></a>
                

						<span class="cmd_span" style="">
							
								<a href="#eyJpZCI6OTUwOCwiaXgiOjU1NCwiaXkiOjQ0NywidHAiOiJ0b3duIiwibmFtZSI6IjU0IDE3MSJ9" class="gp_town_link">54 171</a>
								(<a href="#eyJuYW1lIjoidGltYXJxdWVzIiwiaWQiOjIyMDgzNjN9" class="gp_player_link">timarques</a>)
								<span class="overview_outgoing icon"></span>
							
										<a href="#eyJpZCI6ODA5NSwiaXgiOjU1NCwiaXkiOjQ0NywidHAiOiJ0b3duIiwibmFtZSI6IkRBS0FSIn0=" class="gp_town_link">DAKAR</a>
										(<a href="#eyJuYW1lIjoiTW9yZWlyYS0xNyIsImlkIjoyNjU5NTZ9" class="gp_player_link">Moreira-17</a>)
										
								
						</span>

						<span class="cmd_span_custom command_id_attack_takeover_389735" data-tooltip="">
							
						</span>

                <!-- cancel-button -->
                
                <!-- rename-button -->
						<span class="rename_command">
							<a class="game_arrow_edit" title="Renomear o comando" href="#" onclick='CommandsOverview.renameCommand("attack_takeover_389735"); return false;' style="display: none;"></a>
						</span>
						<span class="do_rename_command" style="display: none;">
							
							<a class="game_arrow_save" title="Guardar" href="#" onclick='CommandsOverview.doRenameCommand("attack_takeover_389735", "attack_takeover"); return false;'></a>
							<a class="game_arrow_reset" title="Repor nome predefinido do comando" href="#" onclick='CommandsOverview.doRestoreCommandName("attack_takeover_389735", "attack_takeover"); return false;'></a>
						</span>
                <br>
                
								<span style="float:left;" class="countdown eta-command-attack_takeover_389735">7:24:37</span>
                
                <span class="troops_arrive_at eta-arrival-attack_takeover_389735">(O cerco termina hoje Ã s 19:43:31)</span>
            </div>

            <!-- Units -->
            
            <div class="command_overview_units">
                
                <div class="place_unit unit_sword unit_icon25x25 sword ">
                    <span class="place_unit_black bold">5</span>
                    <span class="place_unit_white bold">5</span>
                </div>
                
                <div class="place_unit unit_archer unit_icon25x25 archer ">
                    <span class="place_unit_black bold">7</span>
                    <span class="place_unit_white bold">7</span>
                </div>
                
                <div class="place_unit unit_hoplite unit_icon25x25 hoplite ">
                    <span class="place_unit_black bold">7</span>
                    <span class="place_unit_white bold">7</span>
                </div>
                
                <div class="place_unit unit_attack_ship unit_icon25x25 attack_ship ">
                    <span class="place_unit_black bold">1</span>
                    <span class="place_unit_white bold">1</span>
                </div>
                
                <div class="place_unit unit_colonize_ship unit_icon25x25 colonize_ship ">
                    <span class="place_unit_black bold">1</span>
                    <span class="place_unit_white bold">1</span>
                </div>
                
            </div>
            
            <div style="clear:both;"></div>
        </li>
        
    </ul>
</div>
</div>
    <div id="game_list_footer" class="game_list_footer"><div id="command_filter" style="margin-left:5px;">
    <span class="bold" style="float: left;margin-top:5px;">Filtro: </span>

    <div style="position: relative; top: 0px;">
        
        <div class="support_filter attack_land"></div>
        
        <div class="support_filter support"></div>
        
        <div class="support_filter attack_sea"></div>
        
        <div class="support_filter attack_spy"></div>
        
        <div class="support_filter farm_attack"></div>
        
        <div class="support_filter abort"></div>
        
        <div class="support_filter attack_takeover"></div>
        
    </div>
</div>
<div id="type_filter" style="float:right;margin:5px 5px 0 0;">
    <span class="bold" style="float: left;margin-right:6px;">Filtro: </span>

    <div id="dd_commands_command_type" class="dropdown default"><!--
	<div id="dd_res_offer" class="dropdown default">-->
		
		<div class="border-left"></div>
		<div class="border-right"></div>
		<div class="caption">Todos os comandos</div>
		<div class="initial-message-box js-empty" style="display: none;"></div>
		<div class="arrow"></div>
		
	<!--</div>
--></div>
</div>
</div>
    
		</div>
	</div>
</div></div></div><div class="dropdown-list default" id="dd_commands_command_type_list" style="left: 0px; display: none; position: absolute; visibility: visible; width: 104px;">
			<div class="item-list">
				
					<div class="option selected" name="#tab_all">Todos os comandos</div>
				
					<div class="option" name="#tab_attacks">Ataques</div>
				
					<div class="option" name="#tab_support">Apoio</div>
				
					<div class="option" name="#tab_espionage">Espionagem</div>
				
			</div>
		</div><div class="dropdown-list default" id="dd_commands_select_town_group_list" style="left: 0px; display: none; position: absolute; visibility: visible; width: 135px;">
			<div class="item-list">
				
					<div class="option selected" name="-1">Todos</div>
				
					<div class="option" name="228">ATAQUE</div>
				
					<div class="option" name="230">BIRREMES</div>
				
					<div class="option" name="229">DEFESA</div>
				
					<div class="option" name="277">EM DESENVOLVIMENTO</div>
				
					<div class="option" name="231">FAROIS</div>
				
					<div class="option" name="232">VOADORES</div>
				
			</div>
		</div><div class="ui-dialog ui-widget ui-widget-content ui-corner-all ui-draggable js-window-main-container minimized" style="outline: currentcolor none 0px; z-index: 1021; height: auto; width: 800px; top: 60px; left: 283px; display: none;" tabindex="-1" role="dialog" aria-labelledby="ui-id-4"><div class="ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix"><span id="ui-id-4" class="ui-dialog-title">Mensagens</span><a href="#" class="ui-dialog-titlebar-close ui-corner-all" role="button"><span class="ui-icon ui-icon-closethick">close</span></a><a href="#" class="ui-dialog-titlebar-minimize ui-corner-all"></a><div class="menu_wrapper minimize closable" style="left: 76px;"><ul class="menu_inner" style="width: 5000px;"><li><a data-menu_name="Listas de destinatÃ¡rios" class="submenu_link" href="#" id="message-lists"><span class="left"><span class="right"><span class="middle" style="width: 90.8571px; margin-right: 16px;">Listas de destinatÃ¡rios<span class="submenu_dots">â¦</span></span></span></span></a></li><li><a data-menu_name="Bloquear" class="submenu_link" href="#" id="message-blocked_players"><span class="left"><span class="right"><span class="middle">Bloquear</span></span></span></a></li><li><a data-menu_name="Gerir pasta" class="submenu_link" href="#" id="message-folder"><span class="left"><span class="right"><span class="middle">Gerir pasta</span></span></span></a></li><li><a data-menu_name="Correio em massa" class="submenu_link" href="#" id="message-massmail"><span class="left"><span class="right"><span class="middle" style="width: 97.2088px; margin-right: 16px;">Correio em massa<span class="submenu_dots">â¦</span></span></span></span></a></li><li><a data-menu_name="Nova mensagem" class="submenu_link" href="#" id="message-new"><span class="left"><span class="right"><span class="middle" style="width: 91.7664px; margin-right: 16px;">Nova mensagem<span class="submenu_dots">â¦</span></span></span></span></a></li><li><a data-menu_name="Mensagens" class="submenu_link active" href="#" id="message-index"><span class="left"><span class="right"><span class="middle" style="width: 56.8px; margin-right: 16px;">Mensagens<span class="submenu_dots">â¦</span></span></span></span></a></li><li><a data-menu_name="AnÃºncios" class="submenu_link" href="#" id="message-announcements"><span class="left"><span class="right"><span class="middle" style="width: 42.16px; margin-right: 16px;">AnÃºncios<span class="submenu_dots">â¦</span></span></span></span></a></li></ul></div></div><div class="gpwindow_frame ui-dialog-content ui-widget-content" style="display: block; width: auto; min-height: 0px; height: 570px;" scrolltop="0" scrollleft="0"><div class="gpwindow_left"></div><div class="gpwindow_right"></div><div class="gpwindow_bottom"><div class="gpwindow_left corner"></div><div class="gpwindow_right corner"></div></div><div class="gpwindow_top"><div class="gpwindow_left corner"></div><div class="gpwindow_right corner"></div></div><div id="gpwnd_1003" class="gpwindow_content"><div><div id="message_messages" class="game_inner_box">
    <form id="message_form" method="post" action="javascript:void(0)">


        
	<div class="game_border ">
		<div class="game_border_top"></div>
		<div class="game_border_bottom"></div>
		<div class="game_border_left"></div>
		<div class="game_border_right"></div>
		<div class="game_border_corner corner1"></div>
		<div class="game_border_corner corner2"></div>
		<div class="game_border_corner corner3"></div>
		<div class="game_border_corner corner4"></div>

	
        <div class="game_header bold" style="height:18px;">
            <div style="float:left; padding-right:10px;">Mensagens</div>
            <div class="btn_toggle_drag_drop">
		<div class="left"></div>
		<div class="right"></div>
		<div class="caption js-caption"><div class="effect js-effect"></div></div>
</div>
            <div style="float:left;padding-right:10px;">
                <a href="#" onclick="w(this).sendMessage('messageFilter', '0', 'all')" class="message_status message_status_all_active" id="message_status_all"></a><a href="#" onclick="w(this).sendMessage('messageFilter', '0', 'new')" class="message_status" id="message_status_new"></a><a href="#" onclick="w(this).sendMessage('messageFilter', '0', 'read')" class="message_status" id="message_status_read"></a><a href="#" onclick="w(this).sendMessage('messageFilter', '0', 'answered')" class="message_status" id="message_status_answered"></a>            </div>

            <div style="float:right;padding-right:10px;"></div>
        </div>

        <div id="folder_container">
            <div id="folder_toggle_menu" class="bold">
                <a href="#" onclick="Message.toggleMenu()">
                    <span class="folder_icon"></span>
                    Caixa de entrada                </a>
            </div>
            <div id="folder_menu_messages">
                <div class="hor_scrollbar_cont">
                    <input id="move_to_folder_id" name="move_to_folder_id" type="hidden" value="">
                                            <span id="no_folders">NÃ£o hÃ¡ outras pastas.</span>
                                                            <div style="clear:both"></div>
                </div>
            </div>
            <input name="message_form_folder_id" id="message_form_folder_id" type="hidden" value="0">
            <ul class="game_list" id="message_list" unselectable="on">
                    <li class="message_item odd bottom ui-draggable" unselectable="on">
        <div class="message_subject" unselectable="on">
            <a href="#" onclick="w(this).sendMessage('messageView', 175814, 'view');" unselectable="on">
                <span class="message_icon status_new">
                                            <span class="massmail">
                        </span>
                                    </span>
                APOIAR RAPACI            </a>
        </div>
        <div class="message_date small" unselectable="on">
            <span class="message_icon status_answered" unselectable="on"></span>
            <a href="#eyJuYW1lIjoiTGFzdCBLaW5nIiwiaWQiOjE4MTMwNDN9" class="gp_player_link">Last King</a> hoje Ã s 08:59 horas            <input type="checkbox" name="message_ids[]" value="175814">
        </div>
        <div style="clear:both;"></div>
    </li>
    <li class="message_item even bottom ui-draggable" unselectable="on">
        <div class="message_subject" unselectable="on">
            <a href="#" onclick="w(this).sendMessage('messageView', 175558, 'view');" unselectable="on">
                <span class="message_icon status_new">
                                            <span class="massmail">
                        </span>
                                    </span>
                S.O.S            </a>
        </div>
        <div class="message_date small" unselectable="on">
            <span class="message_icon status_answered" unselectable="on"></span>
            <a href="#eyJuYW1lIjoibW9pc2VzIHNqIiwiaWQiOjIyMDcxOTh9" class="gp_player_link">moises sj</a> hoje Ã s 08:51 horas            <input type="checkbox" name="message_ids[]" value="175558">
        </div>
        <div style="clear:both;"></div>
    </li>
    <li class="message_item odd bottom ui-draggable" unselectable="on">
        <div class="message_subject" unselectable="on">
            <a href="#" onclick="w(this).sendMessage('messageView', 175295, 'view');" unselectable="on">
                <span class="message_icon status_new">
                                            <span class="massmail">
                        </span>
                                    </span>
                ATACAR COM FAROIS RAPIDO            </a>
        </div>
        <div class="message_date small" unselectable="on">
            <span class="message_icon status_answered" unselectable="on"></span>
            <a href="#eyJuYW1lIjoibW9pc2VzIHNqIiwiaWQiOjIyMDcxOTh9" class="gp_player_link">moises sj</a> hoje Ã s 08:32 horas            <input type="checkbox" name="message_ids[]" value="175295">
        </div>
        <div style="clear:both;"></div>
    </li>
    <li class="message_item even bottom ui-draggable" unselectable="on">
        <div class="message_subject" unselectable="on">
            <a href="#" onclick="w(this).sendMessage('messageView', 172839, 'view');" unselectable="on">
                <span class="message_icon status_read">
                                    </span>
                Boas            </a>
        </div>
        <div class="message_date small" unselectable="on">
            <span class="message_icon status_answered" unselectable="on"></span>
            <a href="#eyJuYW1lIjoiMTAwZmltIiwiaWQiOjE4NjM4ODB9" class="gp_player_link">100fim</a> hoje Ã s 08:27 horas            <input type="checkbox" name="message_ids[]" value="172839">
        </div>
        <div style="clear:both;"></div>
    </li>
    <li class="message_item odd bottom ui-draggable" unselectable="on">
        <div class="message_subject" unselectable="on">
            <a href="#" onclick="w(this).sendMessage('messageView', 174113, 'view');" unselectable="on">
                <span class="message_icon status_read">
                                            <span class="massmail">
                        </span>
                                    </span>
                PARABENS            </a>
        </div>
        <div class="message_date small" unselectable="on">
            <span class="message_icon status_answered" unselectable="on"></span>
            <a href="#eyJuYW1lIjoibW9pc2VzIHNqIiwiaWQiOjIyMDcxOTh9" class="gp_player_link">moises sj</a> hoje Ã s 02:21 horas            <input type="checkbox" name="message_ids[]" value="174113">
        </div>
        <div style="clear:both;"></div>
    </li>
    <li class="message_item even bottom ui-draggable" unselectable="on">
        <div class="message_subject" unselectable="on">
            <a href="#" onclick="w(this).sendMessage('messageView', 173603, 'view');" unselectable="on">
                <span class="message_icon status_read">
                                            <span class="massmail">
                        </span>
                                    </span>
                APOIO VENUS            </a>
        </div>
        <div class="message_date small" unselectable="on">
            <span class="message_icon status_answered" unselectable="on"></span>
            <a href="#eyJuYW1lIjoicGVyZmlsIiwiaWQiOjQxMzkxN30=" class="gp_player_link">perfil</a> hoje Ã s 01:36 horas            <input type="checkbox" name="message_ids[]" value="173603">
        </div>
        <div style="clear:both;"></div>
    </li>
    <li class="message_item odd bottom ui-draggable" unselectable="on">
        <div class="message_subject" unselectable="on">
            <a href="#" onclick="w(this).sendMessage('messageView', 172735, 'view');" unselectable="on">
                <span class="message_icon status_read">
                                    </span>
                Boas            </a>
        </div>
        <div class="message_date small" unselectable="on">
            <span class="message_icon status_answered" unselectable="on"></span>
            <a href="#eyJuYW1lIjoicHV4YXB1eGEiLCJpZCI6MjE3NjE5MH0=" class="gp_player_link">puxapuxa</a> a 22/03/20 Ã s 23:44            <input type="checkbox" name="message_ids[]" value="172735">
        </div>
        <div style="clear:both;"></div>
    </li>
    <li class="message_item even bottom ui-draggable" unselectable="on">
        <div class="message_subject" unselectable="on">
            <a href="#" onclick="w(this).sendMessage('messageView', 170219, 'view');" unselectable="on">
                <span class="message_icon status_answered">
                                    </span>
                Boas            </a>
        </div>
        <div class="message_date small" unselectable="on">
            <span class="message_icon status_read" unselectable="on"></span>
            <a href="#eyJuYW1lIjoiWElOREVMRSIsImlkIjoyMjAxMTQ3fQ==" class="gp_player_link">XINDELE</a> a 22/03/20 Ã s 22:52            <input type="checkbox" name="message_ids[]" value="170219">
        </div>
        <div style="clear:both;"></div>
    </li>
    <li class="message_item odd bottom ui-draggable" unselectable="on">
        <div class="message_subject" unselectable="on">
            <a href="#" onclick="w(this).sendMessage('messageView', 173120, 'view');" unselectable="on">
                <span class="message_icon status_read">
                                            <span class="massmail">
                        </span>
                                    </span>
                APOIAR VEM ATK            </a>
        </div>
        <div class="message_date small" unselectable="on">
            <span class="message_icon status_answered" unselectable="on"></span>
            <a href="#eyJuYW1lIjoiU000UlRTIiwiaWQiOjE5MTg3MTJ9" class="gp_player_link">SM4RTS</a> a 22/03/20 Ã s 22:33            <input type="checkbox" name="message_ids[]" value="173120">
        </div>
        <div style="clear:both;"></div>
    </li>
    <li class="message_item even bottom ui-draggable" unselectable="on">
        <div class="message_subject" unselectable="on">
            <a href="#" onclick="w(this).sendMessage('messageView', 172832, 'view');" unselectable="on">
                <span class="message_icon status_read">
                                            <span class="massmail">
                        </span>
                                    </span>
                APOIOS            </a>
        </div>
        <div class="message_date small" unselectable="on">
            <span class="message_icon status_answered" unselectable="on"></span>
            <a href="#eyJuYW1lIjoiVGhlUHVuaGlzM3IiLCJpZCI6MjE2OTAzNH0=" class="gp_player_link">ThePunhis3r</a> a 22/03/20 Ã s 21:49            <input type="checkbox" name="message_ids[]" value="172832">
        </div>
        <div style="clear:both;"></div>
    </li>
    <li class="message_item odd bottom ui-draggable" unselectable="on">
        <div class="message_subject" unselectable="on">
            <a href="#" onclick="w(this).sendMessage('messageView', 83267, 'view');" unselectable="on">
                <span class="message_icon status_read">
                                    </span>
                cidades            </a>
        </div>
        <div class="message_date small" unselectable="on">
            <span class="message_icon status_answered" unselectable="on"></span>
            <a href="#eyJuYW1lIjoicHV4YXB1eGEiLCJpZCI6MjE3NjE5MH0=" class="gp_player_link">puxapuxa</a> a 22/03/20 Ã s 21:39            <input type="checkbox" name="message_ids[]" value="83267">
        </div>
        <div style="clear:both;"></div>
    </li>
    <li class="message_item even bottom ui-draggable" unselectable="on">
        <div class="message_subject" unselectable="on">
            <a href="#" onclick="w(this).sendMessage('messageView', 166653, 'view');" unselectable="on">
                <span class="message_icon status_read">
                                    </span>
                ATENÃÃO            </a>
        </div>
        <div class="message_date small" unselectable="on">
            <span class="message_icon status_answered" unselectable="on"></span>
            <a href="#eyJuYW1lIjoiMTAwZmltIiwiaWQiOjE4NjM4ODB9" class="gp_player_link">100fim</a> a 22/03/20 Ã s 21:25            <input type="checkbox" name="message_ids[]" value="166653">
        </div>
        <div style="clear:both;"></div>
    </li>
    <li class="message_item odd bottom ui-draggable" unselectable="on">
        <div class="message_subject" unselectable="on">
            <a href="#" onclick="w(this).sendMessage('messageView', 172002, 'view');" unselectable="on">
                <span class="message_icon status_read">
                                            <span class="massmail">
                        </span>
                                    </span>
                BIGAS E PARONAS            </a>
        </div>
        <div class="message_date small" unselectable="on">
            <span class="message_icon status_answered" unselectable="on"></span>
            <a href="#eyJuYW1lIjoibW9pc2VzIHNqIiwiaWQiOjIyMDcxOTh9" class="gp_player_link">moises sj</a> a 22/03/20 Ã s 19:12            <input type="checkbox" name="message_ids[]" value="172002">
        </div>
        <div style="clear:both;"></div>
    </li>
    <li class="message_item even bottom ui-draggable" unselectable="on">
        <div class="message_subject" unselectable="on">
            <a href="#" onclick="w(this).sendMessage('messageView', 171582, 'view');" unselectable="on">
                <span class="message_icon status_read">
                                            <span class="massmail">
                        </span>
                                    </span>
                nc a caminho 45            </a>
        </div>
        <div class="message_date small" unselectable="on">
            <span class="message_icon status_answered" unselectable="on"></span>
            <a href="#eyJuYW1lIjoibW9pc2VzIHNqIiwiaWQiOjIyMDcxOTh9" class="gp_player_link">moises sj</a> a 22/03/20 Ã s 18:52            <input type="checkbox" name="message_ids[]" value="171582">
        </div>
        <div style="clear:both;"></div>
    </li>
    <li class="message_item odd bottom ui-draggable" unselectable="on">
        <div class="message_subject" unselectable="on">
            <a href="#" onclick="w(this).sendMessage('messageView', 171217, 'view');" unselectable="on">
                <span class="message_icon status_read">
                                            <span class="massmail">
                        </span>
                                    </span>
                CERCO VENUS            </a>
        </div>
        <div class="message_date small" unselectable="on">
            <span class="message_icon status_answered" unselectable="on"></span>
            <a href="#eyJuYW1lIjoiQVJEUkFHT04iLCJpZCI6MTc0MjE0NX0=" class="gp_player_link">ARDRAGON</a> a 22/03/20 Ã s 17:56            <input type="checkbox" name="message_ids[]" value="171217">
        </div>
        <div style="clear:both;"></div>
    </li>
    <li class="message_item even bottom ui-draggable" unselectable="on">
        <div class="message_subject" unselectable="on">
            <a href="#" onclick="w(this).sendMessage('messageView', 170544, 'view');" unselectable="on">
                <span class="message_icon status_read">
                                            <span class="massmail">
                        </span>
                                    </span>
                COORDENADO            </a>
        </div>
        <div class="message_date small" unselectable="on">
            <span class="message_icon status_answered" unselectable="on"></span>
            <a href="#eyJuYW1lIjoibW9pc2VzIHNqIiwiaWQiOjIyMDcxOTh9" class="gp_player_link">moises sj</a> a 22/03/20 Ã s 16:59            <input type="checkbox" name="message_ids[]" value="170544">
        </div>
        <div style="clear:both;"></div>
    </li>
    <li class="message_item odd bottom ui-draggable" unselectable="on">
        <div class="message_subject" unselectable="on">
            <a href="#" onclick="w(this).sendMessage('messageView', 170172, 'view');" unselectable="on">
                <span class="message_icon status_read">
                                            <span class="massmail">
                        </span>
                                    </span>
                venus murro 16            </a>
        </div>
        <div class="message_date small" unselectable="on">
            <span class="message_icon status_answered" unselectable="on"></span>
            <a href="#eyJuYW1lIjoibW9pc2VzIHNqIiwiaWQiOjIyMDcxOTh9" class="gp_player_link">moises sj</a> a 22/03/20 Ã s 15:56            <input type="checkbox" name="message_ids[]" value="170172">
        </div>
        <div style="clear:both;"></div>
    </li>
    <li class="message_item even bottom ui-draggable" unselectable="on">
        <div class="message_subject" unselectable="on">
            <a href="#" onclick="w(this).sendMessage('messageView', 169884, 'view');" unselectable="on">
                <span class="message_icon status_read">
                                            <span class="massmail">
                        </span>
                                    </span>
                CERCOS            </a>
        </div>
        <div class="message_date small" unselectable="on">
            <span class="message_icon status_answered" unselectable="on"></span>
            <a href="#eyJuYW1lIjoicGVyZmlsIiwiaWQiOjQxMzkxN30=" class="gp_player_link">perfil</a> a 22/03/20 Ã s 15:34            <input type="checkbox" name="message_ids[]" value="169884">
        </div>
        <div style="clear:both;"></div>
    </li>
    <li class="message_item odd bottom ui-draggable" unselectable="on">
        <div class="message_subject" unselectable="on">
            <a href="#" onclick="w(this).sendMessage('messageView', 169793, 'view');" unselectable="on">
                <span class="message_icon status_read">
                                            <span class="massmail">
                        </span>
                                    </span>
                CERCO VENUS            </a>
        </div>
        <div class="message_date small" unselectable="on">
            <span class="message_icon status_answered" unselectable="on"></span>
            <a href="#eyJuYW1lIjoicGVyZmlsIiwiaWQiOjQxMzkxN30=" class="gp_player_link">perfil</a> a 22/03/20 Ã s 15:29            <input type="checkbox" name="message_ids[]" value="169793">
        </div>
        <div style="clear:both;"></div>
    </li>
    <li class="message_item even bottom ui-draggable" unselectable="on">
        <div class="message_subject" unselectable="on">
            <a href="#" onclick="w(this).sendMessage('messageView', 169429, 'view');" unselectable="on">
                <span class="message_icon status_read">
                                            <span class="massmail">
                        </span>
                                    </span>
                55.03            </a>
        </div>
        <div class="message_date small" unselectable="on">
            <span class="message_icon status_answered" unselectable="on"></span>
            <a href="#eyJuYW1lIjoiZGlvZ29sIiwiaWQiOjg5NzE4fQ==" class="gp_player_link">diogol</a> a 22/03/20 Ã s 14:47            <input type="checkbox" name="message_ids[]" value="169429">
        </div>
        <div style="clear:both;"></div>
    </li>
    <li class="message_item odd bottom ui-draggable" unselectable="on">
        <div class="message_subject" unselectable="on">
            <a href="#" onclick="w(this).sendMessage('messageView', 169339, 'view');" unselectable="on">
                <span class="message_icon status_read">
                                            <span class="massmail">
                        </span>
                                    </span>
                INFO            </a>
        </div>
        <div class="message_date small" unselectable="on">
            <span class="message_icon status_answered" unselectable="on"></span>
            <a href="#eyJuYW1lIjoicGVyZmlsIiwiaWQiOjQxMzkxN30=" class="gp_player_link">perfil</a> a 22/03/20 Ã s 14:43            <input type="checkbox" name="message_ids[]" value="169339">
        </div>
        <div style="clear:both;"></div>
    </li>
    <li class="message_item even bottom ui-draggable" unselectable="on">
        <div class="message_subject" unselectable="on">
            <a href="#" onclick="w(this).sendMessage('messageView', 169237, 'view');" unselectable="on">
                <span class="message_icon status_read">
                                            <span class="massmail">
                        </span>
                                    </span>
                VENUS APOIAR            </a>
        </div>
        <div class="message_date small" unselectable="on">
            <span class="message_icon status_answered" unselectable="on"></span>
            <a href="#eyJuYW1lIjoicGVyZmlsIiwiaWQiOjQxMzkxN30=" class="gp_player_link">perfil</a> a 22/03/20 Ã s 14:31            <input type="checkbox" name="message_ids[]" value="169237">
        </div>
        <div style="clear:both;"></div>
    </li>
    <li class="message_item odd bottom ui-draggable" unselectable="on">
        <div class="message_subject" unselectable="on">
            <a href="#" onclick="w(this).sendMessage('messageView', 169149, 'view');" unselectable="on">
                <span class="message_icon status_read">
                                            <span class="massmail">
                        </span>
                                    </span>
                VÃ©nus / 55            </a>
        </div>
        <div class="message_date small" unselectable="on">
            <span class="message_icon status_answered" unselectable="on"></span>
            <a href="#eyJuYW1lIjoiZGlvZ29sIiwiaWQiOjg5NzE4fQ==" class="gp_player_link">diogol</a> a 22/03/20 Ã s 14:29            <input type="checkbox" name="message_ids[]" value="169149">
        </div>
        <div style="clear:both;"></div>
    </li>
    <li class="message_item even bottom ui-draggable" unselectable="on">
        <div class="message_subject" unselectable="on">
            <a href="#" onclick="w(this).sendMessage('messageView', 168934, 'view');" unselectable="on">
                <span class="message_icon status_read">
                                            <span class="massmail">
                        </span>
                                    </span>
                COORDENADO            </a>
        </div>
        <div class="message_date small" unselectable="on">
            <span class="message_icon status_answered" unselectable="on"></span>
            <a href="#eyJuYW1lIjoibW9pc2VzIHNqIiwiaWQiOjIyMDcxOTh9" class="gp_player_link">moises sj</a> a 22/03/20 Ã s 13:34            <input type="checkbox" name="message_ids[]" value="168934">
        </div>
        <div style="clear:both;"></div>
    </li>
    <li class="message_item odd bottom ui-draggable" unselectable="on">
        <div class="message_subject" unselectable="on">
            <a href="#" onclick="w(this).sendMessage('messageView', 168588, 'view');" unselectable="on">
                <span class="message_icon status_read">
                                            <span class="massmail">
                        </span>
                                    </span>
                stop apoios            </a>
        </div>
        <div class="message_date small" unselectable="on">
            <span class="message_icon status_answered" unselectable="on"></span>
            <a href="#eyJuYW1lIjoiTGFzdCBLaW5nIiwiaWQiOjE4MTMwNDN9" class="gp_player_link">Last King</a> a 22/03/20 Ã s 13:31            <input type="checkbox" name="message_ids[]" value="168588">
        </div>
        <div style="clear:both;"></div>
    </li>
                            </ul>

        </div>

        <div class="game_list_footer">
            <div id="es_page_messages">
				<div style="float:left;">
					<label for="page">PÃ¡gina:</label><span class="grepo_input">
			<span class="left">
				<span class="right">
					<input type="text" class="es_page_input" value="1" name="page" size="2" tabindex="1">
				</span>
			</span>
		</span> / <span class="es_last_page">8</span>
				</div>
				<a id="es_33748" href="#" class="jump_button" style="margin-left:5px;"></a>
			</div>
			<script>
				$("#es_33748").click(function() {
					EndlessScroll.jumpToPage(es_data[w(this).getID()], "es_page_messages", "gpwnd_" + w(this).getID(), true)
					return false;
				});
			</script>            <label style="position: relative; float: right;">Selecionar tudo                <input type="checkbox" onclick="Message.markAll(this.checked);">
            </label>
        </div>

        
		</div>
	
    </form>
    <div class="button_area">
        <a class="button " href="#" onclick="w(this).sendMessage('submitForm', 'message_form', 'delete')">
		<span class="left"><span class="right">
		<span class="middle">Eliminar</span>
		</span></span>
		<span style="clear:both;"></span>
	</a>        <a class="button " href="#" onclick="Message.deleteAllMessages()">
		<span class="left"><span class="right">
		<span class="middle">Eliminar tudo</span>
		</span></span>
		<span style="clear:both;"></span>
	</a>        <a class="button " href="#" onclick="w(this).sendMessage('messageMarkAsReadMany', 'message_form')">
		<span class="left"><span class="right">
		<span class="middle">Lida</span>
		</span></span>
		<span style="clear:both;"></span>
	</a>        <a class="button " href="#" onclick="w(this).sendMessage('messageFolderAsRead', 'message_form')">
		<span class="left"><span class="right">
		<span class="middle">Marcar tudo como lido</span>
		</span></span>
		<span style="clear:both;"></span>
	</a>    </div>
</div>
<script type="text/javascript">
    //<![CDATA[
    (function (global) {
        var window_handle = w(document.getElementById('message_list'));
        if (!global.es_data) {
            global.es_data = {};
        }
        global.es_data[window_handle.getID()] = {
            elem_id: 'message_list',
            controller: 'message',
            action: 'index',
            limit: 25,
            window_handle: window_handle,
            first_element: 0,
            last_element: 176,
            es_args: 0,
            ttl: 1800,
            es_pagination_id: 'es_page_messages',
            callback: Message.initiateDragAndDrop
        };

        $(document).ready(function () {

            MessageEndlessScroll = new GPEndlessScroll(global.es_data[window_handle.getID()]);

            $('#message_status_all').tooltip('Todas as mensagens');
            $('#message_status_new').tooltip('Novas mensagens');
            $('#message_status_read').tooltip('Mensagens lidas');
            $('#message_status_answered').tooltip('Mensagens respondidas');
            $('a.folder_move_button').tooltip('Mover mensagens selecionadas para aqui');

            $('span.status_new').tooltip('nÃ£o lida');
            $('span.status_read').tooltip('lida');
            $('span.status_answered').tooltip('respondida');
            $('span.massmail').tooltip('Correio em massa');
        });
    }(this));

    //]]>
</script>
</div></div></div></div></body></html>